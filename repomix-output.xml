This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
.gitignore
docs/01-product/09-ux/mockups/README.md
docs/01-product/09-ux/wireframes/05-menu-management.excalidraw
docs/01-product/09-ux/wireframes/07-cart-checkout.excalidraw
docs/01-product/09-ux/wireframes/12-error-empty-state.excalidraw
docs/01-product/09-ux/wireframes/FR-1-001-tenant-signup-legacy.excalidraw
docs/01-product/09-ux/wireframes/FR-1-001-tenant-signup.excalidraw
docs/01-product/09-ux/wireframes/FR-1-002-email-verification.excalidraw
docs/01-product/09-ux/wireframes/FR-1-003-onboarding-wizard-legacy.excalidraw
docs/01-product/09-ux/wireframes/FR-1-003-onboarding-wizard.excalidraw
docs/01-product/09-ux/wireframes/FR-1-004-tenant-profile-management-legacy.excalidraw
docs/01-product/09-ux/wireframes/FR-1-004-tenant-profile-management.excalidraw
docs/01-product/09-ux/wireframes/FR-10-001-admin-login.excalidraw
docs/01-product/09-ux/wireframes/FR-2-001-create-menu-categories.excalidraw
docs/01-product/09-ux/wireframes/FR-2-001-menu-management-legacy.excalidraw
docs/01-product/09-ux/wireframes/FR-2-002-create-menu-items.excalidraw
docs/01-product/09-ux/wireframes/FR-2-003-update-delete-menu-items.excalidraw
docs/01-product/09-ux/wireframes/FR-2-004-menu-item-modifiers.excalidraw
docs/01-product/09-ux/wireframes/FR-2-005-menu-availability-toggle.excalidraw
docs/01-product/09-ux/wireframes/FR-3-001-add-tables.excalidraw
docs/01-product/09-ux/wireframes/FR-3-002-generate-qr-codes.excalidraw
docs/01-product/09-ux/wireframes/FR-3-003-download-print-qr-codes.excalidraw
docs/01-product/09-ux/wireframes/FR-3-004-regenerate-qr-codes.excalidraw
docs/01-product/09-ux/wireframes/FR-4-001-customer-menu-legacy.excalidraw
docs/01-product/09-ux/wireframes/FR-4-001-scan-qr-load-menu.excalidraw
docs/01-product/09-ux/wireframes/FR-4-002-add-items-to-cart.excalidraw
docs/01-product/09-ux/wireframes/FR-4-003-customize-items-modifiers.excalidraw
docs/01-product/09-ux/wireframes/FR-4-004-cart-checkout-legacy.excalidraw
docs/01-product/09-ux/wireframes/FR-4-004-cart-checkout.excalidraw
docs/01-product/09-ux/wireframes/FR-5-004-error-empty-state-legacy.excalidraw
docs/01-product/09-ux/wireframes/FR-5-004-error-empty-state.excalidraw
docs/01-product/09-ux/wireframes/FR-6-001-kds-legacy.excalidraw
docs/01-product/09-ux/wireframes/FR-6-001-kds.excalidraw
docs/01-product/09-ux/wireframes/FR-7-001-staff-management-legacy.excalidraw
docs/01-product/09-ux/wireframes/FR-7-001-staff-management.excalidraw
docs/01-product/09-ux/wireframes/FR-8-001-analytics-dashboard-legacy.excalidraw
docs/01-product/09-ux/wireframes/FR-8-001-analytics-dashboard.excalidraw
docs/01-product/09-ux/wireframes/FR-9-001-order-status-tracking-legacy.excalidraw
docs/01-product/09-ux/wireframes/FR-9-001-order-status-tracking.excalidraw
docs/01-product/09-ux/wireframes/README.md
docs/01-product/diagrams/README.md
docs/01-product/MEETINGS/README.md
docs/01-product/README.md
docs/02-api/openapi.yaml
README.md
src/backend/api-gateway/.env.example
src/backend/api-gateway/.gitignore
src/backend/api-gateway/.prettierrc
src/backend/api-gateway/eslint.config.mjs
src/backend/api-gateway/nest-cli.json
src/backend/api-gateway/package.json
src/backend/api-gateway/README.md
src/backend/api-gateway/src/app.controller.spec.ts
src/backend/api-gateway/src/app.controller.ts
src/backend/api-gateway/src/app.module.ts
src/backend/api-gateway/src/app.service.ts
src/backend/api-gateway/src/common/filters/global-exception.filter.ts
src/backend/api-gateway/src/common/filters/index.ts
src/backend/api-gateway/src/common/filters/rpc-exception.filter.ts
src/backend/api-gateway/src/common/guards/check-role/check-role.guard.spec.ts
src/backend/api-gateway/src/common/guards/check-role/check-role.guard.ts
src/backend/api-gateway/src/common/guards/get-role/auth.guard.ts
src/backend/api-gateway/src/common/guards/index.ts
src/backend/api-gateway/src/common/index.ts
src/backend/api-gateway/src/common/interceptors/index.ts
src/backend/api-gateway/src/common/interceptors/transform-response.interceptor.ts
src/backend/api-gateway/src/common/logger.ts
src/backend/api-gateway/src/common/middleware/index.ts
src/backend/api-gateway/src/common/middleware/logger/logger.middleware.spec.ts
src/backend/api-gateway/src/common/middleware/logger/logger.middleware.ts
src/backend/api-gateway/src/common/middleware/rate-limit/rate-limit.middleware.spec.ts
src/backend/api-gateway/src/common/middleware/rate-limit/rate-limit.middleware.ts
src/backend/api-gateway/src/common/types/express.d.ts
src/backend/api-gateway/src/main.ts
src/backend/api-gateway/src/services/identity/identity.controller.spec.ts
src/backend/api-gateway/src/services/identity/identity.controller.ts
src/backend/api-gateway/src/services/product/product.controller.ts
src/backend/api-gateway/src/services/profile/profile.controller.spec.ts
src/backend/api-gateway/src/services/profile/profile.controller.ts
src/backend/api-gateway/src/services/table/table.controller.spec.ts
src/backend/api-gateway/src/services/table/table.controller.ts
src/backend/api-gateway/test/app.e2e-spec.ts
src/backend/api-gateway/test/jest-e2e.json
src/backend/api-gateway/tsconfig.build.json
src/backend/api-gateway/tsconfig.json
src/backend/identity/.env.example
src/backend/identity/.gitignore
src/backend/identity/.prettierrc
src/backend/identity/eslint.config.mjs
src/backend/identity/migrations/update-remove-token-table.sql
src/backend/identity/nest-cli.json
src/backend/identity/package.json
src/backend/identity/README.md
src/backend/identity/src/app.controller.spec.ts
src/backend/identity/src/app.controller.ts
src/backend/identity/src/app.module.ts
src/backend/identity/src/app.service.ts
src/backend/identity/src/auth/auth.controller.spec.ts
src/backend/identity/src/auth/auth.controller.ts
src/backend/identity/src/auth/auth.module.ts
src/backend/identity/src/auth/auth.service.spec.ts
src/backend/identity/src/auth/auth.service.ts
src/backend/identity/src/auth/dtos/request/auth-me-request.dto.ts
src/backend/identity/src/auth/dtos/request/login-auth-request.dto.ts
src/backend/identity/src/auth/dtos/request/logout-auth.request.dto.ts
src/backend/identity/src/auth/dtos/request/refresh-token-request.dto.ts
src/backend/identity/src/auth/dtos/request/validate-token-request.dto.ts
src/backend/identity/src/auth/dtos/response/login-auth-response.dto.ts
src/backend/identity/src/auth/dtos/response/refresh-token-response.dto.ts
src/backend/identity/src/auth/dtos/response/validate-token-response.dto.ts
src/backend/identity/src/authorities/authorities.controller.spec.ts
src/backend/identity/src/authorities/authorities.controller.ts
src/backend/identity/src/authorities/authorities.module.ts
src/backend/identity/src/authorities/authorities.service.spec.ts
src/backend/identity/src/authorities/authorities.service.ts
src/backend/identity/src/authorities/dtos/request/create-authority-request.dto.ts
src/backend/identity/src/authorities/dtos/request/get-all-authorities-request.dto.ts
src/backend/identity/src/authorities/dtos/response/create-authority-response.dto.ts
src/backend/identity/src/authorities/dtos/response/get-authority-response.dto.ts
src/backend/identity/src/common/config/index.ts
src/backend/identity/src/common/config/jwt.config.module.ts
src/backend/identity/src/common/decorators/decorator-function/match-password.decorator.ts
src/backend/identity/src/common/decorators/index.ts
src/backend/identity/src/common/decorators/validation-constraint/match-password.validation-constraint.ts
src/backend/identity/src/common/entities/authority.ts
src/backend/identity/src/common/entities/index.ts
src/backend/identity/src/common/entities/remove-token.ts
src/backend/identity/src/common/entities/role.ts
src/backend/identity/src/common/entities/user.ts
src/backend/identity/src/common/filters/catch-app-exception/catch-app-exception.filter.spec.ts
src/backend/identity/src/common/filters/catch-app-exception/catch-app-exception.filter.ts
src/backend/identity/src/common/filters/global-exception/global-exception.filter.spec.ts
src/backend/identity/src/common/filters/global-exception/global-exception.filter.ts
src/backend/identity/src/common/filters/index.ts
src/backend/identity/src/common/index.ts
src/backend/identity/src/common/README.md
src/backend/identity/src/main.ts
src/backend/identity/src/roles/dtos/request/create-role-request.dto.ts
src/backend/identity/src/roles/dtos/request/get-all-roles-request.dto.ts
src/backend/identity/src/roles/dtos/response/create-role-response.dto.ts
src/backend/identity/src/roles/dtos/response/get-role-response.dto.ts
src/backend/identity/src/roles/roles.controller.spec.ts
src/backend/identity/src/roles/roles.controller.ts
src/backend/identity/src/roles/roles.module.ts
src/backend/identity/src/roles/roles.service.spec.ts
src/backend/identity/src/roles/roles.service.ts
src/backend/identity/src/users/dtos/request/get-all-users-request.dto.ts
src/backend/identity/src/users/dtos/request/get-user-by-id-request.dto.ts
src/backend/identity/src/users/dtos/request/profile/modify-profile-request.dto.ts
src/backend/identity/src/users/dtos/request/register-user-request.dto.ts
src/backend/identity/src/users/dtos/request/register-user-with-profile-request.dto.ts
src/backend/identity/src/users/dtos/response/get-user-response.dto.ts
src/backend/identity/src/users/dtos/response/register-user-response.dto.ts
src/backend/identity/src/users/users.controller.spec.ts
src/backend/identity/src/users/users.controller.ts
src/backend/identity/src/users/users.module.ts
src/backend/identity/src/users/users.service.spec.ts
src/backend/identity/src/users/users.service.ts
src/backend/identity/test/app.e2e-spec.ts
src/backend/identity/test/jest-e2e.json
src/backend/identity/tsconfig.build.json
src/backend/identity/tsconfig.json
src/backend/product/.env.example
src/backend/product/.gitignore
src/backend/product/.prettierrc
src/backend/product/eslint.config.mjs
src/backend/product/nest-cli.json
src/backend/product/package.json
src/backend/product/README.md
src/backend/product/src/app.controller.spec.ts
src/backend/product/src/app.controller.ts
src/backend/product/src/app.module.ts
src/backend/product/src/app.service.ts
src/backend/product/src/category/category.controller.ts
src/backend/product/src/category/category.module.ts
src/backend/product/src/category/category.service.ts
src/backend/product/src/category/dtos/request/create-category-request.dto.ts
src/backend/product/src/category/dtos/request/delete-category-request.dto.ts
src/backend/product/src/category/dtos/request/get-categories-request.dto.ts
src/backend/product/src/category/dtos/request/index.ts
src/backend/product/src/category/dtos/request/publish-category-request.dto.ts
src/backend/product/src/category/dtos/request/update-category-request.dto.ts
src/backend/product/src/category/dtos/response/category-response.dto.ts
src/backend/product/src/common/entities/index.ts
src/backend/product/src/common/entities/menu-category.entity.ts
src/backend/product/src/common/entities/menu-item.entity.ts
src/backend/product/src/common/entities/modifier-option.entity.ts
src/backend/product/src/common/filters/catch-app-exception/catch-app-exception.filter.ts
src/backend/product/src/common/filters/global-exception/global-exception.filter.ts
src/backend/product/src/common/filters/index.ts
src/backend/product/src/common/index.ts
src/backend/product/src/item/dtos/request/add-modifiers-request.dto.ts
src/backend/product/src/item/dtos/request/create-item-request.dto.ts
src/backend/product/src/item/dtos/request/delete-item-request.dto.ts
src/backend/product/src/item/dtos/request/get-items-request.dto.ts
src/backend/product/src/item/dtos/request/index.ts
src/backend/product/src/item/dtos/request/publish-item-request.dto.ts
src/backend/product/src/item/dtos/request/update-item-request.dto.ts
src/backend/product/src/item/dtos/response/item-response.dto.ts
src/backend/product/src/item/item.controller.ts
src/backend/product/src/item/item.module.ts
src/backend/product/src/item/item.service.ts
src/backend/product/src/main.ts
src/backend/product/src/public/dtos/request/get-public-menu-request.dto.ts
src/backend/product/src/public/dtos/response/public-menu-response.dto.ts
src/backend/product/src/public/public.controller.ts
src/backend/product/src/public/public.module.ts
src/backend/product/src/public/public.service.ts
src/backend/product/test/app.e2e-spec.ts
src/backend/product/test/jest-e2e.json
src/backend/product/tsconfig.build.json
src/backend/product/tsconfig.json
src/backend/profile/.env.example
src/backend/profile/.gitignore
src/backend/profile/.prettierrc
src/backend/profile/eslint.config.mjs
src/backend/profile/nest-cli.json
src/backend/profile/package.json
src/backend/profile/src/app.controller.spec.ts
src/backend/profile/src/app.controller.ts
src/backend/profile/src/app.module.ts
src/backend/profile/src/app.service.ts
src/backend/profile/src/common/entities/index.ts
src/backend/profile/src/common/entities/profile.ts
src/backend/profile/src/common/filters/catch-app-exception/catch-app-exception.filter.spec.ts
src/backend/profile/src/common/filters/catch-app-exception/catch-app-exception.filter.ts
src/backend/profile/src/common/filters/global-exception/global-exception.filter.spec.ts
src/backend/profile/src/common/filters/global-exception/global-exception.filter.ts
src/backend/profile/src/common/filters/index.ts
src/backend/profile/src/common/index.ts
src/backend/profile/src/detail/detail.controller.spec.ts
src/backend/profile/src/detail/detail.controller.ts
src/backend/profile/src/detail/detail.module.ts
src/backend/profile/src/detail/detail.service.spec.ts
src/backend/profile/src/detail/detail.service.ts
src/backend/profile/src/detail/dtos/request/get-profile-request.dto.ts
src/backend/profile/src/detail/dtos/request/get-verified-state-request.dto.ts
src/backend/profile/src/detail/dtos/request/modify-profile-request.dto.ts
src/backend/profile/src/detail/dtos/response/get-profile-response.dto.ts
src/backend/profile/src/main.ts
src/backend/profile/test/app.e2e-spec.ts
src/backend/profile/test/jest-e2e.json
src/backend/profile/tsconfig.build.json
src/backend/profile/tsconfig.json
src/backend/service-diagram.excalidraw
src/backend/shared/package.json
src/backend/shared/src/exceptions/app-exception.d.ts
src/backend/shared/src/exceptions/app-exception.js
src/backend/shared/src/exceptions/app-exception.js.map
src/backend/shared/src/exceptions/app-exception.ts
src/backend/shared/src/exceptions/error-code.d.ts
src/backend/shared/src/exceptions/error-code.js
src/backend/shared/src/exceptions/error-code.js.map
src/backend/shared/src/exceptions/error-code.ts
src/backend/shared/src/exceptions/index.ts
src/backend/shared/src/index.ts
src/backend/shared/src/types/index.d.ts
src/backend/shared/src/types/index.js
src/backend/shared/src/types/index.js.map
src/backend/shared/src/types/index.ts
src/backend/shared/src/utils/enum.ts
src/backend/shared/src/utils/http-response.ts
src/backend/shared/src/utils/index.ts
src/backend/shared/src/utils/utils.ts
src/backend/table/.env.example
src/backend/table/.gitignore
src/backend/table/.prettierrc
src/backend/table/eslint.config.mjs
src/backend/table/nest-cli.json
src/backend/table/package.json
src/backend/table/README.md
src/backend/table/src/app.controller.spec.ts
src/backend/table/src/app.controller.ts
src/backend/table/src/app.module.ts
src/backend/table/src/app.service.ts
src/backend/table/src/common/entities/table.ts
src/backend/table/src/common/filters/catch-app-exception/catch-app-exception.filter.spec.ts
src/backend/table/src/common/filters/catch-app-exception/catch-app-exception.filter.ts
src/backend/table/src/common/filters/global-exception/global-exception.filter.spec.ts
src/backend/table/src/common/filters/global-exception/global-exception.filter.ts
src/backend/table/src/common/filters/index.ts
src/backend/table/src/item/item.controller.spec.ts
src/backend/table/src/item/item.controller.ts
src/backend/table/src/item/item.module.ts
src/backend/table/src/item/item.service.spec.ts
src/backend/table/src/item/item.service.ts
src/backend/table/src/main.ts
src/backend/table/test/app.e2e-spec.ts
src/backend/table/test/jest-e2e.json
src/backend/table/tsconfig.build.json
src/backend/table/tsconfig.json
src/frontend/.gitignore
src/frontend/.prettierrc
src/frontend/eslint.config.js
src/frontend/index.html
src/frontend/package.json
src/frontend/public/vite.svg
src/frontend/src/App.jsx
src/frontend/src/assets/react.svg
src/frontend/src/index.css
src/frontend/src/main.jsx
src/frontend/vite.config.js
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="docs/01-product/09-ux/mockups/README.md">
# Mockups

This folder contains high-fidelity mockups for the Unified Restaurant Ordering Platform. Mockups are detailed visual designs that show the final look and feel of each screen, including colors, typography, and UI components.

## How to Use
- Use mockups as the source of truth for frontend development.
- Review with stakeholders for visual approval before implementation.
- Link mockups in user stories, acceptance criteria, and sprint plans.

## Key Screens to Include
- Tenant Signup & Login
- Onboarding Wizard
- Menu Management
- Table & QR Management
- Customer Menu (QR Scan)
- Cart & Checkout
- Payment Flow
- Kitchen Display System (KDS)
- Analytics Dashboard
- Staff Management

## File Naming Convention
- `01-signup-mockup.png` or `01-signup-mockup.pdf` (use sequential numbers for ordering)
- Add a short description in the filename if needed

## Tools
- Figma, Sketch, Adobe XD, or exported images from design tools

---

Add new mockups to this folder and update this README as needed.
</file>

<file path="docs/01-product/09-ux/wireframes/05-menu-management.excalidraw">
{
  "type": "excalidraw",
  "version": 2,
  "source": "https://marketplace.visualstudio.com/items?itemName=pomdtr.excalidraw-editor",
  "elements": [
    {
      "type": "rectangle",
      "version": 2,
      "versionNonce": 2004701342,
      "isDeleted": false,
      "id": "menu-frame",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 100,
      "y": 60,
      "width": 600,
      "height": 500,
      "seed": 71,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "#ffffff",
      "index": "a0",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761992601737,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 4,
      "versionNonce": 1529106142,
      "isDeleted": false,
      "id": "title",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 177.2081298828125,
      "y": 80,
      "width": 445.583740234375,
      "height": 30,
      "seed": 72,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fontSize": 24,
      "fontFamily": 1,
      "text": "Unified Restaurant Ordering Platform",
      "textAlign": "center",
      "verticalAlign": "top",
      "baseline": 25,
      "index": "a1",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761992682466,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Unified Restaurant Ordering Platform",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "rectangle",
      "version": 4,
      "versionNonce": 1929743582,
      "isDeleted": false,
      "id": "logo",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 120,
      "y": 120,
      "width": 60,
      "height": 40,
      "seed": 73,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "#e0e0e0",
      "index": "a2",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761992601737,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 5,
      "versionNonce": 1401731074,
      "isDeleted": false,
      "id": "menu-label",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 260,
      "y": 130,
      "width": 180,
      "height": 24,
      "seed": 74,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fontSize": 20,
      "fontFamily": 1,
      "text": "Menu Management",
      "textAlign": "center",
      "verticalAlign": "top",
      "baseline": 18,
      "index": "a3",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761992601737,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Menu Management",
      "autoResize": true,
      "lineHeight": 1.2
    },
    {
      "type": "rectangle",
      "version": 6,
      "versionNonce": 45891870,
      "isDeleted": false,
      "id": "user-menu",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 520,
      "y": 120,
      "width": 100,
      "height": 40,
      "seed": 75,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "#e0e0e0",
      "index": "a4",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761992601737,
      "link": null,
      "locked": false
    },
    {
      "type": "rectangle",
      "version": 7,
      "versionNonce": 1190815682,
      "isDeleted": false,
      "id": "action-bar",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 120,
      "y": 170,
      "width": 500,
      "height": 40,
      "seed": 76,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "#f0f0f0",
      "index": "a5",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761992601737,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 8,
      "versionNonce": 168979806,
      "isDeleted": false,
      "id": "action-labels",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 140,
      "y": 180,
      "width": 460,
      "height": 20,
      "seed": 77,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Add Category   Add Item   Import CSV",
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 15,
      "index": "a6",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761992601737,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Add Category   Add Item   Import CSV",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "text",
      "version": 10,
      "versionNonce": 51843998,
      "isDeleted": false,
      "id": "categories-label",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 140,
      "y": 220,
      "width": 343.1517639160156,
      "height": 20,
      "seed": 78,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Categories: [Starters] [Mains] [Desserts]",
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 15,
      "index": "a7",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761992696096,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Categories: [Starters] [Mains] [Desserts]",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "rectangle",
      "version": 10,
      "versionNonce": 1448677790,
      "isDeleted": false,
      "id": "starters-box",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 140,
      "y": 250,
      "width": 220,
      "height": 80,
      "seed": 79,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "#e0e0e0",
      "index": "a8",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761992601737,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 11,
      "versionNonce": 615571266,
      "isDeleted": false,
      "id": "starters-label",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 150,
      "y": 260,
      "width": 200,
      "height": 60,
      "seed": 80,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fontSize": 14,
      "fontFamily": 1,
      "text": "Category: Starters\n- Garlic Bread   $5   [Edit] [Delete]\n- Soup          $6   [Edit] [Delete]",
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 12,
      "index": "a9",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761992601737,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Category: Starters\n- Garlic Bread   $5   [Edit] [Delete]\n- Soup          $6   [Edit] [Delete]",
      "autoResize": true,
      "lineHeight": 1.4285714285714286
    },
    {
      "type": "rectangle",
      "version": 12,
      "versionNonce": 1656827358,
      "isDeleted": false,
      "id": "mains-box",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 380,
      "y": 250,
      "width": 220,
      "height": 80,
      "seed": 81,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "#e0e0e0",
      "index": "aA",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761992601737,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 13,
      "versionNonce": 127379202,
      "isDeleted": false,
      "id": "mains-label",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 390,
      "y": 260,
      "width": 200,
      "height": 60,
      "seed": 82,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fontSize": 14,
      "fontFamily": 1,
      "text": "Category: Mains\n- Burger        $12  [Edit] [Delete]\n...",
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 12,
      "index": "aB",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761992601737,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Category: Mains\n- Burger        $12  [Edit] [Delete]\n...",
      "autoResize": true,
      "lineHeight": 1.4285714285714286
    }
  ],
  "appState": {
    "gridSize": 20,
    "gridStep": 5,
    "gridModeEnabled": false,
    "viewBackgroundColor": "#ffffff"
  },
  "files": {}
}
</file>

<file path="docs/01-product/09-ux/wireframes/07-cart-checkout.excalidraw">
{
  "type": "excalidraw",
  "version": 2,
  "source": "https://marketplace.visualstudio.com/items?itemName=pomdtr.excalidraw-editor",
  "elements": [
    {
      "type": "rectangle",
      "version": 2,
      "versionNonce": 863806057,
      "isDeleted": false,
      "id": "cart-frame",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 100,
      "y": 60,
      "width": 400,
      "height": 500,
      "seed": 201,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "#ffffff",
      "index": "a0",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761992711571,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 3,
      "versionNonce": 1239667879,
      "isDeleted": false,
      "id": "title",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 180,
      "y": 80,
      "width": 240,
      "height": 30,
      "seed": 202,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fontSize": 24,
      "fontFamily": 1,
      "text": "Cart & Checkout",
      "textAlign": "center",
      "verticalAlign": "top",
      "baseline": 25,
      "index": "a1",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761992711571,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Cart & Checkout",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "rectangle",
      "version": 4,
      "versionNonce": 376335689,
      "isDeleted": false,
      "id": "cart-list",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 120,
      "y": 130,
      "width": 360,
      "height": 200,
      "seed": 203,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "#e0e0e0",
      "index": "a2",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761992711571,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 5,
      "versionNonce": 535865287,
      "isDeleted": false,
      "id": "cart-items-label",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 140,
      "y": 140,
      "width": 320,
      "height": 80,
      "seed": 204,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fontSize": 14,
      "fontFamily": 1,
      "text": "- Burger   $12   [Remove]\n- Soup     $6    [Remove]",
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 12,
      "index": "a3",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761992711571,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "- Burger   $12   [Remove]\n- Soup     $6    [Remove]",
      "autoResize": true,
      "lineHeight": 2.857142857142857
    },
    {
      "type": "rectangle",
      "version": 6,
      "versionNonce": 312728617,
      "isDeleted": false,
      "id": "checkout-form",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 120,
      "y": 340,
      "width": 360,
      "height": 80,
      "seed": 205,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "#f0f0f0",
      "index": "a4",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761992711571,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 8,
      "versionNonce": 1401430665,
      "isDeleted": false,
      "id": "form-label",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 140,
      "y": 350,
      "width": 184.0299072265625,
      "height": 40,
      "seed": 206,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fontSize": 14,
      "fontFamily": 1,
      "text": "Name: ____________\nNotes: ___________",
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 12,
      "index": "a5",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761992717832,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Name: ____________\nNotes: ___________",
      "autoResize": true,
      "lineHeight": 1.4285714285714286
    },
    {
      "type": "rectangle",
      "version": 8,
      "versionNonce": 134770441,
      "isDeleted": false,
      "id": "checkout-btn",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 120,
      "y": 440,
      "width": 360,
      "height": 40,
      "seed": 207,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "#b3d9ff",
      "index": "a6",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761992711571,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 9,
      "versionNonce": 775987719,
      "isDeleted": false,
      "id": "checkout-label",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 260,
      "y": 450,
      "width": 80,
      "height": 20,
      "seed": 208,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Checkout",
      "textAlign": "center",
      "verticalAlign": "top",
      "baseline": 15,
      "index": "a7",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761992711571,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Checkout",
      "autoResize": true,
      "lineHeight": 1.25
    }
  ],
  "appState": {
    "gridSize": 20,
    "gridStep": 5,
    "gridModeEnabled": false,
    "viewBackgroundColor": "#ffffff"
  },
  "files": {}
}
</file>

<file path="docs/01-product/09-ux/wireframes/12-error-empty-state.excalidraw">
{
  "type": "excalidraw",
  "version": 2,
  "source": "https://marketplace.visualstudio.com/items?itemName=pomdtr.excalidraw-editor",
  "elements": [
    {
      "type": "rectangle",
      "version": 2,
      "versionNonce": 826258690,
      "isDeleted": false,
      "id": "error-frame",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 100,
      "y": 60,
      "width": 400,
      "height": 200,
      "seed": 701,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "#ffffff",
      "index": "a0",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761993244644,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 4,
      "versionNonce": 962864130,
      "isDeleted": false,
      "id": "title",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 153.69607543945312,
      "y": 100,
      "width": 292.60784912109375,
      "height": 30,
      "seed": 702,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fontSize": 24,
      "fontFamily": 1,
      "text": "No Menu Items Available",
      "textAlign": "center",
      "verticalAlign": "top",
      "baseline": 25,
      "index": "a1",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761993247629,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "No Menu Items Available",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "text",
      "version": 5,
      "versionNonce": 338676546,
      "isDeleted": false,
      "id": "desc",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 130.21609497070312,
      "y": 150,
      "width": 339.56781005859375,
      "height": 30,
      "seed": 703,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Please check back later or contact staff.",
      "textAlign": "center",
      "verticalAlign": "top",
      "baseline": 15,
      "index": "a2",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761993248979,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Please check back later or contact staff.",
      "autoResize": true,
      "lineHeight": 1.875
    }
  ],
  "appState": {
    "gridSize": 20,
    "gridStep": 5,
    "gridModeEnabled": false,
    "viewBackgroundColor": "#ffffff"
  },
  "files": {}
}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-1-001-tenant-signup-legacy.excalidraw">
{
  "type": "excalidraw",
  "version": 2,
  "source": "https://marketplace.visualstudio.com/items?itemName=pomdtr.excalidraw-editor",
  "elements": [
    {
      "type": "rectangle",
      "version": 2,
      "versionNonce": 748543767,
      "isDeleted": false,
      "id": "signup-frame",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 100,
      "y": 60,
      "width": 400,
      "height": 440,
      "seed": 11,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "#ffffff",
      "index": "a0",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761991330049,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 3,
      "versionNonce": 1543799257,
      "isDeleted": false,
      "id": "title",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 180,
      "y": 80,
      "width": 240,
      "height": 30,
      "seed": 12,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fontSize": 24,
      "fontFamily": 1,
      "text": "Unified Restaurant Ordering Platform",
      "textAlign": "center",
      "verticalAlign": "top",
      "baseline": 25,
      "index": "a1",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761991330049,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Unified Restaurant Ordering Platform",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "rectangle",
      "version": 127,
      "versionNonce": 1169383681,
      "isDeleted": false,
      "id": "logo",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 239.60012817382812,
      "y": 116.80000305175781,
      "width": 100,
      "height": 40,
      "seed": 13,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "#e0e0e0",
      "index": "a2",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1763084390241,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 5,
      "versionNonce": 61398713,
      "isDeleted": false,
      "id": "signup-label",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 240,
      "y": 170,
      "width": 120,
      "height": 24,
      "seed": 14,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fontSize": 20,
      "fontFamily": 1,
      "text": "Tenant Signup",
      "textAlign": "center",
      "verticalAlign": "top",
      "baseline": 18,
      "index": "a3",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761991330049,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Tenant Signup",
      "autoResize": true,
      "lineHeight": 1.2
    },
    {
      "type": "rectangle",
      "version": 6,
      "versionNonce": 249840983,
      "isDeleted": false,
      "id": "email-input",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 180,
      "y": 210,
      "width": 240,
      "height": 40,
      "seed": 15,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "#e0e0e0",
      "index": "a4",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761991330049,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 7,
      "versionNonce": 1953406873,
      "isDeleted": false,
      "id": "email-label",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 190,
      "y": 220,
      "width": 120,
      "height": 20,
      "seed": 16,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Email Address",
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 15,
      "index": "a5",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761991330049,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Email Address",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "rectangle",
      "version": 8,
      "versionNonce": 1191150199,
      "isDeleted": false,
      "id": "restaurant-input",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 180,
      "y": 260,
      "width": 240,
      "height": 40,
      "seed": 17,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "#e0e0e0",
      "index": "a6",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761991330049,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 9,
      "versionNonce": 1284064377,
      "isDeleted": false,
      "id": "restaurant-label",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 190,
      "y": 270,
      "width": 140,
      "height": 20,
      "seed": 18,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Restaurant Name",
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 15,
      "index": "a7",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761991330049,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Restaurant Name",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "rectangle",
      "version": 10,
      "versionNonce": 251009943,
      "isDeleted": false,
      "id": "password-input",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 180,
      "y": 310,
      "width": 240,
      "height": 40,
      "seed": 19,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "#e0e0e0",
      "index": "a8",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761991330049,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 11,
      "versionNonce": 398216537,
      "isDeleted": false,
      "id": "password-label",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 190,
      "y": 320,
      "width": 120,
      "height": 20,
      "seed": 20,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Password",
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 15,
      "index": "a9",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761991330049,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Password",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "rectangle",
      "version": 12,
      "versionNonce": 184324279,
      "isDeleted": false,
      "id": "confirm-password-input",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 180,
      "y": 360,
      "width": 240,
      "height": 40,
      "seed": 21,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "#e0e0e0",
      "index": "aA",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761991330049,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 13,
      "versionNonce": 492517945,
      "isDeleted": false,
      "id": "confirm-password-label",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 190,
      "y": 370,
      "width": 160,
      "height": 20,
      "seed": 22,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Confirm Password",
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 15,
      "index": "aB",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761991330049,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Confirm Password",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "rectangle",
      "version": 14,
      "versionNonce": 1689739735,
      "isDeleted": false,
      "id": "signup-button",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 180,
      "y": 410,
      "width": 240,
      "height": 40,
      "seed": 23,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "#b3d9ff",
      "index": "aC",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761991330049,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 15,
      "versionNonce": 1850313497,
      "isDeleted": false,
      "id": "signup-btn-label",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 270,
      "y": 420,
      "width": 60,
      "height": 20,
      "seed": 24,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Sign Up",
      "textAlign": "center",
      "verticalAlign": "top",
      "baseline": 15,
      "index": "aD",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761991330049,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Sign Up",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "text",
      "version": 17,
      "versionNonce": 805295255,
      "isDeleted": false,
      "id": "login-link",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 190.8210906982422,
      "y": 470,
      "width": 218.35781860351562,
      "height": 20,
      "seed": 25,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fontSize": 14,
      "fontFamily": 1,
      "text": "Already have an account? Login",
      "textAlign": "center",
      "verticalAlign": "top",
      "baseline": 12,
      "index": "aE",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761991341680,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Already have an account? Login",
      "autoResize": true,
      "lineHeight": 1.4285714285714286
    }
  ],
  "appState": {
    "gridSize": 20,
    "gridStep": 5,
    "gridModeEnabled": false,
    "viewBackgroundColor": "#ffffff"
  },
  "files": {}
}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-1-001-tenant-signup.excalidraw">
{
  "type": "excalidraw",
  "version": 2,
  "source": "https://marketplace.visualstudio.com/items?itemName=pomdtr.excalidraw-editor",
  "elements": [
    {
      "type": "rectangle",
      "x": 100,
      "y": 60,
      "width": 400,
      "height": 500,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ffffff",
      "strokeWidth": 2,
      "groupIds": [],
      "id": "signup-frame",
      "seed": 1,
      "version": 2,
      "versionNonce": 2009220200,
      "isDeleted": false,
      "boundElementIds": null,
      "index": "a0",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762058533152,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "x": 220,
      "y": 80,
      "width": 160,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ffffff",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "signup-title",
      "seed": 2,
      "version": 2,
      "versionNonce": 264279576,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "Tenant Signup",
      "fontSize": 24,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "top",
      "baseline": 24,
      "index": "a1",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762058533152,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Tenant Signup",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "text",
      "x": 130,
      "y": 140,
      "width": 100,
      "height": 20,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ffffff",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "label-email",
      "seed": 3,
      "version": 2,
      "versionNonce": 986543976,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "Email",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 16,
      "index": "a2",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762058533152,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Email",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "rectangle",
      "x": 320,
      "y": 70,
      "width": 120,
      "height": 30,
      "angle": 0,
      "strokeColor": "#1976d2",
      "backgroundColor": "#bbdefb",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "lang-selector",
      "seed": 16,
      "version": 2,
      "versionNonce": 1014371096,
      "isDeleted": false,
      "boundElementIds": null,
      "index": "a3",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762058533152,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "x": 330,
      "y": 75,
      "width": 123.29788208007812,
      "height": 20,
      "angle": 0,
      "strokeColor": "#1976d2",
      "backgroundColor": "#bbdefb",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "lang-label",
      "seed": 4,
      "version": 3,
      "versionNonce": 1952290072,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "Language: EN | VI",
      "fontSize": 14,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "middle",
      "baseline": 14,
      "index": "a4",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762058539185,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Language: EN | VI",
      "autoResize": true,
      "lineHeight": 1.4285714285714286
    },
    {
      "type": "text",
      "x": 120,
      "y": 450,
      "width": 300,
      "height": 20,
      "angle": 0,
      "strokeColor": "#888888",
      "backgroundColor": "#ffffff",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "multilingual-note",
      "seed": 5,
      "version": 2,
      "versionNonce": 259256344,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "* All fields and messages are translatable.",
      "fontSize": 12,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 12,
      "index": "a5",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762058533152,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "* All fields and messages are translatable.",
      "autoResize": true,
      "lineHeight": 1.6666666666666667
    },
    {
      "type": "rectangle",
      "x": 240,
      "y": 135,
      "width": 220,
      "height": 30,
      "angle": 0,
      "strokeColor": "#888888",
      "backgroundColor": "#e0e0e0",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "input-email",
      "seed": 4,
      "version": 2,
      "versionNonce": 1175764328,
      "isDeleted": false,
      "boundElementIds": null,
      "index": "a6",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762058533152,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "x": 130,
      "y": 190,
      "width": 100,
      "height": 20,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ffffff",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "label-password",
      "seed": 5,
      "version": 2,
      "versionNonce": 1622027544,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "Password",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 16,
      "index": "a7",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762058533152,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Password",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "rectangle",
      "x": 240,
      "y": 185,
      "width": 220,
      "height": 30,
      "angle": 0,
      "strokeColor": "#888888",
      "backgroundColor": "#e0e0e0",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "input-password",
      "seed": 6,
      "version": 2,
      "versionNonce": 1785253992,
      "isDeleted": false,
      "boundElementIds": null,
      "index": "a8",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762058533152,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "x": 130,
      "y": 240,
      "width": 120,
      "height": 20,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ffffff",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "label-restaurant",
      "seed": 7,
      "version": 2,
      "versionNonce": 1771620888,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "Restaurant Name",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 16,
      "index": "a9",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762058533152,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Restaurant Name",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "rectangle",
      "x": 260,
      "y": 235,
      "width": 200,
      "height": 30,
      "angle": 0,
      "strokeColor": "#888888",
      "backgroundColor": "#e0e0e0",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "input-restaurant",
      "seed": 8,
      "version": 2,
      "versionNonce": 818053992,
      "isDeleted": false,
      "boundElementIds": null,
      "index": "aA",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762058533152,
      "link": null,
      "locked": false
    },
    {
      "type": "rectangle",
      "x": 200,
      "y": 300,
      "width": 200,
      "height": 40,
      "angle": 0,
      "strokeColor": "#1976d2",
      "backgroundColor": "#bbdefb",
      "strokeWidth": 2,
      "groupIds": [],
      "id": "signup-btn",
      "seed": 9,
      "version": 2,
      "versionNonce": 354928408,
      "isDeleted": false,
      "boundElementIds": null,
      "index": "aB",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762058533152,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "x": 250,
      "y": 310,
      "width": 100,
      "height": 20,
      "angle": 0,
      "strokeColor": "#1976d2",
      "backgroundColor": "#bbdefb",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "signup-btn-label",
      "seed": 10,
      "version": 2,
      "versionNonce": 124638824,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "Sign Up",
      "fontSize": 18,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "middle",
      "baseline": 18,
      "index": "aC",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762058533152,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Sign Up",
      "autoResize": true,
      "lineHeight": 1.1111111111111112
    },
    {
      "type": "text",
      "x": 200,
      "y": 370,
      "width": 200,
      "height": 20,
      "angle": 0,
      "strokeColor": "#1976d2",
      "backgroundColor": "#ffffff",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "login-link",
      "seed": 11,
      "version": 2,
      "versionNonce": 1338975256,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "Already have an account? Login",
      "fontSize": 14,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "top",
      "baseline": 14,
      "index": "aD",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762058533152,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Already have an account? Login",
      "autoResize": true,
      "lineHeight": 1.4285714285714286
    },
    {
      "type": "rectangle",
      "x": 240,
      "y": 420,
      "width": 220,
      "height": 40,
      "angle": 0,
      "strokeColor": "#bdbdbd",
      "backgroundColor": "#f5f5f5",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "divider",
      "seed": 12,
      "version": 2,
      "versionNonce": 859228520,
      "isDeleted": false,
      "boundElementIds": null,
      "index": "aE",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762058533152,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "x": 250,
      "y": 430,
      "width": 200,
      "height": 20,
      "angle": 0,
      "strokeColor": "#bdbdbd",
      "backgroundColor": "#f5f5f5",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "or-label",
      "seed": 13,
      "version": 2,
      "versionNonce": 1468195096,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "or sign up with Google",
      "fontSize": 14,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "middle",
      "baseline": 14,
      "index": "aF",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762058533152,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "or sign up with Google",
      "autoResize": true,
      "lineHeight": 1.4285714285714286
    },
    {
      "type": "ellipse",
      "x": 320,
      "y": 460,
      "width": 40,
      "height": 40,
      "angle": 0,
      "strokeColor": "#4285f4",
      "backgroundColor": "#fff",
      "strokeWidth": 2,
      "groupIds": [],
      "id": "google-btn",
      "seed": 14,
      "version": 2,
      "versionNonce": 2137611368,
      "isDeleted": false,
      "boundElementIds": null,
      "index": "aG",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762058533152,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "x": 330,
      "y": 470,
      "width": 20,
      "height": 20,
      "angle": 0,
      "strokeColor": "#4285f4",
      "backgroundColor": "#fff",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "google-g",
      "seed": 15,
      "version": 2,
      "versionNonce": 196541976,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "G",
      "fontSize": 18,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "middle",
      "baseline": 18,
      "index": "aH",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762058533152,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "G",
      "autoResize": true,
      "lineHeight": 1.1111111111111112
    }
  ],
  "appState": {
    "gridSize": 20,
    "gridStep": 5,
    "gridModeEnabled": false,
    "viewBackgroundColor": "#ffffff"
  },
  "files": {}
}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-1-002-email-verification.excalidraw">
{
  "type": "excalidraw",
  "version": 2,
  "source": "https://marketplace.visualstudio.com/items?itemName=pomdtr.excalidraw-editor",
  "elements": [
    {
      "type": "rectangle",
      "x": 93.60003662109375,
      "y": 61.600006103515625,
      "width": 400,
      "height": 220,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ffffff",
      "strokeWidth": 2,
      "groupIds": [],
      "id": "email-verification",
      "seed": 3,
      "version": 133,
      "versionNonce": 1753114454,
      "isDeleted": false,
      "boundElementIds": null,
      "index": "a0",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1763302716011,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "x": 180,
      "y": 80,
      "width": 240,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ffffff",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "email-verification-title",
      "seed": 4,
      "version": 2,
      "versionNonce": 817504778,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "Verify Your Email",
      "fontSize": 22,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "top",
      "baseline": 22,
      "index": "a1",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1763302710099,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Verify Your Email",
      "autoResize": true,
      "lineHeight": 1.3636363636363635
    },
    {
      "type": "text",
      "x": 140,
      "y": 120,
      "width": 320,
      "height": 20,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ffffff",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "verification-message",
      "seed": 5,
      "version": 2,
      "versionNonce": 1761106838,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "A verification link was sent to your email address.",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "top",
      "baseline": 16,
      "index": "a2",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1763302710099,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "A verification link was sent to your email address.",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "rectangle",
      "x": 204,
      "y": 160.00001525878906,
      "width": 200,
      "height": 36,
      "angle": 0,
      "strokeColor": "#1976d2",
      "backgroundColor": "#bbdefb",
      "strokeWidth": 2,
      "groupIds": [],
      "id": "verification-link",
      "seed": 6,
      "version": 96,
      "versionNonce": 1049810838,
      "isDeleted": false,
      "boundElementIds": null,
      "index": "a3",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1763302717086,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "x": 229.60006713867188,
      "y": 167.5999755859375,
      "width": 160,
      "height": 20,
      "angle": 0,
      "strokeColor": "#1976d2",
      "backgroundColor": "#bbdefb",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "verification-link-label",
      "seed": 7,
      "version": 131,
      "versionNonce": 242105686,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "Click to Verify Email",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "middle",
      "baseline": 16,
      "index": "a4",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1763302718241,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Click to Verify Email",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "rectangle",
      "x": 120,
      "y": 210,
      "width": 160,
      "height": 30,
      "angle": 0,
      "strokeColor": "#43a047",
      "backgroundColor": "#c8e6c9",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "success-msg",
      "seed": 8,
      "version": 2,
      "versionNonce": 275556234,
      "isDeleted": false,
      "boundElementIds": null,
      "index": "a5",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1763302710099,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "x": 130,
      "y": 215,
      "width": 140,
      "height": 20,
      "angle": 0,
      "strokeColor": "#43a047",
      "backgroundColor": "#c8e6c9",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "success-label",
      "seed": 9,
      "version": 2,
      "versionNonce": 2008739350,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "Success! Email verified.",
      "fontSize": 14,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "middle",
      "baseline": 14,
      "index": "a6",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1763302710099,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Success! Email verified.",
      "autoResize": true,
      "lineHeight": 1.4285714285714286
    },
    {
      "type": "rectangle",
      "x": 300,
      "y": 210,
      "width": 160,
      "height": 30,
      "angle": 0,
      "strokeColor": "#d32f2f",
      "backgroundColor": "#ffcdd2",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "fail-msg",
      "seed": 10,
      "version": 2,
      "versionNonce": 675489354,
      "isDeleted": false,
      "boundElementIds": null,
      "index": "a7",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1763302710099,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "x": 310,
      "y": 215,
      "width": 140,
      "height": 20,
      "angle": 0,
      "strokeColor": "#d32f2f",
      "backgroundColor": "#ffcdd2",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "fail-label",
      "seed": 11,
      "version": 2,
      "versionNonce": 1302379350,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "Error: Link expired.",
      "fontSize": 14,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "middle",
      "baseline": 14,
      "index": "a8",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1763302710099,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Error: Link expired.",
      "autoResize": true,
      "lineHeight": 1.4285714285714286
    }
  ],
  "appState": {
    "gridSize": 20,
    "gridStep": 5,
    "gridModeEnabled": false,
    "viewBackgroundColor": "#ffffff"
  },
  "files": {}
}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-1-003-onboarding-wizard-legacy.excalidraw">
{"type":"excalidraw","version":2,"source":"copilot","elements":[{"type":"rectangle","version":1,"versionNonce":201,"isDeleted":false,"id":"onboard-frame","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":100,"y":60,"width":400,"height":500,"seed":31,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#ffffff"},{"type":"text","version":2,"versionNonce":202,"isDeleted":false,"id":"title","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":180,"y":80,"width":240,"height":30,"seed":32,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":24,"fontFamily":1,"text":"Unified Restaurant Ordering Platform","textAlign":"center","verticalAlign":"top","baseline":25},{"type":"rectangle","version":3,"versionNonce":203,"isDeleted":false,"id":"logo","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":250,"y":120,"width":100,"height":40,"seed":33,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#e0e0e0"},{"type":"text","version":4,"versionNonce":204,"isDeleted":false,"id":"wizard-label","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":200,"y":170,"width":200,"height":24,"seed":34,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":20,"fontFamily":1,"text":"Onboarding Wizard (Step 1 of 4)","textAlign":"center","verticalAlign":"top","baseline":18},{"type":"text","version":5,"versionNonce":205,"isDeleted":false,"id":"step-label","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":220,"y":200,"width":160,"height":20,"seed":35,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":16,"fontFamily":1,"text":"Step: Business Info","textAlign":"left","verticalAlign":"top","baseline":15},{"type":"rectangle","version":6,"versionNonce":206,"isDeleted":false,"id":"restaurant-input","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":180,"y":230,"width":240,"height":40,"seed":36,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#e0e0e0"},{"type":"text","version":7,"versionNonce":207,"isDeleted":false,"id":"restaurant-label","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":190,"y":240,"width":140,"height":20,"seed":37,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":16,"fontFamily":1,"text":"Restaurant Name","textAlign":"left","verticalAlign":"top","baseline":15},{"type":"rectangle","version":8,"versionNonce":208,"isDeleted":false,"id":"address-input","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":180,"y":280,"width":240,"height":40,"seed":38,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#e0e0e0"},{"type":"text","version":9,"versionNonce":209,"isDeleted":false,"id":"address-label","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":190,"y":290,"width":120,"height":20,"seed":39,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":16,"fontFamily":1,"text":"Address","textAlign":"left","verticalAlign":"top","baseline":15},{"type":"rectangle","version":10,"versionNonce":210,"isDeleted":false,"id":"phone-input","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":180,"y":330,"width":240,"height":40,"seed":40,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#e0e0e0"},{"type":"text","version":11,"versionNonce":211,"isDeleted":false,"id":"phone-label","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":190,"y":340,"width":120,"height":20,"seed":41,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":16,"fontFamily":1,"text":"Phone","textAlign":"left","verticalAlign":"top","baseline":15},{"type":"rectangle","version":12,"versionNonce":212,"isDeleted":false,"id":"logo-upload","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":180,"y":380,"width":240,"height":40,"seed":42,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#e0e0e0"},{"type":"text","version":13,"versionNonce":213,"isDeleted":false,"id":"logo-upload-label","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":190,"y":390,"width":120,"height":20,"seed":43,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":16,"fontFamily":1,"text":"Logo Upload","textAlign":"left","verticalAlign":"top","baseline":15},{"type":"rectangle","version":14,"versionNonce":214,"isDeleted":false,"id":"next-btn","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":180,"y":440,"width":100,"height":40,"seed":44,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#b3d9ff"},{"type":"text","version":15,"versionNonce":215,"isDeleted":false,"id":"next-label","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":200,"y":450,"width":60,"height":20,"seed":45,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":16,"fontFamily":1,"text":"Next >","textAlign":"center","verticalAlign":"top","baseline":15},{"type":"rectangle","version":16,"versionNonce":216,"isDeleted":false,"id":"progress-bar","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":300,"y":450,"width":120,"height":20,"seed":46,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#e0e0e0"},{"type":"text","version":17,"versionNonce":217,"isDeleted":false,"id":"progress-label","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":310,"y":455,"width":100,"height":16,"seed":47,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":14,"fontFamily":1,"text":"Progress: []","textAlign":"left","verticalAlign":"top","baseline":12}],"appState":{"viewBackgroundColor":"#ffffff","currentItemStrokeColor":"#000000","currentItemBackgroundColor":"#e0e0e0","currentItemFillStyle":"hachure","currentItemStrokeWidth":1,"currentItemRoughness":1,"currentItemOpacity":100,"currentItemFontFamily":1,"currentItemFontSize":16,"currentItemTextAlign":"center","currentItemStrokeStyle":"solid"}}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-1-003-onboarding-wizard.excalidraw">
{"type":"excalidraw","version":2,"source":"user-story","elements":[
{"type":"rectangle","x":100,"y":60,"width":500,"height":400,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":2,"groupIds":[],"id":"onboarding-wizard","seed":5,"version":1,"versionNonce":5,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":180,"y":70,"width":340,"height":30,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":1,"groupIds":[],"id":"onboarding-title","seed":6,"version":1,"versionNonce":6,"isDeleted":false,"boundElementIds":null,"text":"Onboarding Wizard","fontSize":22,"fontFamily":1,"textAlign":"center","verticalAlign":"top","baseline":22},
{"type":"rectangle","x":120,"y":110,"width":460,"height":20,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":1,"groupIds":[],"id":"progress-bar","seed":7,"version":1,"versionNonce":7,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":130,"y":112,"width":100,"height":16,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":1,"groupIds":[],"id":"step-1","seed":8,"version":1,"versionNonce":8,"isDeleted":false,"boundElementIds":null,"text":"Business Info","fontSize":14,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":14},
{"type":"text","x":230,"y":112,"width":100,"height":16,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":1,"groupIds":[],"id":"step-2","seed":9,"version":1,"versionNonce":9,"isDeleted":false,"boundElementIds":null,"text":"Hours","fontSize":14,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":14},
{"type":"text","x":330,"y":112,"width":100,"height":16,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":1,"groupIds":[],"id":"step-3","seed":10,"version":1,"versionNonce":10,"isDeleted":false,"boundElementIds":null,"text":"Payment","fontSize":14,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":14},
{"type":"text","x":430,"y":112,"width":100,"height":16,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":1,"groupIds":[],"id":"step-4","seed":11,"version":1,"versionNonce":11,"isDeleted":false,"boundElementIds":null,"text":"Review","fontSize":14,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":14},
{"type":"rectangle","x":150,"y":160,"width":400,"height":120,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"form-area","seed":12,"version":1,"versionNonce":12,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":170,"y":180,"width":360,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"form-label","seed":13,"version":1,"versionNonce":13,"isDeleted":false,"boundElementIds":null,"text":"[Form fields for current step]","fontSize":16,"fontFamily":1,"textAlign":"center","verticalAlign":"top","baseline":16},
{"type":"rectangle","x":200,"y":320,"width":80,"height":36,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":2,"groupIds":[],"id":"back-btn","seed":14,"version":1,"versionNonce":14,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":220,"y":330,"width":40,"height":20,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":1,"groupIds":[],"id":"back-btn-label","seed":15,"version":1,"versionNonce":15,"isDeleted":false,"boundElementIds":null,"text":"Back","fontSize":16,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","baseline":16},
{"type":"rectangle","x":320,"y":320,"width":80,"height":36,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":2,"groupIds":[],"id":"next-btn","seed":16,"version":1,"versionNonce":16,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":340,"y":330,"width":40,"height":20,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":1,"groupIds":[],"id":"next-btn-label","seed":17,"version":1,"versionNonce":17,"isDeleted":false,"boundElementIds":null,"text":"Next","fontSize":16,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","baseline":16}
],"appState":{"viewBackgroundColor":"#ffffff"},"files":{}}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-1-004-tenant-profile-management-legacy.excalidraw">
{"type":"excalidraw","version":2,"source":"copilot","elements":[{"type":"rectangle","version":1,"versionNonce":301,"isDeleted":false,"id":"dashboard-frame","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":100,"y":60,"width":600,"height":500,"seed":51,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#ffffff"},{"type":"text","version":2,"versionNonce":302,"isDeleted":false,"id":"title","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":200,"y":80,"width":400,"height":30,"seed":52,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":24,"fontFamily":1,"text":"Unified Restaurant Ordering Platform","textAlign":"center","verticalAlign":"top","baseline":25},{"type":"rectangle","version":3,"versionNonce":303,"isDeleted":false,"id":"logo","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":120,"y":120,"width":60,"height":40,"seed":53,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#e0e0e0"},{"type":"text","version":4,"versionNonce":304,"isDeleted":false,"id":"dashboard-label","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":260,"y":130,"width":180,"height":24,"seed":54,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":20,"fontFamily":1,"text":"Dashboard","textAlign":"center","verticalAlign":"top","baseline":18},{"type":"rectangle","version":5,"versionNonce":305,"isDeleted":false,"id":"user-menu","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":520,"y":120,"width":100,"height":40,"seed":55,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#e0e0e0"},{"type":"rectangle","version":6,"versionNonce":306,"isDeleted":false,"id":"nav-bar","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":120,"y":170,"width":500,"height":40,"seed":56,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#f0f0f0"},{"type":"text","version":7,"versionNonce":307,"isDeleted":false,"id":"nav-labels","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":140,"y":180,"width":460,"height":20,"seed":57,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":16,"fontFamily":1,"text":"Menu   Tables   Orders   Analytics   Settings","textAlign":"left","verticalAlign":"top","baseline":15},{"type":"text","version":8,"versionNonce":308,"isDeleted":false,"id":"welcome","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":140,"y":220,"width":200,"height":20,"seed":58,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":16,"fontFamily":1,"text":"Welcome, [Tenant Name]!","textAlign":"left","verticalAlign":"top","baseline":15},{"type":"rectangle","version":9,"versionNonce":309,"isDeleted":false,"id":"quick-stats","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":140,"y":250,"width":200,"height":80,"seed":59,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#e0e0e0"},{"type":"text","version":10,"versionNonce":310,"isDeleted":false,"id":"stats-label","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":150,"y":260,"width":180,"height":60,"seed":60,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":14,"fontFamily":1,"text":"Quick Stats\n- Today's Orders: 12\n- Revenue: $340\n- Active Tables: 7","textAlign":"left","verticalAlign":"top","baseline":12},{"type":"rectangle","version":11,"versionNonce":311,"isDeleted":false,"id":"orders-table","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":360,"y":250,"width":260,"height":180,"seed":61,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#e0e0e0"},{"type":"text","version":12,"versionNonce":312,"isDeleted":false,"id":"orders-label","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":370,"y":260,"width":240,"height":100,"seed":62,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":14,"fontFamily":1,"text":"Recent Orders\n#  | Table | Status | Total | Time\n12 |  5    | Ready  | $28   | 12:05\n11 |  2    | Prep   | $15   | 12:03\n...","textAlign":"left","verticalAlign":"top","baseline":12}],"appState":{"viewBackgroundColor":"#ffffff","currentItemStrokeColor":"#000000","currentItemBackgroundColor":"#e0e0e0","currentItemFillStyle":"hachure","currentItemStrokeWidth":1,"currentItemRoughness":1,"currentItemOpacity":100,"currentItemFontFamily":1,"currentItemFontSize":16,"currentItemTextAlign":"center","currentItemStrokeStyle":"solid"}}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-1-004-tenant-profile-management.excalidraw">
{
  "type": "excalidraw",
  "version": 2,
  "source": "https://marketplace.visualstudio.com/items?itemName=pomdtr.excalidraw-editor",
  "elements": [
    {
      "type": "rectangle",
      "x": 100,
      "y": 60,
      "width": 500,
      "height": 400,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ffffff",
      "strokeWidth": 2,
      "groupIds": [],
      "id": "profile-management",
      "seed": 7,
      "version": 2,
      "versionNonce": 1381691161,
      "isDeleted": false,
      "boundElementIds": null,
      "index": "a0",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762052914652,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "x": 201.45608520507812,
      "y": 80,
      "width": 297.08782958984375,
      "height": 29.999999999999996,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ffffff",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "profile-title",
      "seed": 8,
      "version": 3,
      "versionNonce": 1925026777,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "Tenant Profile Management",
      "fontSize": 22,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "top",
      "baseline": 22,
      "index": "a1",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762052920468,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Tenant Profile Management",
      "autoResize": true,
      "lineHeight": 1.3636363636363635
    },
    {
      "type": "rectangle",
      "x": 130,
      "y": 130,
      "width": 80,
      "height": 80,
      "angle": 0,
      "strokeColor": "#888888",
      "backgroundColor": "#e0e0e0",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "logo-upload",
      "seed": 9,
      "version": 2,
      "versionNonce": 1463788537,
      "isDeleted": false,
      "boundElementIds": null,
      "index": "a2",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762052914652,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "x": 140,
      "y": 180,
      "width": 60,
      "height": 20,
      "angle": 0,
      "strokeColor": "#888888",
      "backgroundColor": "#e0e0e0",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "logo-label",
      "seed": 10,
      "version": 2,
      "versionNonce": 2029483031,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "Logo",
      "fontSize": 14,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "middle",
      "baseline": 14,
      "index": "a3",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762052914652,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Logo",
      "autoResize": true,
      "lineHeight": 1.4285714285714286
    },
    {
      "type": "text",
      "x": 230,
      "y": 130,
      "width": 100,
      "height": 20,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ffffff",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "label-name",
      "seed": 11,
      "version": 2,
      "versionNonce": 1266334937,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "Name",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 16,
      "index": "a4",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762052914652,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Name",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "rectangle",
      "x": 320,
      "y": 125,
      "width": 220,
      "height": 30,
      "angle": 0,
      "strokeColor": "#888888",
      "backgroundColor": "#e0e0e0",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "input-name",
      "seed": 12,
      "version": 2,
      "versionNonce": 1279187255,
      "isDeleted": false,
      "boundElementIds": null,
      "index": "a5",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762052914652,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "x": 230,
      "y": 170,
      "width": 100,
      "height": 20,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ffffff",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "label-address",
      "seed": 13,
      "version": 2,
      "versionNonce": 1050655161,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "Address",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 16,
      "index": "a6",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762052914652,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Address",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "rectangle",
      "x": 320,
      "y": 165,
      "width": 220,
      "height": 30,
      "angle": 0,
      "strokeColor": "#888888",
      "backgroundColor": "#e0e0e0",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "input-address",
      "seed": 14,
      "version": 2,
      "versionNonce": 1201445463,
      "isDeleted": false,
      "boundElementIds": null,
      "index": "a7",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762052914652,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "x": 230,
      "y": 210,
      "width": 100,
      "height": 20,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ffffff",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "label-phone",
      "seed": 15,
      "version": 2,
      "versionNonce": 30546585,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "Phone",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 16,
      "index": "a8",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762052914652,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Phone",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "rectangle",
      "x": 320,
      "y": 205,
      "width": 220,
      "height": 30,
      "angle": 0,
      "strokeColor": "#888888",
      "backgroundColor": "#e0e0e0",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "input-phone",
      "seed": 16,
      "version": 2,
      "versionNonce": 1340422007,
      "isDeleted": false,
      "boundElementIds": null,
      "index": "a9",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762052914652,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "x": 230,
      "y": 250,
      "width": 100,
      "height": 20,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ffffff",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "label-hours",
      "seed": 17,
      "version": 2,
      "versionNonce": 1975869305,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "Hours",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 16,
      "index": "aA",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762052914652,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Hours",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "rectangle",
      "x": 320,
      "y": 245,
      "width": 220,
      "height": 30,
      "angle": 0,
      "strokeColor": "#888888",
      "backgroundColor": "#e0e0e0",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "input-hours",
      "seed": 18,
      "version": 2,
      "versionNonce": 995963031,
      "isDeleted": false,
      "boundElementIds": null,
      "index": "aB",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762052914652,
      "link": null,
      "locked": false
    },
    {
      "type": "rectangle",
      "x": 320,
      "y": 300,
      "width": 120,
      "height": 40,
      "angle": 0,
      "strokeColor": "#1976d2",
      "backgroundColor": "#bbdefb",
      "strokeWidth": 2,
      "groupIds": [],
      "id": "save-btn",
      "seed": 19,
      "version": 2,
      "versionNonce": 415041625,
      "isDeleted": false,
      "boundElementIds": null,
      "index": "aC",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762052914652,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "x": 340,
      "y": 310,
      "width": 80,
      "height": 20,
      "angle": 0,
      "strokeColor": "#1976d2",
      "backgroundColor": "#bbdefb",
      "strokeWidth": 1,
      "groupIds": [],
      "id": "save-btn-label",
      "seed": 20,
      "version": 2,
      "versionNonce": 599328183,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "Save",
      "fontSize": 18,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "middle",
      "baseline": 18,
      "index": "aD",
      "fillStyle": "solid",
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1762052914652,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Save",
      "autoResize": true,
      "lineHeight": 1.1111111111111112
    }
  ],
  "appState": {
    "gridSize": 20,
    "gridStep": 5,
    "gridModeEnabled": false,
    "viewBackgroundColor": "#ffffff"
  },
  "files": {}
}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-10-001-admin-login.excalidraw">
{
  "type": "excalidraw",
  "version": 2,
  "source": "https://marketplace.visualstudio.com/items?itemName=pomdtr.excalidraw-editor",
  "elements": [
    {
      "type": "rectangle",
      "version": 144,
      "versionNonce": 693067374,
      "isDeleted": false,
      "id": "login-frame",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 100,
      "y": 60,
      "width": 400,
      "height": 400,
      "seed": 1,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "#ffffff",
      "index": "a0",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761991187119,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 145,
      "versionNonce": 356904434,
      "isDeleted": false,
      "id": "title",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 77.40814208984375,
      "y": 79.20001220703125,
      "width": 445.583740234375,
      "height": 30,
      "seed": 2,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fontSize": 24,
      "fontFamily": 1,
      "text": "Unified Restaurant Ordering Platform",
      "textAlign": "center",
      "verticalAlign": "top",
      "baseline": 25,
      "index": "a1",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761991180700,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Unified Restaurant Ordering Platform",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "rectangle",
      "version": 144,
      "versionNonce": 1774263790,
      "isDeleted": false,
      "id": "email-input",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 180,
      "y": 150,
      "width": 240,
      "height": 40,
      "seed": 3,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "#e0e0e0",
      "index": "a2",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761991160987,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 145,
      "versionNonce": 1692041202,
      "isDeleted": false,
      "id": "email-label",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 190,
      "y": 160,
      "width": 100,
      "height": 20,
      "seed": 4,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Email Address",
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 15,
      "index": "a3",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761991160987,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Email Address",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "rectangle",
      "version": 146,
      "versionNonce": 1275277358,
      "isDeleted": false,
      "id": "password-input",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 180,
      "y": 210,
      "width": 240,
      "height": 40,
      "seed": 5,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "#e0e0e0",
      "index": "a4",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761991160987,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 147,
      "versionNonce": 1294578098,
      "isDeleted": false,
      "id": "password-label",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 190,
      "y": 220,
      "width": 100,
      "height": 20,
      "seed": 6,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Password",
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 15,
      "index": "a5",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761991160987,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Password",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "rectangle",
      "version": 148,
      "versionNonce": 952695406,
      "isDeleted": false,
      "id": "login-button",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 180,
      "y": 270,
      "width": 240,
      "height": 40,
      "seed": 7,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "#b3d9ff",
      "index": "a6",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761991160987,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 149,
      "versionNonce": 1345104754,
      "isDeleted": false,
      "id": "login-label",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 280,
      "y": 280,
      "width": 40,
      "height": 20,
      "seed": 8,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Login",
      "textAlign": "center",
      "verticalAlign": "top",
      "baseline": 15,
      "index": "a7",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761991160987,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Login",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "text",
      "version": 150,
      "versionNonce": 383483054,
      "isDeleted": false,
      "id": "forgot-link",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 220,
      "y": 330,
      "width": 160,
      "height": 20,
      "seed": 9,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fontSize": 14,
      "fontFamily": 1,
      "text": "Forgot password? Reset",
      "textAlign": "center",
      "verticalAlign": "top",
      "baseline": 12,
      "index": "a8",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761991160987,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Forgot password? Reset",
      "autoResize": true,
      "lineHeight": 1.4285714285714286
    },
    {
      "type": "text",
      "version": 152,
      "versionNonce": 691105454,
      "isDeleted": false,
      "id": "signup-link",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 189.47007751464844,
      "y": 360,
      "width": 221.05984497070312,
      "height": 20,
      "seed": 10,
      "groupIds": [],
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "fontSize": 14,
      "fontFamily": 1,
      "text": "Don't have an account? Sign Up",
      "textAlign": "center",
      "verticalAlign": "top",
      "baseline": 12,
      "index": "a9",
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1761991182708,
      "link": null,
      "locked": false,
      "containerId": null,
      "originalText": "Don't have an account? Sign Up",
      "autoResize": true,
      "lineHeight": 1.4285714285714286
    }
  ],
  "appState": {
    "gridSize": 20,
    "gridStep": 5,
    "gridModeEnabled": false,
    "viewBackgroundColor": "#ffffff"
  },
  "files": {}
}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-2-001-create-menu-categories.excalidraw">
{"type":"excalidraw","version":2,"source":"user-story","elements":[
{"type":"rectangle","x":100,"y":60,"width":600,"height":400,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":2,"groupIds":[],"id":"menu-categories","seed":9,"version":1,"versionNonce":9,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":250,"y":70,"width":300,"height":30,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":1,"groupIds":[],"id":"menu-categories-title","seed":10,"version":1,"versionNonce":10,"isDeleted":false,"boundElementIds":null,"text":"Menu Categories","fontSize":22,"fontFamily":1,"textAlign":"center","verticalAlign":"top","baseline":22},
{"type":"rectangle","x":120,"y":120,"width":560,"height":120,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"category-list","seed":11,"version":1,"versionNonce":11,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":130,"y":130,"width":540,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"category-list-label","seed":12,"version":1,"versionNonce":12,"isDeleted":false,"boundElementIds":null,"text":"Category List (drag to reorder)","fontSize":16,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":16},
{"type":"rectangle","x":140,"y":160,"width":500,"height":30,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"cat-row-1","seed":13,"version":1,"versionNonce":13,"isDeleted":false,"boundElementIds":null},
{"type":"rectangle","x":140,"y":200,"width":500,"height":30,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"cat-row-2","seed":14,"version":1,"versionNonce":14,"isDeleted":false,"boundElementIds":null},
{"type":"rectangle","x":130,"y":260,"width":540,"height":80,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"add-form","seed":15,"version":1,"versionNonce":15,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":140,"y":270,"width":100,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"label-name","seed":16,"version":1,"versionNonce":16,"isDeleted":false,"boundElementIds":null,"text":"Name","fontSize":16,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":16},
{"type":"rectangle","x":200,"y":265,"width":180,"height":30,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"input-name","seed":17,"version":1,"versionNonce":17,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":400,"y":270,"width":100,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"label-desc","seed":18,"version":1,"versionNonce":18,"isDeleted":false,"boundElementIds":null,"text":"Description","fontSize":16,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":16},
{"type":"rectangle","x":500,"y":265,"width":160,"height":30,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"input-desc","seed":19,"version":1,"versionNonce":19,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":140,"y":310,"width":100,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"label-order","seed":20,"version":1,"versionNonce":20,"isDeleted":false,"boundElementIds":null,"text":"Order","fontSize":16,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":16},
{"type":"rectangle","x":200,"y":305,"width":60,"height":30,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"input-order","seed":21,"version":1,"versionNonce":21,"isDeleted":false,"boundElementIds":null},
{"type":"rectangle","x":600,"y":305,"width":60,"height":30,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":2,"groupIds":[],"id":"save-btn","seed":22,"version":1,"versionNonce":22,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":610,"y":315,"width":40,"height":20,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":1,"groupIds":[],"id":"save-btn-label","seed":23,"version":1,"versionNonce":23,"isDeleted":false,"boundElementIds":null,"text":"Save","fontSize":16,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","baseline":16}
],"appState":{"viewBackgroundColor":"#ffffff"},"files":{}}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-2-001-menu-management-legacy.excalidraw">
{"type":"excalidraw","version":2,"source":"copilot","elements":[{"type":"rectangle","version":1,"versionNonce":401,"isDeleted":false,"id":"menu-frame","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":100,"y":60,"width":600,"height":500,"seed":71,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#ffffff"},{"type":"text","version":2,"versionNonce":402,"isDeleted":false,"id":"title","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":200,"y":80,"width":400,"height":30,"seed":72,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":24,"fontFamily":1,"text":"Unified Restaurant Ordering Platform","textAlign":"center","verticalAlign":"top","baseline":25},{"type":"rectangle","version":3,"versionNonce":403,"isDeleted":false,"id":"logo","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":120,"y":120,"width":60,"height":40,"seed":73,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#e0e0e0"},{"type":"text","version":4,"versionNonce":404,"isDeleted":false,"id":"menu-label","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":260,"y":130,"width":180,"height":24,"seed":74,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":20,"fontFamily":1,"text":"Menu Management","textAlign":"center","verticalAlign":"top","baseline":18},{"type":"rectangle","version":5,"versionNonce":405,"isDeleted":false,"id":"user-menu","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":520,"y":120,"width":100,"height":40,"seed":75,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#e0e0e0"},{"type":"rectangle","version":6,"versionNonce":406,"isDeleted":false,"id":"action-bar","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":120,"y":170,"width":500,"height":40,"seed":76,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#f0f0f0"},{"type":"text","version":7,"versionNonce":407,"isDeleted":false,"id":"action-labels","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":140,"y":180,"width":460,"height":20,"seed":77,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":16,"fontFamily":1,"text":"Add Category   Add Item   Import CSV","textAlign":"left","verticalAlign":"top","baseline":15},{"type":"text","version":8,"versionNonce":408,"isDeleted":false,"id":"categories-label","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":140,"y":220,"width":300,"height":20,"seed":78,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":16,"fontFamily":1,"text":"Categories: [Starters] [Mains] [Desserts]","textAlign":"left","verticalAlign":"top","baseline":15},{"type":"rectangle","version":9,"versionNonce":409,"isDeleted":false,"id":"starters-box","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":140,"y":250,"width":220,"height":80,"seed":79,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#e0e0e0"},{"type":"text","version":10,"versionNonce":410,"isDeleted":false,"id":"starters-label","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":150,"y":260,"width":200,"height":60,"seed":80,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":14,"fontFamily":1,"text":"Category: Starters\n- Garlic Bread   $5   [Edit] [Delete]\n- Soup          $6   [Edit] [Delete]","textAlign":"left","verticalAlign":"top","baseline":12},{"type":"rectangle","version":11,"versionNonce":411,"isDeleted":false,"id":"mains-box","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":380,"y":250,"width":220,"height":80,"seed":81,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#e0e0e0"},{"type":"text","version":12,"versionNonce":412,"isDeleted":false,"id":"mains-label","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":390,"y":260,"width":200,"height":60,"seed":82,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":14,"fontFamily":1,"text":"Category: Mains\n- Burger        $12  [Edit] [Delete]\n...","textAlign":"left","verticalAlign":"top","baseline":12}],"appState":{"viewBackgroundColor":"#ffffff","currentItemStrokeColor":"#000000","currentItemBackgroundColor":"#e0e0e0","currentItemFillStyle":"hachure","currentItemStrokeWidth":1,"currentItemRoughness":1,"currentItemOpacity":100,"currentItemFontFamily":1,"currentItemFontSize":16,"currentItemTextAlign":"center","currentItemStrokeStyle":"solid"}}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-2-002-create-menu-items.excalidraw">
{"type":"excalidraw","version":2,"source":"user-story","elements":[
{"type":"rectangle","x":100,"y":60,"width":600,"height":500,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":2,"groupIds":[],"id":"menu-items","seed":11,"version":1,"versionNonce":11,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":250,"y":70,"width":300,"height":30,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":1,"groupIds":[],"id":"menu-items-title","seed":12,"version":1,"versionNonce":12,"isDeleted":false,"boundElementIds":null,"text":"Menu Items","fontSize":22,"fontFamily":1,"textAlign":"center","verticalAlign":"top","baseline":22},
{"type":"rectangle","x":120,"y":120,"width":560,"height":120,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"item-list","seed":13,"version":1,"versionNonce":13,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":130,"y":130,"width":540,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"item-list-label","seed":14,"version":1,"versionNonce":14,"isDeleted":false,"boundElementIds":null,"text":"Item List (per category)","fontSize":16,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":16},
{"type":"rectangle","x":140,"y":160,"width":500,"height":30,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"item-row-1","seed":15,"version":1,"versionNonce":15,"isDeleted":false,"boundElementIds":null},
{"type":"rectangle","x":140,"y":200,"width":500,"height":30,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"item-row-2","seed":16,"version":1,"versionNonce":16,"isDeleted":false,"boundElementIds":null},
{"type":"rectangle","x":130,"y":260,"width":540,"height":120,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"add-form","seed":17,"version":1,"versionNonce":17,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":140,"y":270,"width":100,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"label-name","seed":18,"version":1,"versionNonce":18,"isDeleted":false,"boundElementIds":null,"text":"Name","fontSize":16,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":16},
{"type":"rectangle","x":200,"y":265,"width":180,"height":30,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"input-name","seed":19,"version":1,"versionNonce":19,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":400,"y":270,"width":100,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"label-price","seed":20,"version":1,"versionNonce":20,"isDeleted":false,"boundElementIds":null,"text":"Price","fontSize":16,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":16},
{"type":"rectangle","x":460,"y":265,"width":80,"height":30,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"input-price","seed":21,"version":1,"versionNonce":21,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":140,"y":310,"width":100,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"label-desc","seed":22,"version":1,"versionNonce":22,"isDeleted":false,"boundElementIds":null,"text":"Description","fontSize":16,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":16},
{"type":"rectangle","x":240,"y":305,"width":300,"height":30,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"input-desc","seed":23,"version":1,"versionNonce":23,"isDeleted":false,"boundElementIds":null},
{"type":"rectangle","x":560,"y":305,"width":60,"height":60,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"image-upload","seed":24,"version":1,"versionNonce":24,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":570,"y":335,"width":40,"height":20,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"image-label","seed":25,"version":1,"versionNonce":25,"isDeleted":false,"boundElementIds":null,"text":"Image","fontSize":14,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","baseline":14},
{"type":"rectangle","x":600,"y":370,"width":60,"height":30,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":2,"groupIds":[],"id":"save-btn","seed":26,"version":1,"versionNonce":26,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":610,"y":380,"width":40,"height":20,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":1,"groupIds":[],"id":"save-btn-label","seed":27,"version":1,"versionNonce":27,"isDeleted":false,"boundElementIds":null,"text":"Save","fontSize":16,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","baseline":16}
],"appState":{"viewBackgroundColor":"#ffffff"},"files":{}}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-2-003-update-delete-menu-items.excalidraw">
{"type":"excalidraw","version":2,"source":"user-story","elements":[
{"type":"rectangle","x":100,"y":60,"width":600,"height":500,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":2,"groupIds":[],"id":"update-delete-items","seed":13,"version":1,"versionNonce":13,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":250,"y":70,"width":300,"height":30,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":1,"groupIds":[],"id":"update-delete-title","seed":14,"version":1,"versionNonce":14,"isDeleted":false,"boundElementIds":null,"text":"Update/Delete Menu Items","fontSize":22,"fontFamily":1,"textAlign":"center","verticalAlign":"top","baseline":22},
{"type":"rectangle","x":120,"y":120,"width":560,"height":120,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"item-list","seed":15,"version":1,"versionNonce":15,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":130,"y":130,"width":540,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"item-list-label","seed":16,"version":1,"versionNonce":16,"isDeleted":false,"boundElementIds":null,"text":"Item List (Edit/Delete)","fontSize":16,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":16},
{"type":"rectangle","x":140,"y":160,"width":400,"height":30,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"item-row-1","seed":17,"version":1,"versionNonce":17,"isDeleted":false,"boundElementIds":null},
{"type":"rectangle","x":550,"y":160,"width":40,"height":30,"angle":0,"strokeColor":"#43a047","backgroundColor":"#c8e6c9","strokeWidth":1,"groupIds":[],"id":"edit-btn-1","seed":18,"version":1,"versionNonce":18,"isDeleted":false,"boundElementIds":null},
{"type":"rectangle","x":600,"y":160,"width":40,"height":30,"angle":0,"strokeColor":"#d32f2f","backgroundColor":"#ffcdd2","strokeWidth":1,"groupIds":[],"id":"delete-btn-1","seed":19,"version":1,"versionNonce":19,"isDeleted":false,"boundElementIds":null},
{"type":"rectangle","x":140,"y":200,"width":400,"height":30,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"item-row-2","seed":20,"version":1,"versionNonce":20,"isDeleted":false,"boundElementIds":null},
{"type":"rectangle","x":550,"y":200,"width":40,"height":30,"angle":0,"strokeColor":"#43a047","backgroundColor":"#c8e6c9","strokeWidth":1,"groupIds":[],"id":"edit-btn-2","seed":21,"version":1,"versionNonce":21,"isDeleted":false,"boundElementIds":null},
{"type":"rectangle","x":600,"y":200,"width":40,"height":30,"angle":0,"strokeColor":"#d32f2f","backgroundColor":"#ffcdd2","strokeWidth":1,"groupIds":[],"id":"delete-btn-2","seed":22,"version":1,"versionNonce":22,"isDeleted":false,"boundElementIds":null},
{"type":"rectangle","x":130,"y":260,"width":540,"height":80,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"edit-form","seed":23,"version":1,"versionNonce":23,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":140,"y":270,"width":100,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"label-edit","seed":24,"version":1,"versionNonce":24,"isDeleted":false,"boundElementIds":null,"text":"Edit Item Form","fontSize":16,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":16},
{"type":"rectangle","x":400,"y":320,"width":80,"height":30,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":2,"groupIds":[],"id":"save-btn","seed":25,"version":1,"versionNonce":25,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":420,"y":325,"width":40,"height":20,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":1,"groupIds":[],"id":"save-btn-label","seed":26,"version":1,"versionNonce":26,"isDeleted":false,"boundElementIds":null,"text":"Save","fontSize":16,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","baseline":16},
{"type":"rectangle","x":250,"y":370,"width":300,"height":80,"angle":0,"strokeColor":"#d32f2f","backgroundColor":"#ffcdd2","strokeWidth":2,"groupIds":[],"id":"delete-modal","seed":27,"version":1,"versionNonce":27,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":270,"y":390,"width":260,"height":20,"angle":0,"strokeColor":"#d32f2f","backgroundColor":"#ffcdd2","strokeWidth":1,"groupIds":[],"id":"delete-modal-label","seed":28,"version":1,"versionNonce":28,"isDeleted":false,"boundElementIds":null,"text":"Are you sure you want to delete?","fontSize":16,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","baseline":16}
],"appState":{"viewBackgroundColor":"#ffffff"},"files":{}}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-2-004-menu-item-modifiers.excalidraw">
{"type":"excalidraw","version":2,"source":"user-story","elements":[
{"type":"rectangle","x":100,"y":60,"width":600,"height":400,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":2,"groupIds":[],"id":"modifiers","seed":15,"version":1,"versionNonce":15,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":250,"y":70,"width":300,"height":30,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":1,"groupIds":[],"id":"modifiers-title","seed":16,"version":1,"versionNonce":16,"isDeleted":false,"boundElementIds":null,"text":"Menu Item Modifiers","fontSize":22,"fontFamily":1,"textAlign":"center","verticalAlign":"top","baseline":22},
{"type":"rectangle","x":120,"y":120,"width":560,"height":120,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"modifier-list","seed":17,"version":1,"versionNonce":17,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":130,"y":130,"width":540,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"modifier-list-label","seed":18,"version":1,"versionNonce":18,"isDeleted":false,"boundElementIds":null,"text":"Modifier Groups","fontSize":16,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":16},
{"type":"rectangle","x":140,"y":160,"width":400,"height":30,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"group-row-1","seed":19,"version":1,"versionNonce":19,"isDeleted":false,"boundElementIds":null},
{"type":"rectangle","x":550,"y":160,"width":100,"height":30,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":2,"groupIds":[],"id":"add-group-btn","seed":20,"version":1,"versionNonce":20,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":560,"y":170,"width":80,"height":20,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":1,"groupIds":[],"id":"add-group-label","seed":21,"version":1,"versionNonce":21,"isDeleted":false,"boundElementIds":null,"text":"Add Group","fontSize":16,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","baseline":16},
{"type":"rectangle","x":130,"y":260,"width":540,"height":80,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"option-list","seed":22,"version":1,"versionNonce":22,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":140,"y":270,"width":100,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"option-label","seed":23,"version":1,"versionNonce":23,"isDeleted":false,"boundElementIds":null,"text":"Options","fontSize":16,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":16},
{"type":"rectangle","x":200,"y":265,"width":180,"height":30,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"input-option","seed":24,"version":1,"versionNonce":24,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":400,"y":270,"width":100,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"label-price","seed":25,"version":1,"versionNonce":25,"isDeleted":false,"boundElementIds":null,"text":"Price Adj.","fontSize":16,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":16},
{"type":"rectangle","x":480,"y":265,"width":60,"height":30,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"input-price","seed":26,"version":1,"versionNonce":26,"isDeleted":false,"boundElementIds":null},
{"type":"rectangle","x":560,"y":305,"width":60,"height":30,"angle":0,"strokeColor":"#43a047","backgroundColor":"#c8e6c9","strokeWidth":1,"groupIds":[],"id":"required-toggle","seed":27,"version":1,"versionNonce":27,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":570,"y":315,"width":40,"height":20,"angle":0,"strokeColor":"#43a047","backgroundColor":"#c8e6c9","strokeWidth":1,"groupIds":[],"id":"required-label","seed":28,"version":1,"versionNonce":28,"isDeleted":false,"boundElementIds":null,"text":"Required","fontSize":14,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","baseline":14}
],"appState":{"viewBackgroundColor":"#ffffff"},"files":{}}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-2-005-menu-availability-toggle.excalidraw">
{"type":"excalidraw","version":2,"source":"user-story","elements":[
{"type":"rectangle","x":100,"y":60,"width":600,"height":400,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":2,"groupIds":[],"id":"availability-toggle","seed":17,"version":1,"versionNonce":17,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":250,"y":70,"width":300,"height":30,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":1,"groupIds":[],"id":"availability-title","seed":18,"version":1,"versionNonce":18,"isDeleted":false,"boundElementIds":null,"text":"Menu Availability","fontSize":22,"fontFamily":1,"textAlign":"center","verticalAlign":"top","baseline":22},
{"type":"rectangle","x":120,"y":120,"width":560,"height":200,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"item-list","seed":19,"version":1,"versionNonce":19,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":130,"y":130,"width":540,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"item-list-label","seed":20,"version":1,"versionNonce":20,"isDeleted":false,"boundElementIds":null,"text":"Item List (toggle availability)","fontSize":16,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":16},
{"type":"rectangle","x":140,"y":160,"width":400,"height":30,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"item-row-1","seed":21,"version":1,"versionNonce":21,"isDeleted":false,"boundElementIds":null},
{"type":"ellipse","x":570,"y":165,"width":30,"height":30,"angle":0,"strokeColor":"#43a047","backgroundColor":"#c8e6c9","strokeWidth":2,"groupIds":[],"id":"toggle-1","seed":22,"version":1,"versionNonce":22,"isDeleted":false,"boundElementIds":null},
{"type":"rectangle","x":140,"y":200,"width":400,"height":30,"angle":0,"strokeColor":"#888888","backgroundColor":"#e0e0e0","strokeWidth":1,"groupIds":[],"id":"item-row-2","seed":23,"version":1,"versionNonce":23,"isDeleted":false,"boundElementIds":null},
{"type":"ellipse","x":570,"y":205,"width":30,"height":30,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#eeeeee","strokeWidth":2,"groupIds":[],"id":"toggle-2","seed":24,"version":1,"versionNonce":24,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":580,"y":250,"width":80,"height":20,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#ffffff","strokeWidth":1,"groupIds":[],"id":"realtime-label","seed":25,"version":1,"versionNonce":25,"isDeleted":false,"boundElementIds":null,"text":"Real-time","fontSize":14,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":14}
],"appState":{"viewBackgroundColor":"#ffffff"},"files":{}}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-3-001-add-tables.excalidraw">
{"type":"excalidraw","version":2,"source":"user-story","elements":[
{"type":"rectangle","x":100,"y":60,"width":600,"height":400,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":2,"groupIds":[],"id":"add-tables","seed":19,"version":1,"versionNonce":19,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":300,"y":70,"width":200,"height":30,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":1,"groupIds":[],"id":"add-tables-title","seed":20,"version":1,"versionNonce":20,"isDeleted":false,"boundElementIds":null,"text":"Add Tables","fontSize":22,"fontFamily":1,"textAlign":"center","verticalAlign":"top","baseline":22},
{"type":"rectangle","x":120,"y":120,"width":260,"height":220,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"table-list","seed":21,"version":1,"versionNonce":21,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":130,"y":130,"width":240,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"table-list-label","seed":22,"version":1,"versionNonce":22,"isDeleted":false,"boundElementIds":null,"text":"Table List","fontSize":16,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":16},
{"type":"rectangle","x":400,"y":120,"width":260,"height":120,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"add-table-form","seed":23,"version":1,"versionNonce":23,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":410,"y":130,"width":240,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"add-table-form-label","seed":24,"version":1,"versionNonce":24,"isDeleted":false,"boundElementIds":null,"text":"Add Table","fontSize":16,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":16},
{"type":"rectangle","x":420,"y":160,"width":100,"height":30,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"table-number","seed":25,"version":1,"versionNonce":25,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":425,"y":165,"width":90,"height":20,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"table-number-label","seed":26,"version":1,"versionNonce":26,"isDeleted":false,"boundElementIds":null,"text":"Number/Name","fontSize":14,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":14},
{"type":"rectangle","x":530,"y":160,"width":120,"height":30,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"table-section","seed":27,"version":1,"versionNonce":27,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":535,"y":165,"width":110,"height":20,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"table-section-label","seed":28,"version":1,"versionNonce":28,"isDeleted":false,"boundElementIds":null,"text":"Section","fontSize":14,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":14},
{"type":"rectangle","x":400,"y":260,"width":120,"height":30,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":2,"groupIds":[],"id":"bulk-import","seed":29,"version":1,"versionNonce":29,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":410,"y":265,"width":100,"height":20,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":1,"groupIds":[],"id":"bulk-import-label","seed":30,"version":1,"versionNonce":30,"isDeleted":false,"boundElementIds":null,"text":"Bulk Import (CSV)","fontSize":14,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","baseline":14},
{"type":"rectangle","x":540,"y":260,"width":120,"height":30,"angle":0,"strokeColor":"#43a047","backgroundColor":"#c8e6c9","strokeWidth":2,"groupIds":[],"id":"save-btn","seed":31,"version":1,"versionNonce":31,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":570,"y":265,"width":60,"height":20,"angle":0,"strokeColor":"#43a047","backgroundColor":"#c8e6c9","strokeWidth":1,"groupIds":[],"id":"save-btn-label","seed":32,"version":1,"versionNonce":32,"isDeleted":false,"boundElementIds":null,"text":"Save","fontSize":16,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","baseline":16}
],"appState":{"viewBackgroundColor":"#ffffff"},"files":{}}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-3-002-generate-qr-codes.excalidraw">
{"type":"excalidraw","version":2,"source":"user-story","elements":[
{"type":"rectangle","x":100,"y":60,"width":600,"height":400,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":2,"groupIds":[],"id":"generate-qr","seed":21,"version":1,"versionNonce":21,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":250,"y":70,"width":300,"height":30,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":1,"groupIds":[],"id":"generate-qr-title","seed":22,"version":1,"versionNonce":22,"isDeleted":false,"boundElementIds":null,"text":"Generate QR Codes","fontSize":22,"fontFamily":1,"textAlign":"center","verticalAlign":"top","baseline":22},
{"type":"rectangle","x":120,"y":120,"width":260,"height":220,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"table-list","seed":23,"version":1,"versionNonce":23,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":130,"y":130,"width":240,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"table-list-label","seed":24,"version":1,"versionNonce":24,"isDeleted":false,"boundElementIds":null,"text":"Table List","fontSize":16,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":16},
{"type":"rectangle","x":400,"y":120,"width":180,"height":60,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"qr-preview","seed":25,"version":1,"versionNonce":25,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":410,"y":130,"width":160,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"qr-preview-label","seed":26,"version":1,"versionNonce":26,"isDeleted":false,"boundElementIds":null,"text":"QR Preview","fontSize":14,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":14},
{"type":"rectangle","x":400,"y":200,"width":120,"height":30,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":2,"groupIds":[],"id":"generate-btn","seed":27,"version":1,"versionNonce":27,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":420,"y":205,"width":80,"height":20,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":1,"groupIds":[],"id":"generate-btn-label","seed":28,"version":1,"versionNonce":28,"isDeleted":false,"boundElementIds":null,"text":"Generate QR","fontSize":16,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","baseline":16},
{"type":"rectangle","x":400,"y":250,"width":120,"height":30,"angle":0,"strokeColor":"#43a047","backgroundColor":"#c8e6c9","strokeWidth":2,"groupIds":[],"id":"download-btn","seed":29,"version":1,"versionNonce":29,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":410,"y":255,"width":100,"height":20,"angle":0,"strokeColor":"#43a047","backgroundColor":"#c8e6c9","strokeWidth":1,"groupIds":[],"id":"download-btn-label","seed":30,"version":1,"versionNonce":30,"isDeleted":false,"boundElementIds":null,"text":"Download/Print","fontSize":16,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","baseline":16}
],"appState":{"viewBackgroundColor":"#ffffff"},"files":{}}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-3-003-download-print-qr-codes.excalidraw">
{"type":"excalidraw","version":2,"source":"user-story","elements":[
{"type":"rectangle","x":100,"y":60,"width":600,"height":400,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":2,"groupIds":[],"id":"download-print-qr","seed":23,"version":1,"versionNonce":23,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":250,"y":70,"width":300,"height":30,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":1,"groupIds":[],"id":"download-print-qr-title","seed":24,"version":1,"versionNonce":24,"isDeleted":false,"boundElementIds":null,"text":"Download/Print QR Codes","fontSize":22,"fontFamily":1,"textAlign":"center","verticalAlign":"top","baseline":22},
{"type":"rectangle","x":120,"y":120,"width":260,"height":220,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"qr-list","seed":25,"version":1,"versionNonce":25,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":130,"y":130,"width":240,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"qr-list-label","seed":26,"version":1,"versionNonce":26,"isDeleted":false,"boundElementIds":null,"text":"Generated QR List","fontSize":16,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":16},
{"type":"rectangle","x":400,"y":120,"width":180,"height":60,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"pdf-preview","seed":27,"version":1,"versionNonce":27,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":410,"y":130,"width":160,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"pdf-preview-label","seed":28,"version":1,"versionNonce":28,"isDeleted":false,"boundElementIds":null,"text":"PDF Preview","fontSize":14,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":14},
{"type":"rectangle","x":400,"y":200,"width":120,"height":30,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":2,"groupIds":[],"id":"download-all-btn","seed":29,"version":1,"versionNonce":29,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":410,"y":205,"width":100,"height":20,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":1,"groupIds":[],"id":"download-all-btn-label","seed":30,"version":1,"versionNonce":30,"isDeleted":false,"boundElementIds":null,"text":"Download All","fontSize":16,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","baseline":16},
{"type":"rectangle","x":400,"y":250,"width":120,"height":30,"angle":0,"strokeColor":"#43a047","backgroundColor":"#c8e6c9","strokeWidth":2,"groupIds":[],"id":"table-labels","seed":31,"version":1,"versionNonce":31,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":410,"y":255,"width":100,"height":20,"angle":0,"strokeColor":"#43a047","backgroundColor":"#c8e6c9","strokeWidth":1,"groupIds":[],"id":"table-labels-label","seed":32,"version":1,"versionNonce":32,"isDeleted":false,"boundElementIds":null,"text":"Table Number Labels","fontSize":16,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","baseline":16}
],"appState":{"viewBackgroundColor":"#ffffff"},"files":{}}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-3-004-regenerate-qr-codes.excalidraw">
{"type":"excalidraw","version":2,"source":"user-story","elements":[
{"type":"rectangle","x":100,"y":60,"width":600,"height":400,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":2,"groupIds":[],"id":"regenerate-qr","seed":25,"version":1,"versionNonce":25,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":250,"y":70,"width":300,"height":30,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":1,"groupIds":[],"id":"regenerate-qr-title","seed":26,"version":1,"versionNonce":26,"isDeleted":false,"boundElementIds":null,"text":"Regenerate QR Codes","fontSize":22,"fontFamily":1,"textAlign":"center","verticalAlign":"top","baseline":22},
{"type":"rectangle","x":120,"y":120,"width":260,"height":220,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"table-list","seed":27,"version":1,"versionNonce":27,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":130,"y":130,"width":240,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"table-list-label","seed":28,"version":1,"versionNonce":28,"isDeleted":false,"boundElementIds":null,"text":"Table List","fontSize":16,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":16},
{"type":"rectangle","x":400,"y":120,"width":180,"height":60,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"old-qr-status","seed":29,"version":1,"versionNonce":29,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":410,"y":130,"width":160,"height":20,"angle":0,"strokeColor":"#d32f2f","backgroundColor":"#ffcdd2","strokeWidth":1,"groupIds":[],"id":"old-qr-status-label","seed":30,"version":1,"versionNonce":30,"isDeleted":false,"boundElementIds":null,"text":"Old QR: Invalidated","fontSize":14,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":14},
{"type":"rectangle","x":400,"y":200,"width":180,"height":60,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"new-qr-preview","seed":31,"version":1,"versionNonce":31,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":410,"y":210,"width":160,"height":20,"angle":0,"strokeColor":"#43a047","backgroundColor":"#c8e6c9","strokeWidth":1,"groupIds":[],"id":"new-qr-preview-label","seed":32,"version":1,"versionNonce":32,"isDeleted":false,"boundElementIds":null,"text":"New QR Preview","fontSize":14,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":14},
{"type":"rectangle","x":400,"y":280,"width":120,"height":30,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":2,"groupIds":[],"id":"regenerate-btn","seed":33,"version":1,"versionNonce":33,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":420,"y":285,"width":80,"height":20,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":1,"groupIds":[],"id":"regenerate-btn-label","seed":34,"version":1,"versionNonce":34,"isDeleted":false,"boundElementIds":null,"text":"Regenerate","fontSize":16,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","baseline":16}
],"appState":{"viewBackgroundColor":"#ffffff"},"files":{}}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-4-001-customer-menu-legacy.excalidraw">
{"type":"excalidraw","version":2,"source":"copilot","elements":[{"type":"rectangle","version":1,"versionNonce":501,"isDeleted":false,"id":"menu-frame","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":100,"y":60,"width":400,"height":600,"seed":101,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#ffffff"},{"type":"text","version":2,"versionNonce":502,"isDeleted":false,"id":"title","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":180,"y":80,"width":240,"height":30,"seed":102,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":24,"fontFamily":1,"text":"Customer Menu","textAlign":"center","verticalAlign":"top","baseline":25},{"type":"rectangle","version":3,"versionNonce":503,"isDeleted":false,"id":"category-bar","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":120,"y":130,"width":360,"height":40,"seed":103,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#f0f0f0"},{"type":"text","version":4,"versionNonce":504,"isDeleted":false,"id":"categories-label","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":140,"y":140,"width":320,"height":20,"seed":104,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":16,"fontFamily":1,"text":"Starters   Mains   Desserts   Drinks","textAlign":"left","verticalAlign":"top","baseline":15},{"type":"rectangle","version":5,"versionNonce":505,"isDeleted":false,"id":"menu-list","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":120,"y":190,"width":360,"height":340,"seed":105,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#e0e0e0"},{"type":"text","version":6,"versionNonce":506,"isDeleted":false,"id":"menu-items-label","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":140,"y":200,"width":320,"height":120,"seed":106,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":14,"fontFamily":1,"text":"- Garlic Bread   $5   [+ Add]\n- Soup          $6   [+ Add]\n- Burger        $12  [+ Add]\n- Pizza         $15  [+ Add]","textAlign":"left","verticalAlign":"top","baseline":12},{"type":"rectangle","version":7,"versionNonce":507,"isDeleted":false,"id":"cart-bar","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":120,"y":550,"width":360,"height":40,"seed":107,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#b3d9ff"},{"type":"text","version":8,"versionNonce":508,"isDeleted":false,"id":"cart-label","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":140,"y":560,"width":320,"height":20,"seed":108,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":16,"fontFamily":1,"text":"Cart: 2 items   $18   [View Cart]","textAlign":"left","verticalAlign":"top","baseline":15}],"appState":{"viewBackgroundColor":"#ffffff","currentItemStrokeColor":"#000000","currentItemBackgroundColor":"#e0e0e0","currentItemFillStyle":"hachure","currentItemStrokeWidth":1,"currentItemRoughness":1,"currentItemOpacity":100,"currentItemFontFamily":1,"currentItemFontSize":16,"currentItemTextAlign":"center","currentItemStrokeStyle":"solid"}}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-4-001-scan-qr-load-menu.excalidraw">
{"type":"excalidraw","version":2,"source":"user-story","elements":[
{"type":"rectangle","x":100,"y":60,"width":600,"height":400,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":2,"groupIds":[],"id":"scan-qr-menu","seed":27,"version":1,"versionNonce":27,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":250,"y":70,"width":300,"height":30,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":1,"groupIds":[],"id":"scan-qr-menu-title","seed":28,"version":1,"versionNonce":28,"isDeleted":false,"boundElementIds":null,"text":"Scan QR & Load Menu","fontSize":22,"fontFamily":1,"textAlign":"center","verticalAlign":"top","baseline":22},
{"type":"ellipse","x":130,"y":120,"width":80,"height":80,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":2,"groupIds":[],"id":"qr-illustration","seed":29,"version":1,"versionNonce":29,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":140,"y":160,"width":60,"height":20,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":1,"groupIds":[],"id":"qr-label","seed":30,"version":1,"versionNonce":30,"isDeleted":false,"boundElementIds":null,"text":"[QR Scan]","fontSize":14,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","baseline":14},
{"type":"rectangle","x":250,"y":120,"width":400,"height":300,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"menu-page","seed":31,"version":1,"versionNonce":31,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":270,"y":130,"width":360,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"table-number-label","seed":32,"version":1,"versionNonce":32,"isDeleted":false,"boundElementIds":null,"text":"Table #12","fontSize":16,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":16},
{"type":"rectangle","x":270,"y":170,"width":120,"height":30,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"category-1","seed":33,"version":1,"versionNonce":33,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":280,"y":175,"width":100,"height":20,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"category-1-label","seed":34,"version":1,"versionNonce":34,"isDeleted":false,"boundElementIds":null,"text":"Starters","fontSize":14,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","baseline":14},
{"type":"rectangle","x":400,"y":170,"width":120,"height":30,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"category-2","seed":35,"version":1,"versionNonce":35,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":410,"y":175,"width":100,"height":20,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"category-2-label","seed":36,"version":1,"versionNonce":36,"isDeleted":false,"boundElementIds":null,"text":"Mains","fontSize":14,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","baseline":14},
{"type":"rectangle","x":530,"y":170,"width":120,"height":30,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"category-3","seed":37,"version":1,"versionNonce":37,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":540,"y":175,"width":100,"height":20,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"category-3-label","seed":38,"version":1,"versionNonce":38,"isDeleted":false,"boundElementIds":null,"text":"Desserts","fontSize":14,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","baseline":14}
],"appState":{"viewBackgroundColor":"#ffffff"},"files":{}}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-4-002-add-items-to-cart.excalidraw">
{"type":"excalidraw","version":2,"source":"user-story","elements":[
{"type":"rectangle","x":100,"y":60,"width":600,"height":400,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":2,"groupIds":[],"id":"add-to-cart","seed":29,"version":1,"versionNonce":29,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":250,"y":70,"width":300,"height":30,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":1,"groupIds":[],"id":"add-to-cart-title","seed":30,"version":1,"versionNonce":30,"isDeleted":false,"boundElementIds":null,"text":"Add Items to Cart","fontSize":22,"fontFamily":1,"textAlign":"center","verticalAlign":"top","baseline":22},
{"type":"rectangle","x":120,"y":120,"width":560,"height":220,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"menu-list","seed":31,"version":1,"versionNonce":31,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":130,"y":130,"width":540,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"menu-list-label","seed":32,"version":1,"versionNonce":32,"isDeleted":false,"boundElementIds":null,"text":"Menu Items","fontSize":16,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":16},
{"type":"rectangle","x":140,"y":160,"width":400,"height":30,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"item-row-1","seed":33,"version":1,"versionNonce":33,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":150,"y":165,"width":200,"height":20,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"item-row-1-label","seed":34,"version":1,"versionNonce":34,"isDeleted":false,"boundElementIds":null,"text":"Grilled Chicken","fontSize":14,"fontFamily":1,"textAlign":"left","verticalAlign":"middle","baseline":14},
{"type":"rectangle","x":500,"y":160,"width":60,"height":30,"angle":0,"strokeColor":"#43a047","backgroundColor":"#c8e6c9","strokeWidth":2,"groupIds":[],"id":"add-btn-1","seed":35,"version":1,"versionNonce":35,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":515,"y":165,"width":30,"height":20,"angle":0,"strokeColor":"#43a047","backgroundColor":"#c8e6c9","strokeWidth":1,"groupIds":[],"id":"add-btn-1-label","seed":36,"version":1,"versionNonce":36,"isDeleted":false,"boundElementIds":null,"text":"+ Add","fontSize":14,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","baseline":14},
{"type":"ellipse","x":650,"y":120,"width":40,"height":40,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":2,"groupIds":[],"id":"cart-badge","seed":37,"version":1,"versionNonce":37,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":665,"y":135,"width":10,"height":20,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":1,"groupIds":[],"id":"cart-badge-label","seed":38,"version":1,"versionNonce":38,"isDeleted":false,"boundElementIds":null,"text":"2","fontSize":14,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","baseline":14},
{"type":"text","x":200,"y":210,"width":200,"height":20,"angle":0,"strokeColor":"#43a047","backgroundColor":"#c8e6c9","strokeWidth":1,"groupIds":[],"id":"item-added-label","seed":39,"version":1,"versionNonce":39,"isDeleted":false,"boundElementIds":null,"text":"Item added!","fontSize":14,"fontFamily":1,"textAlign":"left","verticalAlign":"middle","baseline":14}
],"appState":{"viewBackgroundColor":"#ffffff"},"files":{}}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-4-003-customize-items-modifiers.excalidraw">
{"type":"excalidraw","version":2,"source":"user-story","elements":[
{"type":"rectangle","x":100,"y":60,"width":600,"height":400,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":2,"groupIds":[],"id":"customize-modifiers","seed":31,"version":1,"versionNonce":31,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":250,"y":70,"width":300,"height":30,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":1,"groupIds":[],"id":"customize-modifiers-title","seed":32,"version":1,"versionNonce":32,"isDeleted":false,"boundElementIds":null,"text":"Customize Item","fontSize":22,"fontFamily":1,"textAlign":"center","verticalAlign":"top","baseline":22},
{"type":"rectangle","x":180,"y":120,"width":440,"height":220,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"item-detail-modal","seed":33,"version":1,"versionNonce":33,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":200,"y":130,"width":400,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"item-name-label","seed":34,"version":1,"versionNonce":34,"isDeleted":false,"boundElementIds":null,"text":"Grilled Chicken","fontSize":16,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":16},
{"type":"rectangle","x":200,"y":170,"width":180,"height":30,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"modifier-group-1","seed":35,"version":1,"versionNonce":35,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":210,"y":175,"width":160,"height":20,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"modifier-group-1-label","seed":36,"version":1,"versionNonce":36,"isDeleted":false,"boundElementIds":null,"text":"Sauce (Required)","fontSize":14,"fontFamily":1,"textAlign":"left","verticalAlign":"middle","baseline":14},
{"type":"rectangle","x":400,"y":170,"width":180,"height":30,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"modifier-group-2","seed":37,"version":1,"versionNonce":37,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":410,"y":175,"width":160,"height":20,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"modifier-group-2-label","seed":38,"version":1,"versionNonce":38,"isDeleted":false,"boundElementIds":null,"text":"Toppings (Optional)","fontSize":14,"fontFamily":1,"textAlign":"left","verticalAlign":"middle","baseline":14},
{"type":"rectangle","x":320,"y":320,"width":120,"height":36,"angle":0,"strokeColor":"#43a047","backgroundColor":"#c8e6c9","strokeWidth":2,"groupIds":[],"id":"add-to-cart-btn","seed":39,"version":1,"versionNonce":39,"isDeleted":false,"boundElementIds":null},
{"type":"text","x":340,"y":330,"width":80,"height":20,"angle":0,"strokeColor":"#43a047","backgroundColor":"#c8e6c9","strokeWidth":1,"groupIds":[],"id":"add-to-cart-btn-label","seed":40,"version":1,"versionNonce":40,"isDeleted":false,"boundElementIds":null,"text":"Add to Cart","fontSize":16,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","baseline":16}
],"appState":{"viewBackgroundColor":"#ffffff"},"files":{}}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-4-004-cart-checkout-legacy.excalidraw">
{"type":"excalidraw","version":2,"source":"copilot","elements":[{"type":"rectangle","version":1,"versionNonce":601,"isDeleted":false,"id":"cart-frame","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":100,"y":60,"width":400,"height":500,"seed":201,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#ffffff"},{"type":"text","version":2,"versionNonce":602,"isDeleted":false,"id":"title","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":180,"y":80,"width":240,"height":30,"seed":202,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":24,"fontFamily":1,"text":"Cart & Checkout","textAlign":"center","verticalAlign":"top","baseline":25},{"type":"rectangle","version":3,"versionNonce":603,"isDeleted":false,"id":"cart-list","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":120,"y":130,"width":360,"height":200,"seed":203,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#e0e0e0"},{"type":"text","version":4,"versionNonce":604,"isDeleted":false,"id":"cart-items-label","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":140,"y":140,"width":320,"height":80,"seed":204,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":14,"fontFamily":1,"text":"- Burger   $12   [Remove]\n- Soup     $6    [Remove]","textAlign":"left","verticalAlign":"top","baseline":12},{"type":"rectangle","version":5,"versionNonce":605,"isDeleted":false,"id":"checkout-form","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":120,"y":340,"width":360,"height":80,"seed":205,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#f0f0f0"},{"type":"text","version":6,"versionNonce":606,"isDeleted":false,"id":"form-label","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":140,"y":350,"width":320,"height":40,"seed":206,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":14,"fontFamily":1,"text":"Name: ____________\nNotes: ___________","textAlign":"left","verticalAlign":"top","baseline":12},{"type":"rectangle","version":7,"versionNonce":607,"isDeleted":false,"id":"checkout-btn","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":120,"y":440,"width":360,"height":40,"seed":207,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#b3d9ff"},{"type":"text","version":8,"versionNonce":608,"isDeleted":false,"id":"checkout-label","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":260,"y":450,"width":80,"height":20,"seed":208,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":16,"fontFamily":1,"text":"Checkout","textAlign":"center","verticalAlign":"top","baseline":15}],"appState":{"viewBackgroundColor":"#ffffff","currentItemStrokeColor":"#000000","currentItemBackgroundColor":"#e0e0e0","currentItemFillStyle":"hachure","currentItemStrokeWidth":1,"currentItemRoughness":1,"currentItemOpacity":100,"currentItemFontFamily":1,"currentItemFontSize":16,"currentItemTextAlign":"center","currentItemStrokeStyle":"solid"}}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-4-004-cart-checkout.excalidraw">
{"type":"excalidraw","version":2,"source":"user-story","elements":[{"type":"rectangle","x":100,"y":60,"width":600,"height":400,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":2,"groupIds":[],"id":"cart-checkout","seed":41,"version":1,"versionNonce":41,"isDeleted":false,"boundElementIds":null},{"type":"text","x":250,"y":70,"width":300,"height":30,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":1,"groupIds":[],"id":"cart-checkout-title","seed":42,"version":1,"versionNonce":42,"isDeleted":false,"boundElementIds":null,"text":"Cart & Checkout","fontSize":22,"fontFamily":1,"textAlign":"center","verticalAlign":"top","baseline":22},{"type":"rectangle","x":120,"y":120,"width":260,"height":220,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"cart-list","seed":43,"version":1,"versionNonce":43,"isDeleted":false,"boundElementIds":null},{"type":"text","x":130,"y":130,"width":240,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"cart-list-label","seed":44,"version":1,"versionNonce":44,"isDeleted":false,"boundElementIds":null,"text":"Cart Items","fontSize":16,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":16},{"type":"rectangle","x":400,"y":120,"width":180,"height":60,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"order-summary","seed":45,"version":1,"versionNonce":45,"isDeleted":false,"boundElementIds":null},{"type":"text","x":410,"y":130,"width":160,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"order-summary-label","seed":46,"version":1,"versionNonce":46,"isDeleted":false,"boundElementIds":null,"text":"Order Summary","fontSize":14,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":14},{"type":"rectangle","x":400,"y":200,"width":120,"height":30,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":2,"groupIds":[],"id":"checkout-btn","seed":47,"version":1,"versionNonce":47,"isDeleted":false,"boundElementIds":null},{"type":"text","x":420,"y":205,"width":80,"height":20,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":1,"groupIds":[],"id":"checkout-btn-label","seed":48,"version":1,"versionNonce":48,"isDeleted":false,"boundElementIds":null,"text":"Checkout","fontSize":16,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","baseline":16},{"type":"rectangle","x":400,"y":250,"width":120,"height":30,"angle":0,"strokeColor":"#43a047","backgroundColor":"#c8e6c9","strokeWidth":2,"groupIds":[],"id":"pay-btn","seed":49,"version":1,"versionNonce":49,"isDeleted":false,"boundElementIds":null},{"type":"text","x":420,"y":255,"width":80,"height":20,"angle":0,"strokeColor":"#43a047","backgroundColor":"#c8e6c9","strokeWidth":1,"groupIds":[],"id":"pay-btn-label","seed":50,"version":1,"versionNonce":50,"isDeleted":false,"boundElementIds":null,"text":"Pay Now","fontSize":16,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","baseline":16}],"appState":{"viewBackgroundColor":"#ffffff"},"files":{}}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-5-004-error-empty-state-legacy.excalidraw">
{"type":"excalidraw","version":2,"source":"copilot","elements":[{"type":"rectangle","version":1,"versionNonce":1101,"isDeleted":false,"id":"error-frame","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":100,"y":60,"width":400,"height":200,"seed":701,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#ffffff"},{"type":"text","version":2,"versionNonce":1102,"isDeleted":false,"id":"title","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":180,"y":100,"width":240,"height":30,"seed":702,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":24,"fontFamily":1,"text":"No Menu Items Available","textAlign":"center","verticalAlign":"top","baseline":25},{"type":"text","version":3,"versionNonce":1103,"isDeleted":false,"id":"desc","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":180,"y":150,"width":240,"height":30,"seed":703,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":16,"fontFamily":1,"text":"Please check back later or contact staff.","textAlign":"center","verticalAlign":"top","baseline":15}],"appState":{"viewBackgroundColor":"#ffffff","currentItemStrokeColor":"#000000","currentItemBackgroundColor":"#e0e0e0","currentItemFillStyle":"hachure","currentItemStrokeWidth":1,"currentItemRoughness":1,"currentItemOpacity":100,"currentItemFontFamily":1,"currentItemFontSize":16,"currentItemTextAlign":"center","currentItemStrokeStyle":"solid"}}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-5-004-error-empty-state.excalidraw">
{"type":"excalidraw","version":2,"source":"user-story","elements":[{"type":"rectangle","x":100,"y":60,"width":600,"height":400,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":2,"groupIds":[],"id":"error-empty-state","seed":51,"version":1,"versionNonce":51,"isDeleted":false,"boundElementIds":null},{"type":"text","x":250,"y":150,"width":300,"height":40,"angle":0,"strokeColor":"#d32f2f","backgroundColor":"#ffcdd2","strokeWidth":1,"groupIds":[],"id":"error-title","seed":52,"version":1,"versionNonce":52,"isDeleted":false,"boundElementIds":null,"text":"Error / Empty State","fontSize":22,"fontFamily":1,"textAlign":"center","verticalAlign":"top","baseline":22},{"type":"ellipse","x":350,"y":210,"width":100,"height":100,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#f5f5f5","strokeWidth":2,"groupIds":[],"id":"icon","seed":53,"version":1,"versionNonce":53,"isDeleted":false,"boundElementIds":null},{"type":"text","x":270,"y":330,"width":260,"height":30,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":1,"groupIds":[],"id":"error-message","seed":54,"version":1,"versionNonce":54,"isDeleted":false,"boundElementIds":null,"text":"No items found. Please try again.","fontSize":16,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","baseline":16},{"type":"rectangle","x":350,"y":370,"width":100,"height":36,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":2,"groupIds":[],"id":"retry-btn","seed":55,"version":1,"versionNonce":55,"isDeleted":false,"boundElementIds":null},{"type":"text","x":375,"y":380,"width":50,"height":20,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":1,"groupIds":[],"id":"retry-btn-label","seed":56,"version":1,"versionNonce":56,"isDeleted":false,"boundElementIds":null,"text":"Retry","fontSize":16,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","baseline":16}],"appState":{"viewBackgroundColor":"#ffffff"},"files":{}}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-6-001-kds-legacy.excalidraw">
{"type":"excalidraw","version":2,"source":"copilot","elements":[{"type":"rectangle","version":1,"versionNonce":701,"isDeleted":false,"id":"kds-frame","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":100,"y":60,"width":600,"height":500,"seed":301,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#ffffff"},{"type":"text","version":2,"versionNonce":702,"isDeleted":false,"id":"title","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":200,"y":80,"width":400,"height":30,"seed":302,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":24,"fontFamily":1,"text":"Kitchen Display System (KDS)","textAlign":"center","verticalAlign":"top","baseline":25},{"type":"rectangle","version":3,"versionNonce":703,"isDeleted":false,"id":"orders-list","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":120,"y":130,"width":560,"height":380,"seed":303,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#e0e0e0"},{"type":"text","version":4,"versionNonce":704,"isDeleted":false,"id":"orders-label","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":140,"y":140,"width":520,"height":120,"seed":304,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":14,"fontFamily":1,"text":"#  Table  Items         Status     Time\n12   5     Burger, Soup  Ready      12:05\n11   2     Pizza         Prep       12:03\n...","textAlign":"left","verticalAlign":"top","baseline":12}],"appState":{"viewBackgroundColor":"#ffffff","currentItemStrokeColor":"#000000","currentItemBackgroundColor":"#e0e0e0","currentItemFillStyle":"hachure","currentItemStrokeWidth":1,"currentItemRoughness":1,"currentItemOpacity":100,"currentItemFontFamily":1,"currentItemFontSize":16,"currentItemTextAlign":"center","currentItemStrokeStyle":"solid"}}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-6-001-kds.excalidraw">
{"type":"excalidraw","version":2,"source":"user-story","elements":[{"type":"rectangle","x":100,"y":60,"width":600,"height":400,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":2,"groupIds":[],"id":"kds","seed":57,"version":1,"versionNonce":57,"isDeleted":false,"boundElementIds":null},{"type":"text","x":250,"y":70,"width":300,"height":30,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":1,"groupIds":[],"id":"kds-title","seed":58,"version":1,"versionNonce":58,"isDeleted":false,"boundElementIds":null,"text":"Kitchen Display System (KDS)","fontSize":22,"fontFamily":1,"textAlign":"center","verticalAlign":"top","baseline":22},{"type":"rectangle","x":120,"y":120,"width":560,"height":220,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"orders-list","seed":59,"version":1,"versionNonce":59,"isDeleted":false,"boundElementIds":null},{"type":"text","x":130,"y":130,"width":540,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"orders-list-label","seed":60,"version":1,"versionNonce":60,"isDeleted":false,"boundElementIds":null,"text":"Active Orders","fontSize":16,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":16},{"type":"rectangle","x":140,"y":160,"width":400,"height":30,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"order-row-1","seed":61,"version":1,"versionNonce":61,"isDeleted":false,"boundElementIds":null},{"type":"text","x":150,"y":165,"width":200,"height":20,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"order-row-1-label","seed":62,"version":1,"versionNonce":62,"isDeleted":false,"boundElementIds":null,"text":"Order #123 - Table 5","fontSize":14,"fontFamily":1,"textAlign":"left","verticalAlign":"middle","baseline":14},{"type":"rectangle","x":600,"y":160,"width":60,"height":30,"angle":0,"strokeColor":"#43a047","backgroundColor":"#c8e6c9","strokeWidth":2,"groupIds":[],"id":"mark-done-btn-1","seed":63,"version":1,"versionNonce":63,"isDeleted":false,"boundElementIds":null},{"type":"text","x":610,"y":165,"width":40,"height":20,"angle":0,"strokeColor":"#43a047","backgroundColor":"#c8e6c9","strokeWidth":1,"groupIds":[],"id":"mark-done-btn-1-label","seed":64,"version":1,"versionNonce":64,"isDeleted":false,"boundElementIds":null,"text":"Done","fontSize":14,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","baseline":14}],"appState":{"viewBackgroundColor":"#ffffff"},"files":{}}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-7-001-staff-management-legacy.excalidraw">
{"type":"excalidraw","version":2,"source":"copilot","elements":[{"type":"rectangle","version":1,"versionNonce":901,"isDeleted":false,"id":"staff-frame","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":100,"y":60,"width":500,"height":400,"seed":501,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#ffffff"},{"type":"text","version":2,"versionNonce":902,"isDeleted":false,"id":"title","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":180,"y":80,"width":340,"height":30,"seed":502,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":24,"fontFamily":1,"text":"Staff Management","textAlign":"center","verticalAlign":"top","baseline":25},{"type":"rectangle","version":3,"versionNonce":903,"isDeleted":false,"id":"invite-box","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":120,"y":130,"width":200,"height":60,"seed":503,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#e0e0e0"},{"type":"text","version":4,"versionNonce":904,"isDeleted":false,"id":"invite-label","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":130,"y":140,"width":180,"height":40,"seed":504,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":14,"fontFamily":1,"text":"Invite Staff:\nEmail: ____________\nRole: [Admin|Kitchen|Server] [Send Invite]","textAlign":"left","verticalAlign":"top","baseline":12},{"type":"rectangle","version":5,"versionNonce":905,"isDeleted":false,"id":"staff-list-box","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":340,"y":130,"width":240,"height":200,"seed":505,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#e0e0e0"},{"type":"text","version":6,"versionNonce":906,"isDeleted":false,"id":"staff-list-label","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":350,"y":140,"width":220,"height":180,"seed":506,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":14,"fontFamily":1,"text":"Staff List:\nName     | Role    | Actions\nAlice    | Admin   | [Edit] [Remove]\nBob      | Kitchen | [Edit] [Remove]\n...","textAlign":"left","verticalAlign":"top","baseline":12}],"appState":{"viewBackgroundColor":"#ffffff","currentItemStrokeColor":"#000000","currentItemBackgroundColor":"#e0e0e0","currentItemFillStyle":"hachure","currentItemStrokeWidth":1,"currentItemRoughness":1,"currentItemOpacity":100,"currentItemFontFamily":1,"currentItemFontSize":16,"currentItemTextAlign":"center","currentItemStrokeStyle":"solid"}}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-7-001-staff-management.excalidraw">
{"type":"excalidraw","version":2,"source":"user-story","elements":[{"type":"rectangle","x":100,"y":60,"width":600,"height":400,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":2,"groupIds":[],"id":"staff-management","seed":65,"version":1,"versionNonce":65,"isDeleted":false,"boundElementIds":null},{"type":"text","x":250,"y":70,"width":300,"height":30,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":1,"groupIds":[],"id":"staff-management-title","seed":66,"version":1,"versionNonce":66,"isDeleted":false,"boundElementIds":null,"text":"Staff Management","fontSize":22,"fontFamily":1,"textAlign":"center","verticalAlign":"top","baseline":22},{"type":"rectangle","x":120,"y":120,"width":560,"height":220,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"staff-list","seed":67,"version":1,"versionNonce":67,"isDeleted":false,"boundElementIds":null},{"type":"text","x":130,"y":130,"width":540,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"staff-list-label","seed":68,"version":1,"versionNonce":68,"isDeleted":false,"boundElementIds":null,"text":"Staff List","fontSize":16,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":16},{"type":"rectangle","x":140,"y":160,"width":400,"height":30,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"staff-row-1","seed":69,"version":1,"versionNonce":69,"isDeleted":false,"boundElementIds":null},{"type":"text","x":150,"y":165,"width":200,"height":20,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"staff-row-1-label","seed":70,"version":1,"versionNonce":70,"isDeleted":false,"boundElementIds":null,"text":"Alice - Waiter","fontSize":14,"fontFamily":1,"textAlign":"left","verticalAlign":"middle","baseline":14},{"type":"rectangle","x":600,"y":160,"width":60,"height":30,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":2,"groupIds":[],"id":"edit-btn-1","seed":71,"version":1,"versionNonce":71,"isDeleted":false,"boundElementIds":null},{"type":"text","x":610,"y":165,"width":40,"height":20,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":1,"groupIds":[],"id":"edit-btn-1-label","seed":72,"version":1,"versionNonce":72,"isDeleted":false,"boundElementIds":null,"text":"Edit","fontSize":14,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","baseline":14}],"appState":{"viewBackgroundColor":"#ffffff"},"files":{}}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-8-001-analytics-dashboard-legacy.excalidraw">
{"type":"excalidraw","version":2,"source":"copilot","elements":[{"type":"rectangle","version":1,"versionNonce":801,"isDeleted":false,"id":"analytics-frame","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":100,"y":60,"width":600,"height":500,"seed":401,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#ffffff"},{"type":"text","version":2,"versionNonce":802,"isDeleted":false,"id":"title","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":200,"y":80,"width":400,"height":30,"seed":402,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":24,"fontFamily":1,"text":"Analytics Dashboard","textAlign":"center","verticalAlign":"top","baseline":25},{"type":"rectangle","version":3,"versionNonce":803,"isDeleted":false,"id":"metrics-box","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":120,"y":130,"width":200,"height":100,"seed":403,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#e0e0e0"},{"type":"text","version":4,"versionNonce":804,"isDeleted":false,"id":"metrics-label","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":130,"y":140,"width":180,"height":80,"seed":404,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":14,"fontFamily":1,"text":"Total Revenue: $2,340\nOrders: 120\nAOV: $19.50","textAlign":"left","verticalAlign":"top","baseline":12},{"type":"rectangle","version":5,"versionNonce":805,"isDeleted":false,"id":"chart-box","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":340,"y":130,"width":340,"height":200,"seed":405,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#e0e0e0"},{"type":"text","version":6,"versionNonce":806,"isDeleted":false,"id":"chart-label","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":350,"y":140,"width":320,"height":180,"seed":406,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":14,"fontFamily":1,"text":"[Bar Chart: Orders by Hour]","textAlign":"center","verticalAlign":"top","baseline":12},{"type":"rectangle","version":7,"versionNonce":807,"isDeleted":false,"id":"popular-items-box","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":120,"y":250,"width":200,"height":120,"seed":407,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#e0e0e0"},{"type":"text","version":8,"versionNonce":808,"isDeleted":false,"id":"popular-items-label","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":130,"y":260,"width":180,"height":100,"seed":408,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":14,"fontFamily":1,"text":"Popular Items:\n- Burger\n- Pizza\n- Soup\n- Salad","textAlign":"left","verticalAlign":"top","baseline":12}],"appState":{"viewBackgroundColor":"#ffffff","currentItemStrokeColor":"#000000","currentItemBackgroundColor":"#e0e0e0","currentItemFillStyle":"hachure","currentItemStrokeWidth":1,"currentItemRoughness":1,"currentItemOpacity":100,"currentItemFontFamily":1,"currentItemFontSize":16,"currentItemTextAlign":"center","currentItemStrokeStyle":"solid"}}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-8-001-analytics-dashboard.excalidraw">
{"type":"excalidraw","version":2,"source":"user-story","elements":[{"type":"rectangle","x":100,"y":60,"width":600,"height":400,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":2,"groupIds":[],"id":"analytics-dashboard","seed":73,"version":1,"versionNonce":73,"isDeleted":false,"boundElementIds":null},{"type":"text","x":250,"y":70,"width":300,"height":30,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":1,"groupIds":[],"id":"analytics-dashboard-title","seed":74,"version":1,"versionNonce":74,"isDeleted":false,"boundElementIds":null,"text":"Analytics Dashboard","fontSize":22,"fontFamily":1,"textAlign":"center","verticalAlign":"top","baseline":22},{"type":"rectangle","x":120,"y":120,"width":260,"height":120,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"sales-chart","seed":75,"version":1,"versionNonce":75,"isDeleted":false,"boundElementIds":null},{"type":"text","x":130,"y":130,"width":240,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"sales-chart-label","seed":76,"version":1,"versionNonce":76,"isDeleted":false,"boundElementIds":null,"text":"Sales Chart","fontSize":16,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":16},{"type":"rectangle","x":400,"y":120,"width":260,"height":120,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"top-items","seed":77,"version":1,"versionNonce":77,"isDeleted":false,"boundElementIds":null},{"type":"text","x":410,"y":130,"width":240,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"top-items-label","seed":78,"version":1,"versionNonce":78,"isDeleted":false,"boundElementIds":null,"text":"Top Selling Items","fontSize":16,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":16},{"type":"rectangle","x":120,"y":260,"width":540,"height":60,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"metrics-row","seed":79,"version":1,"versionNonce":79,"isDeleted":false,"boundElementIds":null},{"type":"text","x":130,"y":270,"width":520,"height":40,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"metrics-label","seed":80,"version":1,"versionNonce":80,"isDeleted":false,"boundElementIds":null,"text":"Total Sales | Orders | Avg. Order Value","fontSize":16,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","baseline":16}],"appState":{"viewBackgroundColor":"#ffffff"},"files":{}}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-9-001-order-status-tracking-legacy.excalidraw">
{"type":"excalidraw","version":2,"source":"copilot","elements":[{"type":"rectangle","version":1,"versionNonce":1001,"isDeleted":false,"id":"order-status-frame","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":100,"y":60,"width":400,"height":300,"seed":601,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#ffffff"},{"type":"text","version":2,"versionNonce":1002,"isDeleted":false,"id":"title","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":180,"y":80,"width":240,"height":30,"seed":602,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":24,"fontFamily":1,"text":"Order Status Tracking","textAlign":"center","verticalAlign":"top","baseline":25},{"type":"rectangle","version":3,"versionNonce":1003,"isDeleted":false,"id":"status-box","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":120,"y":130,"width":360,"height":100,"seed":603,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#e0e0e0"},{"type":"text","version":4,"versionNonce":1004,"isDeleted":false,"id":"status-label","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":140,"y":140,"width":320,"height":80,"seed":604,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":16,"fontFamily":1,"text":"Order #1234\nStatus: Preparing\nEstimated Time: 8 min\n[Progress Bar]","textAlign":"left","verticalAlign":"top","baseline":15},{"type":"rectangle","version":5,"versionNonce":1005,"isDeleted":false,"id":"items-box","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":120,"y":240,"width":360,"height":80,"seed":605,"groupIds":[],"strokeColor":"#000000","backgroundColor":"#f0f0f0"},{"type":"text","version":6,"versionNonce":1006,"isDeleted":false,"id":"items-label","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":140,"y":250,"width":320,"height":60,"seed":606,"groupIds":[],"strokeColor":"#000000","backgroundColor":"transparent","fontSize":14,"fontFamily":1,"text":"Items:\n- Burger\n- Soup","textAlign":"left","verticalAlign":"top","baseline":12}],"appState":{"viewBackgroundColor":"#ffffff","currentItemStrokeColor":"#000000","currentItemBackgroundColor":"#e0e0e0","currentItemFillStyle":"hachure","currentItemStrokeWidth":1,"currentItemRoughness":1,"currentItemOpacity":100,"currentItemFontFamily":1,"currentItemFontSize":16,"currentItemTextAlign":"center","currentItemStrokeStyle":"solid"}}
</file>

<file path="docs/01-product/09-ux/wireframes/FR-9-001-order-status-tracking.excalidraw">
{"type":"excalidraw","version":2,"source":"user-story","elements":[{"type":"rectangle","x":100,"y":60,"width":600,"height":400,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":2,"groupIds":[],"id":"order-status-tracking","seed":81,"version":1,"versionNonce":81,"isDeleted":false,"boundElementIds":null},{"type":"text","x":250,"y":70,"width":300,"height":30,"angle":0,"strokeColor":"#000000","backgroundColor":"#ffffff","strokeWidth":1,"groupIds":[],"id":"order-status-tracking-title","seed":82,"version":1,"versionNonce":82,"isDeleted":false,"boundElementIds":null,"text":"Order Status Tracking","fontSize":22,"fontFamily":1,"textAlign":"center","verticalAlign":"top","baseline":22},{"type":"rectangle","x":120,"y":120,"width":560,"height":220,"angle":0,"strokeColor":"#bdbdbd","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"order-list","seed":83,"version":1,"versionNonce":83,"isDeleted":false,"boundElementIds":null},{"type":"text","x":130,"y":130,"width":540,"height":20,"angle":0,"strokeColor":"#000000","backgroundColor":"#f5f5f5","strokeWidth":1,"groupIds":[],"id":"order-list-label","seed":84,"version":1,"versionNonce":84,"isDeleted":false,"boundElementIds":null,"text":"Order List","fontSize":16,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":16},{"type":"rectangle","x":140,"y":160,"width":400,"height":30,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"order-row-1","seed":85,"version":1,"versionNonce":85,"isDeleted":false,"boundElementIds":null},{"type":"text","x":150,"y":165,"width":200,"height":20,"angle":0,"strokeColor":"#888888","backgroundColor":"#fff","strokeWidth":1,"groupIds":[],"id":"order-row-1-label","seed":86,"version":1,"versionNonce":86,"isDeleted":false,"boundElementIds":null,"text":"Order #123 - Preparing","fontSize":14,"fontFamily":1,"textAlign":"left","verticalAlign":"middle","baseline":14},{"type":"rectangle","x":600,"y":160,"width":60,"height":30,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":2,"groupIds":[],"id":"track-btn-1","seed":87,"version":1,"versionNonce":87,"isDeleted":false,"boundElementIds":null},{"type":"text","x":610,"y":165,"width":40,"height":20,"angle":0,"strokeColor":"#1976d2","backgroundColor":"#bbdefb","strokeWidth":1,"groupIds":[],"id":"track-btn-1-label","seed":88,"version":1,"versionNonce":88,"isDeleted":false,"boundElementIds":null,"text":"Track","fontSize":14,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","baseline":14}],"appState":{"viewBackgroundColor":"#ffffff"},"files":{}}
</file>

<file path="docs/01-product/09-ux/wireframes/README.md">
# User Story to Wireframe Mapping

| User Story ID | Title / Feature                        | Wireframe Filename                  |
|---------------|----------------------------------------|-------------------------------------|
| FR-1-001      | Basic Tenant Signup                    | FR-1-001-tenant-signup.excalidraw         |
| FR-1-002      | Email Verification                     | FR-1-002-email-verification.excalidraw    |
| FR-1-003      | Tenant Onboarding Wizard               | FR-1-003-onboarding-wizard.excalidraw     |
| FR-1-004      | Tenant Profile Management              | FR-1-004-tenant-profile-management.excalidraw |
| FR-2-001      | Create Menu Categories                 | FR-2-001-create-menu-categories.excalidraw |
| FR-2-002      | Create Menu Items                      | FR-2-002-create-menu-items.excalidraw     |
| FR-2-003      | Update/Delete Menu Items               | FR-2-003-update-delete-menu-items.excalidraw |
| FR-2-004      | Menu Item Modifiers                    | FR-2-004-menu-item-modifiers.excalidraw   |
| FR-2-005      | Menu Availability Toggle               | FR-2-005-menu-availability-toggle.excalidraw |
| FR-3-001      | Add Tables                             | FR-3-001-add-tables.excalidraw            |
| FR-3-002      | Generate QR Codes for Tables           | FR-3-002-generate-qr-codes.excalidraw     |
| FR-3-003      | Download/Print QR Codes                | FR-3-003-download-print-qr-codes.excalidraw |
| FR-3-004      | Regenerate QR Codes                    | FR-3-004-regenerate-qr-codes.excalidraw   |
| FR-4-001      | Scan QR and Load Menu                  | FR-4-001-scan-qr-load-menu.excalidraw     |
| FR-4-002      | Add Items to Cart                      | FR-4-002-add-items-to-cart.excalidraw     |
| FR-4-003      | Customize Items with Modifiers         | FR-4-003-customize-items-modifiers.excalidraw |
| FR-4-004      | Review Cart and Checkout               | FR-4-004-cart-checkout.excalidraw         |
| FR-5-004      | Error/Empty State                      | FR-5-004-error-empty-state.excalidraw     |
| FR-6-001      | Kitchen Display System (KDS)           | FR-6-001-kds.excalidraw                   |
| FR-7-001      | Staff Management                       | FR-7-001-staff-management.excalidraw      |
| FR-8-001      | Analytics Dashboard                    | FR-8-001-analytics-dashboard.excalidraw   |
| FR-9-001      | Order Status Tracking                  | FR-9-001-order-status-tracking.excalidraw |
| FR-10-001     | Admin Login                            | FR-10-001-admin-login.excalidraw          |

> This table ensures every user story is visually represented. If a story needs a unique screen, add a new wireframe and update this table.
# Wireframes

This folder contains low-fidelity wireframes for the Unified Restaurant Ordering Platform. Wireframes are used to visualize layout, navigation, and user flows before detailed design and development.

## How to Use
- Review each wireframe with stakeholders and the development team.
- Update wireframes based on feedback before moving to high-fidelity mockups.
- Link relevant wireframes in user stories and sprint plans for reference.

## Key Screens to Include
- Tenant Signup & Login
- Onboarding Wizard
- Menu Management (CRUD)
- Table & QR Management
- Customer Menu (QR Scan)
- Cart & Checkout
- Payment Flow
- Kitchen Display System (KDS)
- Analytics Dashboard
- Staff Management

## File Naming Convention
- `01-signup.png` or `01-signup.pdf` (use sequential numbers for ordering)
- Add a short description in the filename if needed

## Tools
- Balsamiq, Figma, Whimsical, or hand-drawn scans

## Multilingual & Localization Requirement

All wireframes and user stories must support multilingual interfaces. The platform should allow users to select their preferred language (e.g., English, Vietnamese, etc.) at login or in profile/settings. All UI text, labels, and error messages must be translatable. Wireframes should visually indicate language selection controls and consider text expansion for different languages.

- Add a language selector to login, signup, and profile management screens.
- Ensure menu, cart, and checkout screens can display content in multiple languages.
- Indicate in wireframes where translations or locale-specific content will appear.

---

Add new wireframes to this folder and update this README as needed.
</file>

<file path="docs/01-product/diagrams/README.md">
# Product Diagrams Index

This folder contains Mermaid-based diagrams for the Unified Restaurant Ordering Platform. All diagrams are version-controlled as markdown with embedded Mermaid code blocks (renders automatically on GitHub, MkDocs, and most modern viewers).

## Available diagrams

### Flow & sequence diagrams
1. **[ordering-flow.md](./ordering-flow.md)**  End-to-end customer ordering sequence (QR scan  order confirmation)
2. **[qr-generation-flow.md](./qr-generation-flow.md)**  QR code generation, signing, and validation flow
3. **[order-state-machine.md](./order-state-machine.md)**  Order lifecycle state machine with valid transitions

### Journey & experience
4. **[user-journeys.md](./user-journeys.md)**  Journey maps for Customer, Tenant Admin, and Staff users

### Architecture
5. **[system-architecture.md](./system-architecture.md)**  High-level system architecture (services, data layer, external integrations)

## How to view diagrams
- **GitHub:** Mermaid renders natively in markdown preview.
- **VS Code:** Install the "Markdown Preview Mermaid Support" extension.
- **MkDocs:** Use the `mkdocs-mermaid2-plugin` (add to mkdocs.yml).
- **Docusaurus:** Mermaid is supported via `@docusaurus/theme-mermaid`.
- **Export to PNG/SVG:** Use [Mermaid Live Editor](https://mermaid.live) or CLI tools for static exports.

## Diagram conventions
- Use **Mermaid** syntax for maintainability (text-based, version-controlled).
- Include a "Related docs" section at the end of each diagram linking to SRS, user stories, ADRs.
- Update diagrams whenever requirements change (treat as code; review in PRs).

## Adding new diagrams
1. Create a new `.md` file in this folder with embedded Mermaid code.
2. Add an entry to this index.
3. Link from relevant product docs (ONE_PAGER, SRS, USER_STORIES).
4. Submit via PR with diagram explanation in the description.

## Future diagram candidates
- ER diagram (database schema)  should live in `docs/03-architecture/ER_DIAGRAM.md`
- Payment flow (Stripe integration)
- Tenant onboarding wizard flow
- Multi-location management (future feature)

## Tools & resources
- [Mermaid documentation](https://mermaid.js.org/)
- [Mermaid Live Editor](https://mermaid.live)
- [GitHub Mermaid support](https://github.blog/2022-02-14-include-diagrams-markdown-files-mermaid/)

> Created: 2025-11-01
</file>

<file path="docs/01-product/MEETINGS/README.md">
# Meetings & Notes

Use this folder to store meeting notes, decisions, and action items.

Filename convention: YYYY-MM-DD-<meeting-name>.md

Template
```
# Meeting: <Name>
Date: YYYY-MM-DD
Attendees:
- 

## Agenda
- item 1

## Notes
- 

## Decisions
- 

## Action items
- [ ] Person  task (due: YYYY-MM-DD)
```

Keep each note small and link related action items back to the relevant docs or epics.
</file>

<file path="docs/01-product/README.md">
# Product docs  `docs/01-product`

This folder contains the canonical product documentation for the Unified Restaurant Ordering Platform project. Files are intentionally numbered to indicate authoring and review order (lower numbers = higher priority).

How files are ordered

- 01-ONE_PAGER.md  Short problem statement and MVP summary (high-level communication).
- 02-SRS.md  Canonical Software Requirements Specification (detailed functional and non-functional requirements).
- 03-SRS_CHANGELOG.md  Changelog for the SRS (versioned edits).
- 04-MVP_SCOPE.md  Explicit in-scope and out-of-scope items for the MVP.
- 05-EPICS.md  High-level epics mapped to releases/owners.
- 06-USER_STORIES.md  Prioritized user stories derived from epics (ready to turn into tickets).
- 07-ACCEPTANCE_CRITERIA.md  Formal acceptance criteria used by QA.
- 08-METRICS_KPIS.md  Core metrics, owners, and targets.
- 09-ROADMAP.md  Release schedule and milestones.
- 10-VISION_AND_OKRS.md  Product vision and top-level OKRs.
- 11-RELEASE_CRITERIA.md  Conditions that must be met for production releases.
- 12-ADR_INDEX.md + `ADR/`  Architecture Decision Records (numbered ADRs) and index.
- 13-MEETINGS_README.md + `MEETINGS/`  Meeting notes and templates.
- 14-TEMPLATES_USER_STORY.md and 15-TEMPLATES_ACCEPTANCE_TEST.md  Reusable templates for consistency.
- `diagrams/`  Mermaid diagrams (user journeys, flows, architecture, state machines). See [diagrams/README.md](./diagrams/README.md).

Naming & contribution conventions

- File names start with a two-digit prefix to reflect ordering (01, 02, 03...). Keep this prefix when adding new top-level product docs.
- Use `TEMPLATES/` for copyable templates (user stories, acceptance tests). Create new docs by copying a template and adding a numeric prefix.
- ADRs live in `ADR/` and are numbered with the `0001-<slug>.md` pattern; add new ADR files and update `12-ADR_INDEX.md` with a link.
- Update `03-SRS_CHANGELOG.md` whenever `02-SRS.md` changes. Changes to `02-SRS.md` should be made via PR with a changelog entry.

PR / review rules

- All edits to files in this folder must be made via Pull Request.
- Include the related SRS/epic/story IDs in the PR description (e.g., `FR-4`, `EPIC-03`).
- Add reviewers: Product Owner + Tech Lead for SRS/epics; Developer + QA for user stories and acceptance criteria.

Publishing & docs site

- We publish a rendered docs site from the `docs/` folder (e.g., via MkDocs or Docusaurus). See `docs/` root for CI/pipeline instructions (not yet configured).

Quick actions

- To add a new top-level product doc:
  1. Copy the closest template in `TEMPLATES/` if applicable.
  2. Choose the next numeric prefix based on desired ordering.
  3. Create a PR referencing the SRS/EPIC and a changelog entry if it affects requirements.

Contact

- For questions about product docs structure contact: Product Owner / doc owner (add contact here).

> Created: 2025-10-31
</file>

<file path="docs/02-api/openapi.yaml">
openapi: 3.0.3
info:
	title: Smart Restaurant API (MVP)
	version: 0.1.0
	description: >-
		Contract-first spec for MVP features: Auth, Tenants, Tables & QR,
		Menu, Orders, Payments, and Public Scan.
servers:
	- url: https://api.smart-restaurant.local/v1
		description: Staging
	- url: http://localhost:4000/v1
		description: Local
tags:
	- name: Auth
	- name: Tenants
	- name: Tables & QR
	- name: Menu
	- name: Orders
	- name: Payments
	- name: Public
paths:
	/auth/login:
		post:
			tags: [Auth]
			summary: Login with email/password
			requestBody:
				required: true
				content:
					application/json:
						schema:
							type: object
							required: [email, password]
							properties:
								email:
									type: string
									format: email
								password:
									type: string
			responses:
				'200':
					description: OK
					content:
						application/json:
							schema:
								type: object
								properties:
									accessToken:
										type: string
									tokenType:
										type: string
										example: Bearer
				'401':
					$ref: '#/components/responses/Unauthorized'

	/tenants:
		post:
			tags: [Tenants]
			summary: Create tenant (signup)
			security: []
			requestBody:
				required: true
				content:
					application/json:
						schema:
							$ref: '#/components/schemas/TenantCreate'
			responses:
				'201':
					description: Created
					content:
						application/json:
							schema:
								$ref: '#/components/schemas/Tenant'
	/tenants/{tenantId}:
		get:
			tags: [Tenants]
			summary: Get tenant by id
			parameters:
				- $ref: '#/components/parameters/TenantId'
			responses:
				'200':
					description: OK
					content:
						application/json:
							schema:
								$ref: '#/components/schemas/Tenant'
				'404':
					$ref: '#/components/responses/NotFound'

	/tenants/{tenantId}/tables:
		post:
			tags: [Tables & QR]
			summary: Create table for tenant
			parameters:
				- $ref: '#/components/parameters/TenantId'
			requestBody:
				required: true
				content:
					application/json:
						schema:
							$ref: '#/components/schemas/TableCreate'
			responses:
				'201':
					description: Created
					content:
						application/json:
							schema:
								$ref: '#/components/schemas/Table'

	/tables/{tableId}/qrcode:
		post:
			tags: [Tables & QR]
			summary: Generate or regenerate QR for a table (increments token version)
			parameters:
				- $ref: '#/components/parameters/TableId'
			responses:
				'200':
					description: OK
					content:
						application/json:
							schema:
								type: object
								properties:
									url:
										type: string
										description: Public scan URL containing signed token
									image:
										type: string
										format: byte
										description: Base64 PNG/SVG

	/public/scan/{token}:
		get:
			tags: [Public]
			summary: Validate scan token and return redirect target or error
			parameters:
				- name: token
					in: path
					required: true
					schema:
						type: string
			responses:
				'200':
					description: Valid token
					content:
						application/json:
							schema:
								type: object
								properties:
									tenantId:
										type: string
									tableId:
										type: string
									redirect:
										type: string
				'410':
					description: Token expired or invalidated

	/tenants/{tenantId}/menu/categories:
		get:
			tags: [Menu]
			summary: List categories
			parameters:
				- $ref: '#/components/parameters/TenantId'
			responses:
				'200':
					description: OK
					content:
						application/json:
							schema:
								type: array
								items:
									$ref: '#/components/schemas/MenuCategory'
		post:
			tags: [Menu]
			summary: Create category
			parameters:
				- $ref: '#/components/parameters/TenantId'
			requestBody:
				required: true
				content:
					application/json:
						schema:
							$ref: '#/components/schemas/MenuCategoryCreate'
			responses:
				'201':
					description: Created
					content:
						application/json:
							schema:
								$ref: '#/components/schemas/MenuCategory'

	/tenants/{tenantId}/menu/items:
		post:
			tags: [Menu]
			summary: Create menu item
			parameters:
				- $ref: '#/components/parameters/TenantId'
			requestBody:
				required: true
				content:
					application/json:
						schema:
							$ref: '#/components/schemas/MenuItemCreate'
			responses:
				'201':
					description: Created
					content:
						application/json:
							schema:
								$ref: '#/components/schemas/MenuItem'

	/orders:
		post:
			tags: [Orders]
			summary: Create order
			requestBody:
				required: true
				content:
					application/json:
						schema:
							$ref: '#/components/schemas/OrderCreate'
			responses:
				'201':
					description: Created
					content:
						application/json:
							schema:
								$ref: '#/components/schemas/Order'

	/orders/{orderId}:
		get:
			tags: [Orders]
			summary: Get order by id
			parameters:
				- $ref: '#/components/parameters/OrderId'
			responses:
				'200':
					description: OK
					content:
						application/json:
							schema:
								$ref: '#/components/schemas/Order'
				'404':
					$ref: '#/components/responses/NotFound'

	/orders/{orderId}/status:
		patch:
			tags: [Orders]
			summary: Update order status (staff flow)
			parameters:
				- $ref: '#/components/parameters/OrderId'
			requestBody:
				required: true
				content:
					application/json:
						schema:
							type: object
							required: [status]
							properties:
								status:
									type: string
									enum: [Received, Preparing, Ready, Completed, Cancelled]
			responses:
				'200':
					description: OK
					content:
						application/json:
							schema:
								$ref: '#/components/schemas/Order'

	/payments/intent:
		post:
			tags: [Payments]
			summary: Create payment intent (card) or mark bill-to-table
			requestBody:
				required: true
				content:
					application/json:
						schema:
							$ref: '#/components/schemas/PaymentIntentCreate'
			responses:
				'201':
					description: Created
					content:
						application/json:
							schema:
								$ref: '#/components/schemas/PaymentIntent'

	/webhooks/payments/stripe:
		post:
			tags: [Payments]
			summary: Stripe webhook (idempotent)
			security: []
			requestBody:
				required: true
				content:
					application/json:
						schema:
							type: object
			responses:
				'200':
					description: OK

components:
	securitySchemes:
		bearerAuth:
			type: http
			scheme: bearer
			bearerFormat: JWT
	parameters:
		TenantId:
			name: tenantId
			in: path
			required: true
			schema:
				type: string
		TableId:
			name: tableId
			in: path
			required: true
			schema:
				type: string
		OrderId:
			name: orderId
			in: path
			required: true
			schema:
				type: string
	responses:
		Unauthorized:
			description: Unauthorized
		NotFound:
			description: Not found
	schemas:
		TenantCreate:
			type: object
			required: [name, email]
			properties:
				name: { type: string }
				email: { type: string, format: email }
				timezone: { type: string }
		Tenant:
			type: object
			properties:
				id: { type: string }
				name: { type: string }
				email: { type: string }
				timezone: { type: string }

		TableCreate:
			type: object
			required: [name, capacity]
			properties:
				name: { type: string }
				capacity: { type: integer }
				location: { type: string }
		Table:
			type: object
			properties:
				id: { type: string }
				tenantId: { type: string }
				name: { type: string }
				capacity: { type: integer }
				location: { type: string }

		MenuCategoryCreate:
			type: object
			required: [name]
			properties:
				name: { type: string }
				description: { type: string }
		MenuCategory:
			type: object
			properties:
				id: { type: string }
				tenantId: { type: string }
				name: { type: string }
				description: { type: string }
		MenuItemCreate:
			type: object
			required: [name, price, categoryId]
			properties:
				name: { type: string }
				description: { type: string }
				imageUrl: { type: string }
				price: { type: number, format: float }
				currency: { type: string, example: VND }
				categoryId: { type: string }
				modifiers:
					type: array
					items:
						$ref: '#/components/schemas/Modifier'
		MenuItem:
			allOf:
				- $ref: '#/components/schemas/MenuItemCreate'
				- type: object
					properties:
						id: { type: string }
						tenantId: { type: string }
		Modifier:
			type: object
			properties:
				name: { type: string }
				type: { type: string, enum: [single, multiple] }
				options:
					type: array
					items:
						type: object
						properties:
							label: { type: string }
							priceDelta: { type: number, format: float }

		OrderCreate:
			type: object
			required: [tenantId, tableId, items]
			properties:
				tenantId: { type: string }
				tableId: { type: string }
				items:
					type: array
					items:
						$ref: '#/components/schemas/OrderItemCreate'
				note: { type: string }
				paymentMethod: { type: string, enum: [card, bill_to_table] }
		OrderItemCreate:
			type: object
			required: [itemId, quantity]
			properties:
				itemId: { type: string }
				quantity: { type: integer, minimum: 1 }
				modifiers:
					type: array
					items:
						type: object
						properties:
							name: { type: string }
							selected: { type: array, items: { type: string } }
		Order:
			type: object
			properties:
				id: { type: string }
				tenantId: { type: string }
				tableId: { type: string }
				status: { type: string, enum: [Draft, Submitted, PaymentPending, PaymentFailed, Received, Preparing, Ready, Completed, Cancelled] }
				items:
					type: array
					items:
						type: object
				total:
					type: number
					format: float
				currency: { type: string, example: VND }

		PaymentIntentCreate:
			type: object
			required: [orderId, method]
			properties:
				orderId: { type: string }
				method: { type: string, enum: [card, bill_to_table] }
		PaymentIntent:
			type: object
			properties:
				id: { type: string }
				orderId: { type: string }
				provider: { type: string, example: stripe }
				clientSecret: { type: string }
				status: { type: string, enum: [requires_payment_method, requires_action, succeeded, canceled] }

security:
	- bearerAuth: []
</file>

<file path="src/backend/api-gateway/src/common/filters/global-exception.filter.ts">
import { Catch, ExceptionFilter, ArgumentsHost, HttpStatus } from '@nestjs/common';
import { Response } from 'express';

@Catch()
export class GlobalExceptionFilter implements ExceptionFilter {
	catch(exception: any, host: ArgumentsHost) {
		const ctx = host.switchToHttp();
		const response = ctx.getResponse<Response>();
		const request = ctx.getRequest();

		const status = exception.status || exception.code || HttpStatus.INTERNAL_SERVER_ERROR;
		const message = exception.message || 'Internal server error';

		const errorResponse: any = {
			code: exception.code || status,
			message: message,
			timestamp: new Date().toISOString(),
			path: request.url,
		};

		if (exception.errors) {
			errorResponse.errors = exception.errors;
		}

		if (exception.data) {
			errorResponse.data = exception.data;
		}

		response.status(status).json(errorResponse);
	}
}
</file>

<file path="src/backend/api-gateway/src/common/filters/index.ts">
// Export all filters
export { GlobalExceptionFilter } from './global-exception.filter';
export { RpcExceptionFilter } from './rpc-exception.filter';
</file>

<file path="src/backend/api-gateway/src/common/filters/rpc-exception.filter.ts">
import { Catch, ExceptionFilter, ArgumentsHost, HttpStatus } from '@nestjs/common';
import { RpcException } from '@nestjs/microservices';
import { Response } from 'express';

@Catch(RpcException)
export class RpcExceptionFilter implements ExceptionFilter {
	catch(exception: RpcException, host: ArgumentsHost) {
		const ctx = host.switchToHttp();
		const response = ctx.getResponse<Response>();

		const error = exception.getError();

		if (typeof error === 'object' && error !== null) {
			const errorObj = error as any;
			const statusCode = errorObj.status;

			return response.status(statusCode).json({
				code: errorObj.code,
				message: errorObj.message,
				errors: errorObj.errors,
				timestamp: new Date().toISOString(),
			});
		}

		return response.status(HttpStatus.INTERNAL_SERVER_ERROR).json({
			code: 9999,
			message: typeof error === 'string' ? error : 'Internal server error',
			timestamp: new Date().toISOString(),
		});
	}
}
</file>

<file path="src/backend/api-gateway/src/common/guards/check-role/check-role.guard.spec.ts">
import { CheckRoleGuard } from './check-role.guard';

describe('CheckRoleGuard', () => {
  it('should be defined', () => {
    expect(new CheckRoleGuard()).toBeDefined();
  });
});
</file>

<file path="src/backend/api-gateway/src/common/guards/check-role/check-role.guard.ts">
import { CanActivate, ExecutionContext, Injectable } from '@nestjs/common';
import { Request } from 'express';
import { Observable } from 'rxjs';
import AppException from '@shared/exceptions/app-exception';
import ErrorCode from '@shared/exceptions/error-code';
import { RequestUser } from '@shared/types';

export default function Role(...roles: string[]) {
	@Injectable()
	class CheckRoleGuard implements CanActivate {
		canActivate(
			context: ExecutionContext,
		): boolean | Promise<boolean> | Observable<boolean> {
			const request = context.switchToHttp().getRequest();
			const user = request.user as RequestUser | undefined;

			if (!user || !user.roles) {
				throw new AppException(ErrorCode.UNAUTHORIZED);
			}

			const userRoles: string[] = user.roles;
			console.log('User roles:', userRoles);

			for (const role of roles) {
				if (userRoles.includes(role)) {
					return true;
				}
			}

			throw new AppException(ErrorCode.FORBIDDEN || ErrorCode.UNAUTHORIZED);
		}
	}

	return new CheckRoleGuard();
}
</file>

<file path="src/backend/api-gateway/src/common/guards/get-role/auth.guard.ts">
import { Injectable, CanActivate, ExecutionContext, Inject } from '@nestjs/common';
import { ConfigService } from '@nestjs/config';
import { ClientProxy } from '@nestjs/microservices';
import { firstValueFrom } from 'rxjs';
import AppException from '@shared/exceptions/app-exception';
import ErrorCode from '@shared/exceptions/error-code';

@Injectable()
export class AuthGuard implements CanActivate {
	constructor(
		@Inject('IDENTITY_SERVICE') private readonly identityClient: ClientProxy,
		private readonly configService: ConfigService,
	) {}

	async canActivate(context: ExecutionContext): Promise<boolean> {
		const request = context.switchToHttp().getRequest();
		const response = context.switchToHttp().getResponse();

		const authHeader = request.headers.authorization;
		if (!authHeader || !authHeader.startsWith('Bearer ')) {
			throw new AppException(ErrorCode.UNAUTHORIZED);
		}

		const accessToken = authHeader.substring(7);

		const refreshToken = request.cookies?.['refreshToken'];

		try {
			const validateResponse = await firstValueFrom(
				this.identityClient.send('auth:validate-token', {
					accessToken,
					refreshToken,
					identityApiKey: this.configService.get('IDENTITY_API_KEY'),
				}),
			);

			if (!validateResponse || validateResponse.code !== 200) {
				throw new AppException(ErrorCode.UNAUTHORIZED);
			}

			const data = validateResponse.data;

			if (!data || !data.valid || !data.user) {
				throw new AppException(ErrorCode.UNAUTHORIZED);
			}
			request.user = data.user;

			if (data.newAccessToken) {
				response.setHeader('X-New-Access-Token', data.newAccessToken);
			}

			return true;
		} catch (error) {
			console.error('Auth validation error:', error);
			throw new AppException(ErrorCode.UNAUTHORIZED);
		}
	}
}
</file>

<file path="src/backend/api-gateway/src/common/guards/index.ts">
// Export all guards
export { default as CheckRoleGuard } from './check-role/check-role.guard';
export { AuthGuard } from './get-role/auth.guard';
</file>

<file path="src/backend/api-gateway/src/common/index.ts">
// Export logger
export * from './logger';
</file>

<file path="src/backend/api-gateway/src/common/interceptors/index.ts">
// Export all interceptors
export { TransformResponseInterceptor } from './transform-response.interceptor';
</file>

<file path="src/backend/api-gateway/src/common/interceptors/transform-response.interceptor.ts">
import {
	Injectable,
	NestInterceptor,
	ExecutionContext,
	CallHandler,
} from '@nestjs/common';
import { ApiResponse } from '@shared/types';
import { Observable } from 'rxjs';
import { map } from 'rxjs/operators';

@Injectable()
export class TransformResponseInterceptor implements NestInterceptor {
	intercept(context: ExecutionContext, next: CallHandler): Observable<any> {
		return next.handle().pipe(
			map((data) => {
				if (data instanceof ApiResponse) {
					return data;
				}

				if (data && typeof data === 'object' && 'code' in data && 'message' in data) {
					return data;
				}

				return {
					code: 200,
					message: 'Success',
					data: data,
				};
			}),
		);
	}
}
</file>

<file path="src/backend/api-gateway/src/common/logger.ts">
import * as winston from 'winston';
import 'winston-daily-rotate-file';

export const winstonConfig = {
	transports: [
		new winston.transports.Console({
			level: 'info',
			format: winston.format.combine(
				winston.format.colorize(),
				winston.format.timestamp(),
				// eslint-disable-next-line @typescript-eslint/no-explicit-any
				winston.format.printf(({ level, message, timestamp }) => {
					return `${timestamp} [${level}]: ${message}`;
				}),
			),
		}),

		new winston.transports.DailyRotateFile({
			dirname: 'logs',
			filename: 'app-%DATE%.log',
			datePattern: 'YYYY-MM-DD',
			maxSize: '10m',
			maxFiles: '7d',
			level: 'info',
			zippedArchive: true,
			format: winston.format.combine(winston.format.timestamp(), winston.format.json()),
		}),

		new winston.transports.DailyRotateFile({
			dirname: 'logs',
			filename: 'error-%DATE%.log',
			datePattern: 'YYYY-MM-DD',
			level: 'error',
			maxSize: '5m',
			maxFiles: '30d',
			zippedArchive: true,
			format: winston.format.combine(winston.format.timestamp(), winston.format.json()),
		}),
	],
};

export const logger = winston.createLogger(winstonConfig);
</file>

<file path="src/backend/api-gateway/src/common/middleware/index.ts">
// Export all middleware
export { LoggerMiddleware } from './logger/logger.middleware';
</file>

<file path="src/backend/api-gateway/src/common/middleware/logger/logger.middleware.spec.ts">
import { LoggerMiddleware } from './logger.middleware';

describe('LoggerMiddleware', () => {
  it('should be defined', () => {
    expect(new LoggerMiddleware()).toBeDefined();
  });
});
</file>

<file path="src/backend/api-gateway/src/common/middleware/logger/logger.middleware.ts">
import { logger } from '../../logger';
import { Injectable, NestMiddleware } from '@nestjs/common';
import { Request, Response, NextFunction } from 'express';

@Injectable()
export class LoggerMiddleware implements NestMiddleware {
	use(req: Request, res: Response, next: NextFunction) {
		const startTime = Date.now();
		const ip = req.ip || req.headers['x-forwarded-for'] || req.connection.remoteAddress;
		const method = req.method;
		const url = req.originalUrl || req.url;
		const userAgent = req.headers['user-agent'] || '';

		const originalSend = res.send;
		let responseBody: any;

		res.send = function (body: any): Response {
			responseBody = body;
			return originalSend.call(this, body);
		};

		res.on('finish', () => {
			const duration = Date.now() - startTime;
			const statusCode = res.statusCode;

			const logData = {
				timestamp: new Date().toISOString(),
				request: {
					method: method,
					url: url,
					ip: String(ip),
					userAgent: userAgent,
					body: req.body || {},
					query: req.query || {},
					params: req.params || {},
				},
				response: {
					statusCode: statusCode,
					body: responseBody ? JSON.parse(responseBody) : null,
				},
				duration: `${duration}ms`,
			};

			if (statusCode >= 500) {
				logger.error(JSON.stringify(logData, null, 2));
			} else if (statusCode >= 400) {
				logger.warn(JSON.stringify(logData, null, 2));
			} else {
				logger.info(JSON.stringify(logData, null, 2));
			}
		});

		next();
	}
}
</file>

<file path="src/backend/api-gateway/src/common/middleware/rate-limit/rate-limit.middleware.spec.ts">
import { RateLimitMiddleware } from './rate-limit.middleware';

describe('RateLimitMiddleware', () => {
	it('should be defined', () => {
		expect(new RateLimitMiddleware()).toBeDefined();
	});
});
</file>

<file path="src/backend/api-gateway/src/common/types/express.d.ts">
import { RequestUser } from '@shared/types';

declare global {
	namespace Express {
		interface Request {
			user?: RequestUser;
		}
	}
}
</file>

<file path="src/backend/api-gateway/src/services/table/table.controller.spec.ts">
import { Test, TestingModule } from '@nestjs/testing';
import { TableController } from './table.controller';

describe('TableController', () => {
	let controller: TableController;

	beforeEach(async () => {
		const module: TestingModule = await Test.createTestingModule({
			controllers: [TableController],
		}).compile();

		controller = module.get<TableController>(TableController);
	});

	it('should be defined', () => {
		expect(controller).toBeDefined();
	});
});
</file>

<file path="src/backend/api-gateway/src/services/table/table.controller.ts">
import { ConfigService } from '@nestjs/config';
import { Controller, Inject } from '@nestjs/common';
import { ClientProxy } from '@nestjs/microservices';

@Controller('table')
export class TableController {
	constructor(
		@Inject('TABLE_SERVICE') private readonly tableClient: ClientProxy,
		private readonly configService: ConfigService,
	) {}
}
</file>

<file path="src/backend/identity/migrations/update-remove-token-table.sql">
-- Add new columns
ALTER TABLE remove_token
ADD COLUMN IF NOT EXISTS token_type VARCHAR(20) NOT NULL DEFAULT 'access',
ADD COLUMN IF NOT EXISTS user_id VARCHAR(255),
ADD COLUMN IF NOT EXISTS created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP;

-- Add index for faster cleanup queries
CREATE INDEX IF NOT EXISTS idx_remove_token_expiry ON remove_token (expiry_date);

-- Add index for user tracking
CREATE INDEX IF NOT EXISTS idx_remove_token_user ON remove_token (user_id);

-- Add composite index for token lookup
CREATE INDEX IF NOT EXISTS idx_remove_token_token_type ON remove_token (token, token_type);

-- Comment
COMMENT ON COLUMN remove_token.token_type IS 'Type of token: access or refresh';

COMMENT ON COLUMN remove_token.user_id IS 'User ID who owns the token';

COMMENT ON COLUMN remove_token.created_at IS 'When token was blacklisted';
</file>

<file path="src/backend/identity/src/auth/dtos/request/auth-me-request.dto.ts">
import { IsNotEmpty, IsOptional, Length } from 'class-validator';

export class AuthMeRequestDto {
	@IsNotEmpty({ message: 'userId should not be empty' })
	@Length(20, 50, { message: 'userId must be between 20 and 50 characters' })
	userId: string;

	@IsOptional()
	identityApiKey?: string;
}
</file>

<file path="src/backend/identity/src/auth/dtos/request/refresh-token-request.dto.ts">
import { IsNotEmpty, IsOptional } from 'class-validator';

export class RefreshTokenRequestDto {
	@IsOptional()
	identityApiKey?: string;
}
</file>

<file path="src/backend/identity/src/auth/dtos/request/validate-token-request.dto.ts">
import { IsNotEmpty, IsOptional } from 'class-validator';

export class ValidateTokenRequestDto {
	@IsNotEmpty({ message: 'Access token is required' })
	accessToken: string;

	@IsOptional()
	refreshToken?: string;

	@IsOptional()
	identityApiKey?: string;
}
</file>

<file path="src/backend/identity/src/auth/dtos/response/refresh-token-response.dto.ts">
export class RefreshTokenResponseDto {
	accessToken: string;
	userId: string;
	username: string;
	email: string;
	roles?: string[];
	constructor(partial: Partial<RefreshTokenResponseDto>) {
		Object.assign(this, partial);
	}
}
</file>

<file path="src/backend/identity/src/auth/dtos/response/validate-token-response.dto.ts">
import { TokenValidationResult } from '@shared/types';

// Re-export TokenValidationResult as ValidateTokenResponseDto for backward compatibility
export class ValidateTokenResponseDto implements TokenValidationResult {
	valid: boolean;
	user?: {
		userId: string;
		username: string;
		email: string;
		roles: string[];
	};
	newAccessToken?: string;
}
</file>

<file path="src/backend/identity/src/authorities/dtos/request/get-all-authorities-request.dto.ts">
import { IsOptional } from 'class-validator';

export class GetAllAuthoritiesRequestDto {
	@IsOptional()
	identityApiKey?: string;
}
</file>

<file path="src/backend/identity/src/common/config/index.ts">
// Export all config modules
export { JwtConfigModule } from './jwt.config.module';
</file>

<file path="src/backend/identity/src/common/config/jwt.config.module.ts">
import { Module } from '@nestjs/common';
import { JwtModule } from '@nestjs/jwt';
import { ConfigModule, ConfigService } from '@nestjs/config';

@Module({
	imports: [
		JwtModule.registerAsync({
			imports: [ConfigModule],
			inject: [ConfigService],
			useFactory: (configService: ConfigService) => ({
				secret: configService.get<string>('JWT_SECRET_KEY'),
				// Khng set signOptions mc nh v s sign ring cho access & refresh
			}),
		}),
	],
	exports: [JwtModule],
})
export class JwtConfigModule {}
</file>

<file path="src/backend/identity/src/common/decorators/decorator-function/match-password.decorator.ts">
import { registerDecorator } from 'class-validator';
import { ValidationOptions } from 'class-validator/types/decorator/ValidationOptions';
import { MatchPasswordConstraint } from 'src/common/decorators/validation-constraint/match-password.validation-constraint';

export function MatchPassword(property: string, validationOptions?: ValidationOptions) {
	return function (object: any, propertyName: string) {
		registerDecorator({
			name: 'MatchPassword',
			target: object.constructor,
			propertyName: propertyName,
			constraints: [property],
			options: validationOptions,
			validator: MatchPasswordConstraint,
		});
	};
}
</file>

<file path="src/backend/identity/src/common/decorators/index.ts">
// Export all decorators
export { MatchPassword } from './decorator-function/match-password.decorator';
export { MatchPasswordConstraint } from './validation-constraint/match-password.validation-constraint';
</file>

<file path="src/backend/identity/src/common/decorators/validation-constraint/match-password.validation-constraint.ts">
import {
	ValidatorConstraint,
	ValidatorConstraintInterface,
	ValidationArguments,
} from 'class-validator';

@ValidatorConstraint({ name: 'MatchPassword', async: false })
export class MatchPasswordConstraint implements ValidatorConstraintInterface {
	validate(value: any, args: ValidationArguments) {
		const [relatedPropertyName] = args.constraints;
		return value === (args.object as any)[relatedPropertyName];
	}

	defaultMessage(args: ValidationArguments) {
		const [relatedPropertyName] = args.constraints;
		return `${args.property} must match ${relatedPropertyName}`;
	}
}
</file>

<file path="src/backend/identity/src/common/entities/authority.ts">
import { Role } from 'src/common/entities/role';
import { Column, Entity, JoinTable, ManyToMany, PrimaryColumn } from 'typeorm';

@Entity()
export class Authority {
	@PrimaryColumn()
	name: number;

	@Column({ nullable: true })
	description?: string;

	@Column({ nullable: false, type: 'timestamptz', default: () => 'CURRENT_TIMESTAMP' })
	createdAt: Date;

	@ManyToMany(() => Role, (role) => role.authorities)
	@JoinTable()
	roles: Role[];
}
</file>

<file path="src/backend/identity/src/common/entities/index.ts">
// Export all entities
export { User } from './user';
export { Role } from './role';
export { Authority } from './authority';
export { RemoveToken } from './remove-token';
</file>

<file path="src/backend/identity/src/common/entities/remove-token.ts">
import { Column, Entity, PrimaryColumn, CreateDateColumn } from 'typeorm';

@Entity()
export class RemoveToken {
	@PrimaryColumn()
	token: string;

	@Column({ nullable: false, type: 'varchar', length: 20 })
	tokenType: 'access' | 'refresh';

	@Column({ nullable: false, type: 'timestamp' })
	expiryDate: Date;

	@CreateDateColumn({ type: 'timestamp' })
	createdAt: Date;

	@Column({ nullable: true, type: 'varchar', length: 255 })
	userId?: string;
}
</file>

<file path="src/backend/identity/src/common/entities/role.ts">
import { Authority } from 'src/common/entities/authority';
import { User } from 'src/common/entities/user';
import { Column, Entity, JoinTable, ManyToMany, PrimaryColumn } from 'typeorm';

@Entity()
export class Role {
	@PrimaryColumn()
	name: number;

	@Column({ nullable: true })
	description?: string;

	@Column({ nullable: false, type: 'timestamptz', default: () => 'CURRENT_TIMESTAMP' })
	createdAt: Date;

	@ManyToMany(() => User, (user) => user.roles)
	users: User[];

	@ManyToMany(() => Authority, (authority) => authority.roles, { cascade: true })
	@JoinTable()
	authorities: Authority[];
}
</file>

<file path="src/backend/identity/src/common/entities/user.ts">
import { Role } from 'src/common/entities/role';
import { Entity, Column, PrimaryGeneratedColumn, ManyToMany, JoinTable } from 'typeorm';

@Entity()
export class User {
	@PrimaryGeneratedColumn('uuid')
	userId: string;

	@Column({ unique: true, nullable: false })
	username: string;

	@Column({ nullable: true })
	email?: string;

	@Column({ nullable: false })
	password: string;

	@ManyToMany(() => Role, (role) => role.users, { cascade: true })
	@JoinTable()
	roles: Role[];
}
</file>

<file path="src/backend/identity/src/common/filters/catch-app-exception/catch-app-exception.filter.spec.ts">
import { CatchAppExceptionFilter } from './catch-app-exception.filter';

describe('CatchAppExceptionFilter', () => {
  it('should be defined', () => {
    expect(new CatchAppExceptionFilter()).toBeDefined();
  });
});
</file>

<file path="src/backend/identity/src/common/filters/catch-app-exception/catch-app-exception.filter.ts">
import { ArgumentsHost, Catch, ExceptionFilter } from '@nestjs/common';
import { RpcException } from '@nestjs/microservices';
import AppException from '@shared/exceptions/app-exception';

@Catch(AppException)
export class CatchAppExceptionFilter implements ExceptionFilter {
	catch(exception: AppException, host: ArgumentsHost) {
		const errorCode = exception.getErrorCode();
		throw new RpcException({
			code: errorCode.code,
			message: errorCode.message,
			status: errorCode.httpStatus,
		});
	}
}
</file>

<file path="src/backend/identity/src/common/filters/global-exception/global-exception.filter.spec.ts">
import { GlobalExceptionFilter } from './global-exception.filter';

describe('GlobalExceptionFilter', () => {
  it('should be defined', () => {
    expect(new GlobalExceptionFilter()).toBeDefined();
  });
});
</file>

<file path="src/backend/identity/src/common/filters/global-exception/global-exception.filter.ts">
import { Catch, ArgumentsHost } from '@nestjs/common';
import { RpcException, BaseRpcExceptionFilter } from '@nestjs/microservices';
import { Observable } from 'rxjs';
import AppException from '@shared/exceptions/app-exception';

@Catch()
export class GlobalExceptionFilter extends BaseRpcExceptionFilter {
	catch(exception: any, host: ArgumentsHost): Observable<any> {
		if (exception instanceof AppException) {
			const errorCode = exception.getErrorCode();
			return super.catch(
				new RpcException({
					code: errorCode.code,
					message: errorCode.message,
					status: errorCode.httpStatus,
				}),
				host,
			);
		}

		if (exception instanceof RpcException) {
			return super.catch(exception, host);
		}

		console.error('Unhandled exception:', exception);
		const response = {
			code: 9999,
			message: 'Internal server error',
			status: 500,
			error: exception?.message || null,
		};
		return super.catch(new RpcException(response), host);
	}
}
</file>

<file path="src/backend/identity/src/common/filters/index.ts">
// Export all filters
export { GlobalExceptionFilter } from './global-exception/global-exception.filter';
export { CatchAppExceptionFilter } from './catch-app-exception/catch-app-exception.filter';
</file>

<file path="src/backend/identity/src/common/index.ts">
// Export all common modules
export * from './entities';
export * from './filters';
export * from './decorators';
export * from './config';
</file>

<file path="src/backend/identity/src/common/README.md">
# Common Modules - Identity Service

This folder contains shared code used across the Identity service modules.

##  Structure

```
common/
 config/          # Configuration modules (JWT, Database, etc.)
 decorators/      # Custom decorators and validators
 dtos/           # Shared DTOs used by multiple modules
 entities/       # TypeORM entities
 filters/        # Exception filters
```

##  Modules

### Config

- **jwt.config.module.ts** - JWT configuration for authentication

### Decorators

- **match-password.decorator.ts** - Password confirmation validator
- **match-password.validation-constraint.ts** - Validation constraint logic

### DTOs

Shared request/response DTOs:

- `request/` - Common request DTOs (auth, pagination, etc.)
- `response/` - Common response DTOs (tokens, validation, etc.)

### Entities

TypeORM entities:

- **User** - User account entity
- **Role** - User roles (ADMIN, USER, STAFF, MANAGER)
- **Authority** - Permissions (READ, WRITE, DELETE, UPDATE)
- **RemoveToken** - Token blacklist for logout

### Filters

Exception handling:

- **GlobalExceptionFilter** - Global exception handler
- **CatchAppExceptionFilter** - Custom app exception handler

##  Usage

Import from index files for clean imports:

```typescript
// Entities
import { User, Role, Authority, RemoveToken } from 'src/common/entities';

// Filters
import { GlobalExceptionFilter } from 'src/common/filters';

// Decorators
import { MatchPassword } from 'src/common/decorators';

// Config
import { JwtConfigModule } from 'src/common/config';
```

Or use direct imports when needed:

```typescript
import { User } from 'src/common/entities/user';
import { ValidateTokenRequestDto } from 'src/common/dtos/request/validate-token-request.dto';
```

##  Guidelines

- Only add code that is **truly shared** across multiple modules
- Keep module-specific code in their respective folders
- Use index.ts for clean exports
- Document new additions in this README
</file>

<file path="src/backend/identity/src/roles/dtos/request/get-all-roles-request.dto.ts">
import { IsOptional } from 'class-validator';

export class GetAllRolesRequestDto {
	@IsOptional()
	identityApiKey?: string;
}
</file>

<file path="src/backend/identity/src/users/dtos/request/get-all-users-request.dto.ts">
import { IsOptional } from 'class-validator';

export class GetAllUsersRequestDto {
	@IsOptional()
	identityApiKey?: string;
}
</file>

<file path="src/backend/identity/src/users/dtos/request/get-user-by-id-request.dto.ts">
import { IsNotEmpty, IsOptional, Length } from 'class-validator';

export class GetUserByIdRequestDto {
	@IsNotEmpty({ message: 'userId should not be empty' })
	@Length(20, 50, { message: 'userId must be between 20 and 50 characters' })
	userId: string;

	@IsOptional()
	identityApiKey?: string;
}
</file>

<file path="src/backend/product/.gitignore">
# compiled output
/dist
/node_modules
/build

# Logs
logs
*.log
npm-debug.log*
pnpm-debug.log*
yarn-debug.log*
yarn-error.log*
lerna-debug.log*

# OS
.DS_Store

# Tests
/coverage
/.nyc_output

# IDEs and editors
/.idea
.project
.classpath
.c9/
*.launch
.settings/
*.sublime-workspace

# IDE - VSCode
.vscode/*
!.vscode/settings.json
!.vscode/tasks.json
!.vscode/launch.json
!.vscode/extensions.json

# dotenv environment variable files
.env
.env.development.local
.env.test.local
.env.production.local
.env.local

# temp directory
.temp
.tmp

# Runtime data
pids
*.pid
*.seed
*.pid.lock

# Diagnostic reports (https://nodejs.org/api/report.html)
report.[0-9]*.[0-9]*.[0-9]*.[0-9]*.json
</file>

<file path="src/backend/product/.prettierrc">
{
  "arrowParens": "always",
  "bracketSameLine": false,
  "objectWrap": "preserve",
  "bracketSpacing": true,
  "semi": true,
  "experimentalOperatorPosition": "end",
  "experimentalTernaries": false,
  "singleQuote": true,
  "jsxSingleQuote": false,
  "quoteProps": "as-needed",
  "trailingComma": "all",
  "singleAttributePerLine": false,
  "htmlWhitespaceSensitivity": "css",
  "vueIndentScriptAndStyle": false,
  "proseWrap": "preserve",
  "insertPragma": false,
  "printWidth": 90,
  "requirePragma": false,
  "tabWidth": 2,
  "useTabs": true,
  "embeddedLanguageFormatting": "auto"
}
</file>

<file path="src/backend/product/eslint.config.mjs">
// @ts-check
import eslint from '@eslint/js';
import eslintPluginPrettierRecommended from 'eslint-plugin-prettier/recommended';
import globals from 'globals';
import tseslint from 'typescript-eslint';

export default tseslint.config(
	{
		ignores: ['eslint.config.mjs'],
	},
	eslint.configs.recommended,
	...tseslint.configs.recommendedTypeChecked,
	eslintPluginPrettierRecommended,
	{
		languageOptions: {
			globals: {
				...globals.node,
				...globals.jest,
			},
			sourceType: 'commonjs',
			parserOptions: {
				projectService: true,
				tsconfigRootDir: import.meta.dirname,
			},
		},
	},
	{
		rules: {
			'@typescript-eslint/no-explicit-any': 'off',
			'@typescript-eslint/no-floating-promises': 'off',
			'@typescript-eslint/no-unsafe-argument': 'off',
			'@typescript-eslint/no-unsafe-assignment': 'off',
			'@typescript-eslint/no-unsafe-member-access': 'off',
			'@typescript-eslint/no-unsafe-call': 'off',
			'@typescript-eslint/no-unsafe-return': 'off',
		},
	},
);
</file>

<file path="src/backend/product/README.md">
<p align="center">
  <a href="http://nestjs.com/" target="blank"><img src="https://nestjs.com/img/logo-small.svg" width="120" alt="Nest Logo" /></a>
</p>

[circleci-image]: https://img.shields.io/circleci/build/github/nestjs/nest/master?token=abc123def456
[circleci-url]: https://circleci.com/gh/nestjs/nest

  <p align="center">A progressive <a href="http://nodejs.org" target="_blank">Node.js</a> framework for building efficient and scalable server-side applications.</p>
    <p align="center">
<a href="https://www.npmjs.com/~nestjscore" target="_blank"><img src="https://img.shields.io/npm/v/@nestjs/core.svg" alt="NPM Version" /></a>
<a href="https://www.npmjs.com/~nestjscore" target="_blank"><img src="https://img.shields.io/npm/l/@nestjs/core.svg" alt="Package License" /></a>
<a href="https://www.npmjs.com/~nestjscore" target="_blank"><img src="https://img.shields.io/npm/dm/@nestjs/common.svg" alt="NPM Downloads" /></a>
<a href="https://circleci.com/gh/nestjs/nest" target="_blank"><img src="https://img.shields.io/circleci/build/github/nestjs/nest/master" alt="CircleCI" /></a>
<a href="https://discord.gg/G7Qnnhy" target="_blank"><img src="https://img.shields.io/badge/discord-online-brightgreen.svg" alt="Discord"/></a>
<a href="https://opencollective.com/nest#backer" target="_blank"><img src="https://opencollective.com/nest/backers/badge.svg" alt="Backers on Open Collective" /></a>
<a href="https://opencollective.com/nest#sponsor" target="_blank"><img src="https://opencollective.com/nest/sponsors/badge.svg" alt="Sponsors on Open Collective" /></a>
  <a href="https://paypal.me/kamilmysliwiec" target="_blank"><img src="https://img.shields.io/badge/Donate-PayPal-ff3f59.svg" alt="Donate us"/></a>
    <a href="https://opencollective.com/nest#sponsor"  target="_blank"><img src="https://img.shields.io/badge/Support%20us-Open%20Collective-41B883.svg" alt="Support us"></a>
  <a href="https://twitter.com/nestframework" target="_blank"><img src="https://img.shields.io/twitter/follow/nestframework.svg?style=social&label=Follow" alt="Follow us on Twitter"></a>
</p>
  <!--[![Backers on Open Collective](https://opencollective.com/nest/backers/badge.svg)](https://opencollective.com/nest#backer)
  [![Sponsors on Open Collective](https://opencollective.com/nest/sponsors/badge.svg)](https://opencollective.com/nest#sponsor)-->

## Description

[Nest](https://github.com/nestjs/nest) framework TypeScript starter repository.

## Project setup

```bash
$ npm install
```

## Compile and run the project

```bash
# development
$ npm run start

# watch mode
$ npm run start:dev

# production mode
$ npm run start:prod
```

## Run tests

```bash
# unit tests
$ npm run test

# e2e tests
$ npm run test:e2e

# test coverage
$ npm run test:cov
```

## Deployment

When you're ready to deploy your NestJS application to production, there are some key steps you can take to ensure it runs as efficiently as possible. Check out the [deployment documentation](https://docs.nestjs.com/deployment) for more information.

If you are looking for a cloud-based platform to deploy your NestJS application, check out [Mau](https://mau.nestjs.com), our official platform for deploying NestJS applications on AWS. Mau makes deployment straightforward and fast, requiring just a few simple steps:

```bash
$ npm install -g @nestjs/mau
$ mau deploy
```

With Mau, you can deploy your application in just a few clicks, allowing you to focus on building features rather than managing infrastructure.

## Resources

Check out a few resources that may come in handy when working with NestJS:

- Visit the [NestJS Documentation](https://docs.nestjs.com) to learn more about the framework.
- For questions and support, please visit our [Discord channel](https://discord.gg/G7Qnnhy).
- To dive deeper and get more hands-on experience, check out our official video [courses](https://courses.nestjs.com/).
- Deploy your application to AWS with the help of [NestJS Mau](https://mau.nestjs.com) in just a few clicks.
- Visualize your application graph and interact with the NestJS application in real-time using [NestJS Devtools](https://devtools.nestjs.com).
- Need help with your project (part-time to full-time)? Check out our official [enterprise support](https://enterprise.nestjs.com).
- To stay in the loop and get updates, follow us on [X](https://x.com/nestframework) and [LinkedIn](https://linkedin.com/company/nestjs).
- Looking for a job, or have a job to offer? Check out our official [Jobs board](https://jobs.nestjs.com).

## Support

Nest is an MIT-licensed open source project. It can grow thanks to the sponsors and support by the amazing backers. If you'd like to join them, please [read more here](https://docs.nestjs.com/support).

## Stay in touch

- Author - [Kamil Myliwiec](https://twitter.com/kammysliwiec)
- Website - [https://nestjs.com](https://nestjs.com/)
- Twitter - [@nestframework](https://twitter.com/nestframework)

## License

Nest is [MIT licensed](https://github.com/nestjs/nest/blob/master/LICENSE).
</file>

<file path="src/backend/product/src/app.controller.spec.ts">
import { Test, TestingModule } from '@nestjs/testing';
import { AppController } from './app.controller';
import { AppService } from './app.service';

describe('AppController', () => {
  let appController: AppController;

  beforeEach(async () => {
    const app: TestingModule = await Test.createTestingModule({
      controllers: [AppController],
      providers: [AppService],
    }).compile();

    appController = app.get<AppController>(AppController);
  });

  describe('root', () => {
    it('should return "Hello World!"', () => {
      expect(appController.getHello()).toBe('Hello World!');
    });
  });
});
</file>

<file path="src/backend/product/src/app.controller.ts">
import { Controller, Get } from '@nestjs/common';
import { AppService } from './app.service';

@Controller()
export class AppController {
  constructor(private readonly appService: AppService) {}

  @Get()
  getHello(): string {
    return this.appService.getHello();
  }
}
</file>

<file path="src/backend/product/src/app.service.ts">
import { Injectable } from '@nestjs/common';

@Injectable()
export class AppService {
	getHello(): string {
		return 'Hello World!';
	}
}
</file>

<file path="src/backend/product/src/category/category.controller.ts">
import { Controller } from '@nestjs/common';
import { MessagePattern } from '@nestjs/microservices';
import { CategoryService } from './category.service';

import HttpResponse from '@shared/utils/http-response';
import {
	CreateCategoryRequestDto,
	GetCategoriesRequestDto,
	UpdateCategoryRequestDto,
	PublishCategoryRequestDto,
	DeleteCategoryRequestDto,
} from 'src/category/dtos/request';

@Controller()
export class CategoryController {
	constructor(private readonly categoryService: CategoryService) {}

	@MessagePattern('categories:create')
	async createCategory(dto: CreateCategoryRequestDto) {
		const category = await this.categoryService.createCategory(dto);
		return new HttpResponse(1000, 'Category created successfully', category);
	}

	@MessagePattern('categories:get-all')
	async getCategories(dto: GetCategoriesRequestDto) {
		const categories = await this.categoryService.getCategories(dto);
		return new HttpResponse(1000, 'Categories retrieved successfully', categories);
	}

	@MessagePattern('categories:update')
	async updateCategory(dto: UpdateCategoryRequestDto) {
		const category = await this.categoryService.updateCategory(dto);
		return new HttpResponse(1000, 'Category updated successfully', category);
	}

	@MessagePattern('categories:publish')
	async publishCategory(dto: PublishCategoryRequestDto) {
		const category = await this.categoryService.publishCategory(dto);
		return new HttpResponse(1000, 'Category publish status updated', category);
	}

	@MessagePattern('categories:delete')
	async deleteCategory(dto: DeleteCategoryRequestDto) {
		await this.categoryService.deleteCategory(dto);
		return new HttpResponse(1000, 'Category deleted successfully');
	}
}
</file>

<file path="src/backend/product/src/category/category.module.ts">
import { Module } from '@nestjs/common';
import { TypeOrmModule } from '@nestjs/typeorm';
import { MenuCategory } from 'src/common/entities';
import { CategoryService } from './category.service';
import { CategoryController } from './category.controller';
import { ConfigModule } from '@nestjs/config';

@Module({
	imports: [TypeOrmModule.forFeature([MenuCategory]), ConfigModule],
	controllers: [CategoryController],
	providers: [CategoryService],
	exports: [CategoryService],
})
export class CategoryModule {}
</file>

<file path="src/backend/product/src/category/category.service.ts">
import { Injectable } from '@nestjs/common';
import { ConfigService } from '@nestjs/config';
import { InjectRepository } from '@nestjs/typeorm';
import { Repository } from 'typeorm';
import { MenuCategory } from 'src/common/entities';
import AppException from '@shared/exceptions/app-exception';
import ErrorCode from '@shared/exceptions/error-code';
import { CategoryResponseDto } from './dtos/response/category-response.dto';
import {
	CreateCategoryRequestDto,
	GetCategoriesRequestDto,
	UpdateCategoryRequestDto,
	PublishCategoryRequestDto,
	DeleteCategoryRequestDto,
} from 'src/category/dtos/request';

@Injectable()
export class CategoryService {
	constructor(
		@InjectRepository(MenuCategory)
		private readonly categoryRepository: Repository<MenuCategory>,
		private readonly configService: ConfigService,
	) {}

	private validateApiKey(providedKey: string): void {
		const validKey = this.configService.get<string>('PRODUCT_API_KEY');
		if (providedKey !== validKey) {
			throw new AppException(ErrorCode.UNAUTHORIZED);
		}
	}

	async createCategory(dto: CreateCategoryRequestDto): Promise<CategoryResponseDto> {
		this.validateApiKey(dto.productApiKey);

		const category = this.categoryRepository.create({
			tenantId: dto.tenantId,
			name: dto.name,
			description: dto.description,
			published: false,
			displayOrder: 0,
		});

		const saved = await this.categoryRepository.save(category);
		return this.toResponseDto(saved);
	}

	async getCategories(dto: GetCategoriesRequestDto): Promise<CategoryResponseDto[]> {
		this.validateApiKey(dto.productApiKey);

		const categories = await this.categoryRepository.find({
			where: { tenantId: dto.tenantId },
			order: { displayOrder: 'ASC', createdAt: 'ASC' },
		});

		return categories.map((cat) => this.toResponseDto(cat));
	}

	async updateCategory(dto: UpdateCategoryRequestDto): Promise<CategoryResponseDto> {
		this.validateApiKey(dto.productApiKey);

		const category = await this.categoryRepository.findOne({
			where: { id: dto.categoryId, tenantId: dto.tenantId },
		});

		if (!category) {
			throw new AppException(ErrorCode.CATEGORY_NOT_FOUND);
		}

		if (dto.name) category.name = dto.name;
		if (dto.description !== undefined) category.description = dto.description;

		const updated = await this.categoryRepository.save(category);
		return this.toResponseDto(updated);
	}

	async publishCategory(dto: PublishCategoryRequestDto): Promise<CategoryResponseDto> {
		this.validateApiKey(dto.productApiKey);

		const category = await this.categoryRepository.findOne({
			where: { id: dto.categoryId, tenantId: dto.tenantId },
		});

		if (!category) {
			throw new AppException(ErrorCode.CATEGORY_NOT_FOUND);
		}

		category.published = dto.published;
		const updated = await this.categoryRepository.save(category);
		return this.toResponseDto(updated);
	}

	async deleteCategory(dto: DeleteCategoryRequestDto): Promise<void> {
		this.validateApiKey(dto.productApiKey);

		const category = await this.categoryRepository.findOne({
			where: { id: dto.categoryId, tenantId: dto.tenantId },
		});

		if (!category) {
			throw new AppException(ErrorCode.CATEGORY_NOT_FOUND);
		}

		await this.categoryRepository.remove(category);
	}

	private toResponseDto(category: MenuCategory): CategoryResponseDto {
		return {
			id: category.id,
			tenantId: category.tenantId,
			name: category.name,
			description: category.description,
			published: category.published,
			displayOrder: category.displayOrder,
			createdAt: category.createdAt,
		};
	}
}
</file>

<file path="src/backend/product/src/category/dtos/request/create-category-request.dto.ts">
import { IsNotEmpty, IsOptional, IsString, IsUUID } from 'class-validator';

export class CreateCategoryRequestDto {
	@IsNotEmpty()
	@IsUUID()
	tenantId: string;

	@IsNotEmpty()
	@IsString()
	name: string;

	@IsOptional()
	@IsString()
	description?: string;

	@IsNotEmpty()
	@IsString()
	productApiKey: string;
}
</file>

<file path="src/backend/product/src/category/dtos/request/delete-category-request.dto.ts">
import { IsNotEmpty, IsString, IsUUID } from 'class-validator';

export class DeleteCategoryRequestDto {
	@IsNotEmpty()
	@IsUUID()
	categoryId: string;

	@IsNotEmpty()
	@IsUUID()
	tenantId: string;

	@IsNotEmpty()
	@IsString()
	productApiKey: string;
}
</file>

<file path="src/backend/product/src/category/dtos/request/get-categories-request.dto.ts">
import { IsNotEmpty, IsString, IsUUID } from 'class-validator';

export class GetCategoriesRequestDto {
	@IsNotEmpty()
	@IsUUID()
	tenantId: string;

	@IsNotEmpty()
	@IsString()
	productApiKey: string;
}
</file>

<file path="src/backend/product/src/category/dtos/request/index.ts">
export * from './create-category-request.dto';
export * from './update-category-request.dto';
export * from './get-categories-request.dto';
export * from './publish-category-request.dto';
export * from './delete-category-request.dto';
</file>

<file path="src/backend/product/src/category/dtos/request/publish-category-request.dto.ts">
import { IsBoolean, IsNotEmpty, IsString, IsUUID } from 'class-validator';

export class PublishCategoryRequestDto {
	@IsNotEmpty()
	@IsUUID()
	categoryId: string;

	@IsNotEmpty()
	@IsUUID()
	tenantId: string;

	@IsNotEmpty()
	@IsBoolean()
	published: boolean;

	@IsNotEmpty()
	@IsString()
	productApiKey: string;
}
</file>

<file path="src/backend/product/src/category/dtos/request/update-category-request.dto.ts">
import { IsNotEmpty, IsOptional, IsString, IsUUID } from 'class-validator';

export class UpdateCategoryRequestDto {
	@IsNotEmpty()
	@IsUUID()
	categoryId: string;

	@IsNotEmpty()
	@IsUUID()
	tenantId: string;

	@IsOptional()
	@IsString()
	name?: string;

	@IsOptional()
	@IsString()
	description?: string;

	@IsNotEmpty()
	@IsString()
	productApiKey: string;
}
</file>

<file path="src/backend/product/src/category/dtos/response/category-response.dto.ts">
export class CategoryResponseDto {
	id: string;
	tenantId: string;
	name: string;
	description?: string;
	published: boolean;
	displayOrder: number;
	createdAt: Date;
}
</file>

<file path="src/backend/product/src/common/entities/index.ts">
export { MenuCategory } from './menu-category.entity';
export { MenuItem } from './menu-item.entity';
export { ModifierOption } from './modifier-option.entity';
</file>

<file path="src/backend/product/src/common/entities/menu-category.entity.ts">
import {
	Column,
	CreateDateColumn,
	Entity,
	OneToMany,
	PrimaryGeneratedColumn,
} from 'typeorm';
import { MenuItem } from './menu-item.entity';

@Entity()
export class MenuCategory {
	@PrimaryGeneratedColumn('uuid')
	id: string;

	@Column()
	tenantId: string;

	@Column()
	name: string;

	@Column({ nullable: true })
	description: string;

	@Column({ default: false })
	published: boolean;

	@Column({ default: 0 })
	displayOrder: number;

	@CreateDateColumn()
	createdAt: Date;

	@OneToMany(() => MenuItem, (item) => item.category)
	items: MenuItem[];
}
</file>

<file path="src/backend/product/src/common/entities/menu-item.entity.ts">
import {
	Column,
	CreateDateColumn,
	Entity,
	JoinColumn,
	ManyToOne,
	OneToMany,
	PrimaryGeneratedColumn,
} from 'typeorm';
import { MenuCategory } from './menu-category.entity';
import { ModifierOption } from './modifier-option.entity';

@Entity()
export class MenuItem {
	@PrimaryGeneratedColumn('uuid')
	id: string;

	@Column()
	tenantId: string;

	@Column()
	categoryId: string;

	@Column()
	name: string;

	@Column({ nullable: true })
	description: string;

	@Column({ nullable: true })
	imageUrl: string;

	@Column('decimal')
	price: number;

	@Column({ default: 'VND' })
	currency: string;

	@Column({ default: true })
	available: boolean;

	@Column({ default: false })
	published: boolean;

	@CreateDateColumn()
	createdAt: Date;

	@ManyToOne(() => MenuCategory, (category) => category.items, { onDelete: 'CASCADE' })
	@JoinColumn({ name: 'categoryId' })
	category: MenuCategory;

	@OneToMany(() => ModifierOption, (modifier) => modifier.item)
	modifiers: ModifierOption[];
}
</file>

<file path="src/backend/product/src/common/entities/modifier-option.entity.ts">
import { Column, Entity, JoinColumn, ManyToOne, PrimaryGeneratedColumn } from 'typeorm';
import { MenuItem } from './menu-item.entity';

@Entity()
export class ModifierOption {
	@PrimaryGeneratedColumn('uuid')
	id: string;

	@Column()
	itemId: string;

	@Column()
	groupName: string;

	@Column()
	label: string;

	@Column('decimal', { default: 0 })
	priceDelta: number;

	@Column({ default: 'single' })
	type: string;

	@ManyToOne(() => MenuItem, (item) => item.modifiers, { onDelete: 'CASCADE' })
	@JoinColumn({ name: 'itemId' })
	item: MenuItem;
}
</file>

<file path="src/backend/product/src/common/filters/catch-app-exception/catch-app-exception.filter.ts">
import { ArgumentsHost, Catch, ExceptionFilter } from '@nestjs/common';
import { Observable, throwError } from 'rxjs';
import AppException from '@shared/exceptions/app-exception';

@Catch(AppException)
export class CatchAppExceptionFilter implements ExceptionFilter {
	catch(exception: AppException, host: ArgumentsHost): Observable<any> {
		return throwError(() => exception);
	}
}
</file>

<file path="src/backend/product/src/common/filters/global-exception/global-exception.filter.ts">
import { Catch, ArgumentsHost } from '@nestjs/common';
import { RpcException, BaseRpcExceptionFilter } from '@nestjs/microservices';
import { Observable } from 'rxjs';
import AppException from '@shared/exceptions/app-exception';

@Catch()
export class GlobalExceptionFilter extends BaseRpcExceptionFilter {
	catch(exception: any, host: ArgumentsHost): Observable<any> {
		if (exception instanceof AppException) {
			const errorCode = exception.getErrorCode();
			return super.catch(
				new RpcException({
					code: errorCode.code,
					message: errorCode.message,
					status: errorCode.httpStatus,
				}),
				host,
			);
		}

		if (exception instanceof RpcException) {
			return super.catch(exception, host);
		}

		console.error('Unhandled exception:', exception);
		const response = {
			code: 9999,
			message: 'Internal server error',
			status: 500,
			error: exception?.message || null,
		};
		return super.catch(new RpcException(response), host);
	}
}
</file>

<file path="src/backend/product/src/common/filters/index.ts">
export { CatchAppExceptionFilter } from './catch-app-exception/catch-app-exception.filter';
export { GlobalExceptionFilter } from './global-exception/global-exception.filter';
</file>

<file path="src/backend/product/src/common/index.ts">
export * from './entities';
export * from './filters';
</file>

<file path="src/backend/product/src/item/dtos/request/add-modifiers-request.dto.ts">
import {
	IsArray,
	IsNotEmpty,
	IsNumber,
	IsString,
	IsUUID,
	ValidateNested,
} from 'class-validator';
import { Type } from 'class-transformer';

export class ModifierOptionDto {
	@IsNotEmpty()
	@IsString()
	groupName: string;

	@IsNotEmpty()
	@IsString()
	label: string;

	@IsNotEmpty()
	@IsNumber()
	priceDelta: number;

	@IsNotEmpty()
	@IsString()
	type: string; // 'single' or 'multiple'
}

export class AddModifiersRequestDto {
	@IsNotEmpty()
	@IsUUID()
	itemId: string;

	@IsNotEmpty()
	@IsUUID()
	tenantId: string;

	@IsNotEmpty()
	@IsArray()
	@ValidateNested({ each: true })
	@Type(() => ModifierOptionDto)
	modifiers: ModifierOptionDto[];

	@IsNotEmpty()
	@IsString()
	productApiKey: string;
}
</file>

<file path="src/backend/product/src/item/dtos/request/create-item-request.dto.ts">
import {
	IsBoolean,
	IsNotEmpty,
	IsNumber,
	IsOptional,
	IsString,
	IsUUID,
} from 'class-validator';

export class CreateItemRequestDto {
	@IsNotEmpty()
	@IsUUID()
	tenantId: string;

	@IsNotEmpty()
	@IsUUID()
	categoryId: string;

	@IsNotEmpty()
	@IsString()
	name: string;

	@IsOptional()
	@IsString()
	description?: string;

	@IsOptional()
	@IsString()
	imageUrl?: string;

	@IsNotEmpty()
	@IsNumber()
	price: number;

	@IsOptional()
	@IsString()
	currency?: string;

	@IsOptional()
	@IsBoolean()
	available?: boolean;

	@IsNotEmpty()
	@IsString()
	productApiKey: string;
}
</file>

<file path="src/backend/product/src/item/dtos/request/delete-item-request.dto.ts">
import { IsNotEmpty, IsString, IsUUID } from 'class-validator';

export class DeleteItemRequestDto {
	@IsNotEmpty()
	@IsUUID()
	itemId: string;

	@IsNotEmpty()
	@IsUUID()
	tenantId: string;

	@IsNotEmpty()
	@IsString()
	productApiKey: string;
}
</file>

<file path="src/backend/product/src/item/dtos/request/get-items-request.dto.ts">
import { IsNotEmpty, IsOptional, IsString, IsUUID } from 'class-validator';

export class GetItemsRequestDto {
	@IsNotEmpty()
	@IsUUID()
	tenantId: string;

	@IsOptional()
	@IsUUID()
	categoryId?: string;

	@IsNotEmpty()
	@IsString()
	productApiKey: string;
}
</file>

<file path="src/backend/product/src/item/dtos/request/index.ts">
export * from './create-item-request.dto';
export * from './update-item-request.dto';
export * from './get-items-request.dto';
export * from './publish-item-request.dto';
export * from './delete-item-request.dto';
export * from './add-modifiers-request.dto';
</file>

<file path="src/backend/product/src/item/dtos/request/publish-item-request.dto.ts">
import { IsBoolean, IsNotEmpty, IsString, IsUUID } from 'class-validator';

export class PublishItemRequestDto {
	@IsNotEmpty()
	@IsUUID()
	itemId: string;

	@IsNotEmpty()
	@IsUUID()
	tenantId: string;

	@IsNotEmpty()
	@IsBoolean()
	published: boolean;

	@IsNotEmpty()
	@IsString()
	productApiKey: string;
}
</file>

<file path="src/backend/product/src/item/dtos/request/update-item-request.dto.ts">
import {
	IsBoolean,
	IsNotEmpty,
	IsNumber,
	IsOptional,
	IsString,
	IsUUID,
} from 'class-validator';

export class UpdateItemRequestDto {
	@IsNotEmpty()
	@IsUUID()
	itemId: string;

	@IsNotEmpty()
	@IsUUID()
	tenantId: string;

	@IsOptional()
	@IsString()
	name?: string;

	@IsOptional()
	@IsString()
	description?: string;

	@IsOptional()
	@IsString()
	imageUrl?: string;

	@IsOptional()
	@IsNumber()
	price?: number;

	@IsOptional()
	@IsString()
	currency?: string;

	@IsOptional()
	@IsBoolean()
	available?: boolean;

	@IsNotEmpty()
	@IsString()
	productApiKey: string;
}
</file>

<file path="src/backend/product/src/item/dtos/response/item-response.dto.ts">
export class ModifierResponseDto {
	id: string;
	itemId: string;
	groupName: string;
	label: string;
	priceDelta: number;
	type: string;
}

export class ItemResponseDto {
	id: string;
	tenantId: string;
	categoryId: string;
	name: string;
	description?: string;
	imageUrl?: string;
	price: number;
	currency: string;
	available: boolean;
	published: boolean;
	createdAt: Date;
	modifiers?: ModifierResponseDto[];
}
</file>

<file path="src/backend/product/src/item/item.controller.ts">
import { Controller } from '@nestjs/common';
import { MessagePattern } from '@nestjs/microservices';
import { ItemService } from './item.service';

import HttpResponse from '@shared/utils/http-response';
import {
	CreateItemRequestDto,
	GetItemsRequestDto,
	UpdateItemRequestDto,
	PublishItemRequestDto,
	DeleteItemRequestDto,
	AddModifiersRequestDto,
} from 'src/item/dtos/request';

@Controller()
export class ItemController {
	constructor(private readonly itemService: ItemService) {}

	@MessagePattern('items:create')
	async createItem(dto: CreateItemRequestDto) {
		const item = await this.itemService.createItem(dto);
		return new HttpResponse(1000, 'Menu item created successfully', item);
	}

	@MessagePattern('items:get-all')
	async getItems(dto: GetItemsRequestDto) {
		const items = await this.itemService.getItems(dto);
		return new HttpResponse(1000, 'Menu items retrieved successfully', items);
	}

	@MessagePattern('items:update')
	async updateItem(dto: UpdateItemRequestDto) {
		const item = await this.itemService.updateItem(dto);
		return new HttpResponse(1000, 'Menu item updated successfully', item);
	}

	@MessagePattern('items:publish')
	async publishItem(dto: PublishItemRequestDto) {
		const item = await this.itemService.publishItem(dto);
		return new HttpResponse(1000, 'Menu item publish status updated', item);
	}

	@MessagePattern('items:delete')
	async deleteItem(dto: DeleteItemRequestDto) {
		await this.itemService.deleteItem(dto);
		return new HttpResponse(1000, 'Menu item deleted successfully');
	}

	@MessagePattern('items:add-modifiers')
	async addModifiers(dto: AddModifiersRequestDto) {
		const item = await this.itemService.addModifiers(dto);
		return new HttpResponse(1000, 'Modifiers added successfully', item);
	}
}
</file>

<file path="src/backend/product/src/item/item.module.ts">
import { Module } from '@nestjs/common';
import { TypeOrmModule } from '@nestjs/typeorm';
import { MenuItem, ModifierOption } from 'src/common/entities';
import { ItemService } from './item.service';
import { ItemController } from './item.controller';
import { ConfigModule } from '@nestjs/config';

@Module({
	imports: [TypeOrmModule.forFeature([MenuItem, ModifierOption]), ConfigModule],
	controllers: [ItemController],
	providers: [ItemService],
	exports: [ItemService],
})
export class ItemModule {}
</file>

<file path="src/backend/product/src/item/item.service.ts">
import { Injectable } from '@nestjs/common';
import { ConfigService } from '@nestjs/config';
import { InjectRepository } from '@nestjs/typeorm';
import { Repository } from 'typeorm';
import { MenuItem, ModifierOption } from 'src/common/entities';
import AppException from '@shared/exceptions/app-exception';
import ErrorCode from '@shared/exceptions/error-code';

import { ItemResponseDto, ModifierResponseDto } from './dtos/response/item-response.dto';
import {
	CreateItemRequestDto,
	GetItemsRequestDto,
	UpdateItemRequestDto,
	PublishItemRequestDto,
	DeleteItemRequestDto,
	AddModifiersRequestDto,
} from 'src/item/dtos/request';

@Injectable()
export class ItemService {
	constructor(
		@InjectRepository(MenuItem)
		private readonly itemRepository: Repository<MenuItem>,
		@InjectRepository(ModifierOption)
		private readonly modifierRepository: Repository<ModifierOption>,
		private readonly configService: ConfigService,
	) {}

	private validateApiKey(providedKey: string): void {
		const validKey = this.configService.get<string>('PRODUCT_API_KEY');
		if (providedKey !== validKey) {
			throw new AppException(ErrorCode.UNAUTHORIZED);
		}
	}

	async createItem(dto: CreateItemRequestDto): Promise<ItemResponseDto> {
		this.validateApiKey(dto.productApiKey);

		const item = this.itemRepository.create({
			tenantId: dto.tenantId,
			categoryId: dto.categoryId,
			name: dto.name,
			description: dto.description,
			imageUrl: dto.imageUrl,
			price: dto.price,
			currency: dto.currency || 'VND',
			available: dto.available !== undefined ? dto.available : true,
			published: false,
		});

		const saved = await this.itemRepository.save(item);
		return this.toResponseDto(saved, []);
	}

	async getItems(dto: GetItemsRequestDto): Promise<ItemResponseDto[]> {
		this.validateApiKey(dto.productApiKey);

		const where: any = { tenantId: dto.tenantId };
		if (dto.categoryId) {
			where.categoryId = dto.categoryId;
		}

		const items = await this.itemRepository.find({
			where,
			relations: ['modifiers'],
			order: { createdAt: 'DESC' },
		});

		return items.map((item) => this.toResponseDto(item, item.modifiers || []));
	}

	async updateItem(dto: UpdateItemRequestDto): Promise<ItemResponseDto> {
		this.validateApiKey(dto.productApiKey);

		const item = await this.itemRepository.findOne({
			where: { id: dto.itemId, tenantId: dto.tenantId },
			relations: ['modifiers'],
		});

		if (!item) {
			throw new AppException(ErrorCode.ITEM_NOT_FOUND);
		}

		if (dto.name) item.name = dto.name;
		if (dto.description !== undefined) item.description = dto.description;
		if (dto.imageUrl !== undefined) item.imageUrl = dto.imageUrl;
		if (dto.price !== undefined) item.price = dto.price;
		if (dto.currency) item.currency = dto.currency;
		if (dto.available !== undefined) item.available = dto.available;

		const updated = await this.itemRepository.save(item);
		return this.toResponseDto(updated, item.modifiers || []);
	}

	async publishItem(dto: PublishItemRequestDto): Promise<ItemResponseDto> {
		this.validateApiKey(dto.productApiKey);

		const item = await this.itemRepository.findOne({
			where: { id: dto.itemId, tenantId: dto.tenantId },
			relations: ['modifiers'],
		});

		if (!item) {
			throw new AppException(ErrorCode.ITEM_NOT_FOUND);
		}

		item.published = dto.published;
		const updated = await this.itemRepository.save(item);
		return this.toResponseDto(updated, item.modifiers || []);
	}

	async deleteItem(dto: DeleteItemRequestDto): Promise<void> {
		this.validateApiKey(dto.productApiKey);

		const item = await this.itemRepository.findOne({
			where: { id: dto.itemId, tenantId: dto.tenantId },
		});

		if (!item) {
			throw new AppException(ErrorCode.ITEM_NOT_FOUND);
		}

		await this.itemRepository.remove(item);
	}

	async addModifiers(dto: AddModifiersRequestDto): Promise<ItemResponseDto> {
		this.validateApiKey(dto.productApiKey);

		const item = await this.itemRepository.findOne({
			where: { id: dto.itemId, tenantId: dto.tenantId },
			relations: ['modifiers'],
		});

		if (!item) {
			throw new AppException(ErrorCode.ITEM_NOT_FOUND);
		}

		if (item.modifiers && item.modifiers.length > 0) {
			await this.modifierRepository.remove(item.modifiers);
		}

		// Create new modifiers
		const modifiers = dto.modifiers.map((mod) =>
			this.modifierRepository.create({
				itemId: dto.itemId,
				groupName: mod.groupName,
				label: mod.label,
				priceDelta: mod.priceDelta,
				type: mod.type,
			}),
		);

		const savedModifiers = await this.modifierRepository.save(modifiers);
		return this.toResponseDto(item, savedModifiers);
	}

	private toResponseDto(item: MenuItem, modifiers: ModifierOption[]): ItemResponseDto {
		return {
			id: item.id,
			tenantId: item.tenantId,
			categoryId: item.categoryId,
			name: item.name,
			description: item.description,
			imageUrl: item.imageUrl,
			price: Number(item.price),
			currency: item.currency,
			available: item.available,
			published: item.published,
			createdAt: item.createdAt,
			modifiers: modifiers.map((mod) => this.toModifierDto(mod)),
		};
	}

	private toModifierDto(modifier: ModifierOption): ModifierResponseDto {
		return {
			id: modifier.id,
			itemId: modifier.itemId,
			groupName: modifier.groupName,
			label: modifier.label,
			priceDelta: Number(modifier.priceDelta),
			type: modifier.type,
		};
	}
}
</file>

<file path="src/backend/product/src/public/dtos/request/get-public-menu-request.dto.ts">
import { IsNotEmpty, IsString, IsUUID } from 'class-validator';

export class GetPublicMenuRequestDto {
	@IsNotEmpty()
	@IsUUID()
	tenantId: string;
}
</file>

<file path="src/backend/product/src/public/dtos/response/public-menu-response.dto.ts">
export class PublicMenuCategoryDto {
	id: string;
	name: string;
	description?: string;
	items: PublicMenuItemDto[];
}

export class PublicMenuItemDto {
	id: string;
	categoryId: string;
	name: string;
	description?: string;
	imageUrl?: string;
	price: number;
	currency: string;
	available: boolean;
	modifiers: PublicModifierDto[];
}

export class PublicModifierDto {
	id: string;
	groupName: string;
	label: string;
	priceDelta: number;
	type: string;
}

export class GetPublicMenuResponseDto {
	tenantId: string;
	categories: PublicMenuCategoryDto[];
}
</file>

<file path="src/backend/product/src/public/public.controller.ts">
import { Controller } from '@nestjs/common';
import { MessagePattern } from '@nestjs/microservices';
import { PublicService } from './public.service';
import { GetPublicMenuRequestDto } from './dtos/request/get-public-menu-request.dto';
import HttpResponse from '@shared/utils/http-response';

@Controller()
export class PublicController {
	constructor(private readonly publicService: PublicService) {}

	@MessagePattern('public:get-menu')
	async getPublicMenu(dto: GetPublicMenuRequestDto) {
		const menu = await this.publicService.getPublicMenu(dto);
		return new HttpResponse(1000, 'Public menu retrieved successfully', menu);
	}
}
</file>

<file path="src/backend/product/src/public/public.module.ts">
import { Module } from '@nestjs/common';
import { TypeOrmModule } from '@nestjs/typeorm';
import { MenuCategory, MenuItem, ModifierOption } from 'src/common/entities';
import { PublicService } from './public.service';
import { PublicController } from './public.controller';

@Module({
	imports: [TypeOrmModule.forFeature([MenuCategory, MenuItem, ModifierOption])],
	controllers: [PublicController],
	providers: [PublicService],
	exports: [PublicService],
})
export class PublicModule {}
</file>

<file path="src/backend/product/src/public/public.service.ts">
import { Injectable } from '@nestjs/common';
import { InjectRepository } from '@nestjs/typeorm';
import { Repository } from 'typeorm';
import { MenuCategory, MenuItem, ModifierOption } from 'src/common/entities';
import AppException from '@shared/exceptions/app-exception';
import ErrorCode from '@shared/exceptions/error-code';
import { GetPublicMenuRequestDto } from './dtos/request/get-public-menu-request.dto';
import {
	GetPublicMenuResponseDto,
	PublicMenuCategoryDto,
	PublicMenuItemDto,
	PublicModifierDto,
} from './dtos/response/public-menu-response.dto';

@Injectable()
export class PublicService {
	constructor(
		@InjectRepository(MenuCategory)
		private readonly categoryRepository: Repository<MenuCategory>,
		@InjectRepository(MenuItem)
		private readonly itemRepository: Repository<MenuItem>,
		@InjectRepository(ModifierOption)
		private readonly modifierRepository: Repository<ModifierOption>,
	) {}

	async getPublicMenu(dto: GetPublicMenuRequestDto): Promise<GetPublicMenuResponseDto> {
		// Get all published categories for this tenant
		const categories = await this.categoryRepository.find({
			where: { tenantId: dto.tenantId, published: true },
			order: { displayOrder: 'ASC', createdAt: 'ASC' },
		});

		if (categories.length === 0) {
			return {
				tenantId: dto.tenantId,
				categories: [],
			};
		}

		const categoryIds = categories.map((cat) => cat.id);

		// Get all published AND available items in these categories
		const items = await this.itemRepository.find({
			where: categoryIds.map((catId) => ({
				categoryId: catId,
				published: true,
				available: true,
			})),
			relations: ['modifiers'],
			order: { createdAt: 'ASC' },
		});

		// Group items by category
		const categoriesWithItems: PublicMenuCategoryDto[] = categories.map((category) => {
			const categoryItems = items.filter((item) => item.categoryId === category.id);

			return {
				id: category.id,
				name: category.name,
				description: category.description,
				items: categoryItems.map((item) => this.toPublicItemDto(item)),
			};
		});

		// Filter out categories with no items
		const filteredCategories = categoriesWithItems.filter((cat) => cat.items.length > 0);

		return {
			tenantId: dto.tenantId,
			categories: filteredCategories,
		};
	}

	private toPublicItemDto(item: MenuItem): PublicMenuItemDto {
		return {
			id: item.id,
			categoryId: item.categoryId,
			name: item.name,
			description: item.description,
			imageUrl: item.imageUrl,
			price: Number(item.price),
			currency: item.currency,
			available: item.available,
			modifiers: (item.modifiers || []).map((mod) => this.toPublicModifierDto(mod)),
		};
	}

	private toPublicModifierDto(modifier: ModifierOption): PublicModifierDto {
		return {
			id: modifier.id,
			groupName: modifier.groupName,
			label: modifier.label,
			priceDelta: Number(modifier.priceDelta),
			type: modifier.type,
		};
	}
}
</file>

<file path="src/backend/product/test/app.e2e-spec.ts">
import { Test, TestingModule } from '@nestjs/testing';
import { INestApplication } from '@nestjs/common';
import * as request from 'supertest';
import { App } from 'supertest/types';
import { AppModule } from './../src/app.module';

describe('AppController (e2e)', () => {
  let app: INestApplication<App>;

  beforeEach(async () => {
    const moduleFixture: TestingModule = await Test.createTestingModule({
      imports: [AppModule],
    }).compile();

    app = moduleFixture.createNestApplication();
    await app.init();
  });

  it('/ (GET)', () => {
    return request(app.getHttpServer())
      .get('/')
      .expect(200)
      .expect('Hello World!');
  });
});
</file>

<file path="src/backend/product/test/jest-e2e.json">
{
  "moduleFileExtensions": ["js", "json", "ts"],
  "rootDir": ".",
  "testEnvironment": "node",
  "testRegex": ".e2e-spec.ts$",
  "transform": {
    "^.+\\.(t|j)s$": "ts-jest"
  }
}
</file>

<file path="src/backend/profile/src/common/filters/catch-app-exception/catch-app-exception.filter.spec.ts">
import { CatchAppExceptionFilter } from './catch-app-exception.filter';

describe('CatchAppExceptionFilter', () => {
  it('should be defined', () => {
    expect(new CatchAppExceptionFilter()).toBeDefined();
  });
});
</file>

<file path="src/backend/profile/src/common/filters/catch-app-exception/catch-app-exception.filter.ts">
import { ArgumentsHost, Catch, ExceptionFilter } from '@nestjs/common';
import { RpcException } from '@nestjs/microservices';
import AppException from '@shared/exceptions/app-exception';

@Catch(AppException)
export class CatchAppExceptionFilter implements ExceptionFilter {
	catch(exception: AppException, host: ArgumentsHost) {
		const errorCode = exception.getErrorCode();
		throw new RpcException({
			code: errorCode.code,
			message: errorCode.message,
			status: errorCode.httpStatus,
		});
	}
}
</file>

<file path="src/backend/profile/src/common/filters/global-exception/global-exception.filter.spec.ts">
import { GlobalExceptionFilter } from './global-exception.filter';

describe('GlobalExceptionFilter', () => {
  it('should be defined', () => {
    expect(new GlobalExceptionFilter()).toBeDefined();
  });
});
</file>

<file path="src/backend/profile/src/common/filters/global-exception/global-exception.filter.ts">
import { Catch, ArgumentsHost } from '@nestjs/common';
import { RpcException, BaseRpcExceptionFilter } from '@nestjs/microservices';
import AppException from '@shared/exceptions/app-exception';

import { Observable } from 'rxjs';

@Catch()
export class GlobalExceptionFilter extends BaseRpcExceptionFilter {
	catch(exception: any, host: ArgumentsHost): Observable<any> {
		if (exception instanceof AppException) {
			const errorCode = exception.getErrorCode();
			return super.catch(
				new RpcException({
					code: errorCode.code,
					message: errorCode.message,
					status: errorCode.httpStatus,
				}),
				host,
			);
		}

		if (exception instanceof RpcException) {
			return super.catch(exception, host);
		}

		console.error('Unhandled exception:', exception);
		const response = {
			code: 9999,
			message: 'Internal server error',
			status: 500,
			error: exception?.message || null,
		};
		return super.catch(new RpcException(response), host);
	}
}
</file>

<file path="src/backend/profile/src/common/filters/index.ts">
// Export all filters
export { GlobalExceptionFilter } from './global-exception/global-exception.filter';
export { CatchAppExceptionFilter } from './catch-app-exception/catch-app-exception.filter';
</file>

<file path="src/backend/profile/src/common/index.ts">
// Export all common modules
export * from './entities';
export * from './filters';
</file>

<file path="src/backend/profile/src/detail/dtos/request/get-profile-request.dto.ts">
import { IsNotEmpty, IsOptional, Length } from 'class-validator';

export class GetProfileRequestDto {
	@IsNotEmpty({ message: 'userId should not be empty' })
	@Length(20, 50, { message: 'userId must be between 20 and 50 characters' })
	userId: string;

	@IsOptional()
	profileApiKey?: string;
}
</file>

<file path="src/backend/profile/src/detail/dtos/request/get-verified-state-request.dto.ts">
import { IsNotEmpty, IsOptional, Length } from 'class-validator';

export class GetVerifiedStateRequestDto {
	@IsNotEmpty({ message: 'userId should not be empty' })
	@Length(20, 50, { message: 'userId must be between 20 and 50 characters' })
	userId: string;

	@IsOptional()
	profileApiKey?: string;
}
</file>

<file path="src/backend/profile/src/detail/dtos/request/modify-profile-request.dto.ts">
import { IsNotEmpty, IsOptional, Length } from 'class-validator';

export class ModifyProfileRequestDto {
	@IsNotEmpty({ message: 'userId should not be empty' })
	@Length(20, 50, { message: 'userId must be between 20 and 50 characters' })
	userId: string;

	@IsOptional()
	profileApiKey?: string;

	@IsOptional()
	birthDay?: Date;

	@IsOptional()
	phoneNumber?: string;

	@IsOptional()
	address?: string;

	@IsOptional()
	restaurantName?: string;

	@IsOptional()
	businessAddress?: string;

	@IsOptional()
	contractNumber?: string;

	@IsOptional()
	contractEmail: string;

	@IsOptional()
	cardHolderName?: string;

	@IsOptional()
	accountNumber?: string;

	@IsOptional()
	expirationDate?: string;

	@IsOptional()
	cvv?: string;

	@IsOptional()
	frontImage?: string;

	@IsOptional()
	backImage?: string;

	@IsOptional()
	verified?: boolean;
}
</file>

<file path="src/backend/shared/package.json">
{
    "name": "@smart-restaurant/shared",
    "version": "1.0.0",
    "description": "Shared utilities, exceptions, and types for Smart Restaurant microservices",
    "main": "index.js",
    "scripts": {
        "build": "tsc",
        "dev": "tsc --watch"
    },
    "keywords": [
        "shared",
        "microservices",
        "utilities"
    ],
    "author": "Smart Restaurant Team",
    "license": "MIT",
    "devDependencies": {
        "@types/node": "^20.0.0",
        "typescript": "^5.0.0"
    }
}
</file>

<file path="src/backend/shared/src/exceptions/app-exception.d.ts">
import ErrorCode from "./error-code";
export default class AppException extends Error {
    private errorCode;
    constructor(errorCode: ErrorCode);
    getErrorCode(): ErrorCode;
    getHttpStatus(): number;
    getCode(): number;
    getMessage(): string;
    toJSON(): {
        code: number;
        message: string;
        httpStatus: number;
    };
}
</file>

<file path="src/backend/shared/src/exceptions/app-exception.js">
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class AppException extends Error {
    errorCode;
    constructor(errorCode) {
        super(errorCode.message);
        this.errorCode = errorCode;
        this.name = "AppException";
        if (Error.captureStackTrace) {
            Error.captureStackTrace(this, AppException);
        }
    }
    getErrorCode() {
        return this.errorCode;
    }
    getHttpStatus() {
        return this.errorCode.httpStatus || 500;
    }
    getCode() {
        return this.errorCode.code;
    }
    getMessage() {
        return this.errorCode.message;
    }
    toJSON() {
        return {
            code: this.errorCode.code,
            message: this.errorCode.message,
            httpStatus: this.errorCode.httpStatus,
        };
    }
}
exports.default = AppException;
//# sourceMappingURL=app-exception.js.map
</file>

<file path="src/backend/shared/src/exceptions/app-exception.js.map">
{"version":3,"file":"app-exception.js","sourceRoot":"","sources":["app-exception.ts"],"names":[],"mappings":";;AAMA,MAAqB,YAAa,SAAQ,KAAK;IACrC,SAAS,CAAY;IAE7B,YAAY,SAAoB;QAC9B,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;QACzB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,IAAI,GAAG,cAAc,CAAC;QAG3B,IAAI,KAAK,CAAC,iBAAiB,EAAE,CAAC;YAC5B,KAAK,CAAC,iBAAiB,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC;QAC9C,CAAC;IACH,CAAC;IAED,YAAY;QACV,OAAO,IAAI,CAAC,SAAS,CAAC;IACxB,CAAC;IAKD,aAAa;QACX,OAAO,IAAI,CAAC,SAAS,CAAC,UAAU,IAAI,GAAG,CAAC;IAC1C,CAAC;IAKD,OAAO;QACL,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;IAC7B,CAAC;IAKD,UAAU;QACR,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;IAChC,CAAC;IAKD,MAAM;QACJ,OAAO;YACL,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI;YACzB,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO;YAC/B,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,UAAU;SACtC,CAAC;IACJ,CAAC;CACF;AAjDD,+BAiDC"}
</file>

<file path="src/backend/shared/src/exceptions/app-exception.ts">
import ErrorCode from "./error-code";

/**
 * Base Exception class for Smart Restaurant services
 * Wraps ErrorCode for consistent error handling across all microservices
 */
export default class AppException extends Error {
  private errorCode: ErrorCode;

  constructor(errorCode: ErrorCode) {
    super(errorCode.message);
    this.errorCode = errorCode;
    this.name = "AppException";

    // Maintain proper stack trace
    if (Error.captureStackTrace) {
      Error.captureStackTrace(this, AppException);
    }
  }

  getErrorCode(): ErrorCode {
    return this.errorCode;
  }

  /**
   * Get HTTP status code from error
   */
  getHttpStatus(): number {
    return this.errorCode.httpStatus || 500;
  }

  /**
   * Get error code number
   */
  getCode(): number {
    return this.errorCode.code;
  }

  /**
   * Get error message
   */
  getMessage(): string {
    return this.errorCode.message;
  }

  /**
   * Convert to JSON format for API responses
   */
  toJSON() {
    return {
      code: this.errorCode.code,
      message: this.errorCode.message,
      httpStatus: this.errorCode.httpStatus,
    };
  }
}
</file>

<file path="src/backend/shared/src/exceptions/error-code.d.ts">
export default class ErrorCode {
    readonly code: number;
    readonly message: string;
    readonly httpStatus?: number;
    static readonly LOGIN_FAILED: ErrorCode;
    static readonly TOKEN_EXPIRED: ErrorCode;
    static readonly TOKEN_ALREADY_REMOVED: ErrorCode;
    static readonly UNAUTHORIZED: ErrorCode;
    static readonly FORBIDDEN: ErrorCode;
    static readonly USER_NOT_FOUND: ErrorCode;
    static readonly USER_ALREADY_EXISTS: ErrorCode;
    static readonly PROFILE_NOT_FOUND: ErrorCode;
    static readonly PROFILE_SERVICE_ERROR: ErrorCode;
    static readonly ROLE_NOT_FOUND: ErrorCode;
    static readonly ROLE_CREATION_FAILED: ErrorCode;
    static readonly AUTHORITY_NOT_FOUND: ErrorCode;
    static readonly AUTHORITY_CREATION_FAILED: ErrorCode;
    static readonly VALIDATION_FAILED: ErrorCode;
    static readonly ERROR_VALIDATION: ErrorCode;
    static readonly INVALID_TIME_FORMAT: ErrorCode;
    static readonly INTERNAL_SERVER_ERROR: ErrorCode;
    static readonly SERVICE_UNAVAILABLE: ErrorCode;
    static readonly DATABASE_ERROR: ErrorCode;
    constructor(code: number, message: string, httpStatus?: number);
}
</file>

<file path="src/backend/shared/src/exceptions/error-code.js">
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class ErrorCode {
    code;
    message;
    httpStatus;
    static LOGIN_FAILED = new ErrorCode(1001, "Username or password is incorrect", 401);
    static TOKEN_EXPIRED = new ErrorCode(1002, "Token has expired", 401);
    static TOKEN_ALREADY_REMOVED = new ErrorCode(1003, "Token has already been removed", 400);
    static UNAUTHORIZED = new ErrorCode(1004, "Unauthorized access", 401);
    static FORBIDDEN = new ErrorCode(1005, "Forbidden - Insufficient permissions", 403);
    static USER_NOT_FOUND = new ErrorCode(2001, "User not found", 404);
    static USER_ALREADY_EXISTS = new ErrorCode(2002, "User with given username or email already exists", 409);
    static PROFILE_NOT_FOUND = new ErrorCode(2003, "Profile not found", 404);
    static PROFILE_SERVICE_ERROR = new ErrorCode(2004, "Profile service error", 500);
    static ROLE_NOT_FOUND = new ErrorCode(2101, "Role not found", 404);
    static ROLE_CREATION_FAILED = new ErrorCode(2102, "Role creation failed", 500);
    static AUTHORITY_NOT_FOUND = new ErrorCode(2103, "Authority not found", 404);
    static AUTHORITY_CREATION_FAILED = new ErrorCode(2104, "Authority creation failed", 500);
    static VALIDATION_FAILED = new ErrorCode(2901, "Validation failed", 400);
    static ERROR_VALIDATION = new ErrorCode(2902, "Validation error", 400);
    static INVALID_TIME_FORMAT = new ErrorCode(2903, "Invalid time format", 400);
    static INTERNAL_SERVER_ERROR = new ErrorCode(9001, "Internal server error", 500);
    static SERVICE_UNAVAILABLE = new ErrorCode(9002, "Service temporarily unavailable", 503);
    static DATABASE_ERROR = new ErrorCode(9003, "Database error occurred", 500);
    constructor(code, message, httpStatus) {
        this.code = code;
        this.message = message;
        this.httpStatus = httpStatus;
        this.code = code;
        this.message = message;
        this.httpStatus = httpStatus;
    }
}
exports.default = ErrorCode;
//# sourceMappingURL=error-code.js.map
</file>

<file path="src/backend/shared/src/exceptions/error-code.js.map">
{"version":3,"file":"error-code.js","sourceRoot":"","sources":["error-code.ts"],"names":[],"mappings":";;AAYA,MAAqB,SAAS;IAiKV;IACA;IACA;IA7JlB,MAAM,CAAU,YAAY,GAAc,IAAI,SAAS,CACrD,IAAI,EACJ,mCAAmC,EACnC,GAAG,CACJ,CAAC;IAGF,MAAM,CAAU,aAAa,GAAc,IAAI,SAAS,CACtD,IAAI,EACJ,mBAAmB,EACnB,GAAG,CACJ,CAAC;IAGF,MAAM,CAAU,qBAAqB,GAAc,IAAI,SAAS,CAC9D,IAAI,EACJ,gCAAgC,EAChC,GAAG,CACJ,CAAC;IAGF,MAAM,CAAU,YAAY,GAAc,IAAI,SAAS,CACrD,IAAI,EACJ,qBAAqB,EACrB,GAAG,CACJ,CAAC;IAGF,MAAM,CAAU,SAAS,GAAc,IAAI,SAAS,CAClD,IAAI,EACJ,sCAAsC,EACtC,GAAG,CACJ,CAAC;IAKF,MAAM,CAAU,cAAc,GAAc,IAAI,SAAS,CACvD,IAAI,EACJ,gBAAgB,EAChB,GAAG,CACJ,CAAC;IAGF,MAAM,CAAU,mBAAmB,GAAc,IAAI,SAAS,CAC5D,IAAI,EACJ,kDAAkD,EAClD,GAAG,CACJ,CAAC;IAGF,MAAM,CAAU,iBAAiB,GAAc,IAAI,SAAS,CAC1D,IAAI,EACJ,mBAAmB,EACnB,GAAG,CACJ,CAAC;IAGF,MAAM,CAAU,qBAAqB,GAAc,IAAI,SAAS,CAC9D,IAAI,EACJ,uBAAuB,EACvB,GAAG,CACJ,CAAC;IAKF,MAAM,CAAU,cAAc,GAAc,IAAI,SAAS,CACvD,IAAI,EACJ,gBAAgB,EAChB,GAAG,CACJ,CAAC;IAGF,MAAM,CAAU,oBAAoB,GAAc,IAAI,SAAS,CAC7D,IAAI,EACJ,sBAAsB,EACtB,GAAG,CACJ,CAAC;IAGF,MAAM,CAAU,mBAAmB,GAAc,IAAI,SAAS,CAC5D,IAAI,EACJ,qBAAqB,EACrB,GAAG,CACJ,CAAC;IAGF,MAAM,CAAU,yBAAyB,GAAc,IAAI,SAAS,CAClE,IAAI,EACJ,2BAA2B,EAC3B,GAAG,CACJ,CAAC;IAKF,MAAM,CAAU,iBAAiB,GAAc,IAAI,SAAS,CAC1D,IAAI,EACJ,mBAAmB,EACnB,GAAG,CACJ,CAAC;IAGF,MAAM,CAAU,gBAAgB,GAAc,IAAI,SAAS,CACzD,IAAI,EACJ,kBAAkB,EAClB,GAAG,CACJ,CAAC;IAGF,MAAM,CAAU,mBAAmB,GAAc,IAAI,SAAS,CAC5D,IAAI,EACJ,qBAAqB,EACrB,GAAG,CACJ,CAAC;IAiBF,MAAM,CAAU,qBAAqB,GAAc,IAAI,SAAS,CAC9D,IAAI,EACJ,uBAAuB,EACvB,GAAG,CACJ,CAAC;IAGF,MAAM,CAAU,mBAAmB,GAAc,IAAI,SAAS,CAC5D,IAAI,EACJ,iCAAiC,EACjC,GAAG,CACJ,CAAC;IAGF,MAAM,CAAU,cAAc,GAAc,IAAI,SAAS,CACvD,IAAI,EACJ,yBAAyB,EACzB,GAAG,CACJ,CAAC;IAIF,YACkB,IAAY,EACZ,OAAe,EACf,UAAmB;QAFnB,SAAI,GAAJ,IAAI,CAAQ;QACZ,YAAO,GAAP,OAAO,CAAQ;QACf,eAAU,GAAV,UAAU,CAAS;QAEnC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;IAC/B,CAAC;;AAxKH,4BAyKC"}
</file>

<file path="src/backend/shared/src/exceptions/index.ts">
export { default as ErrorCode } from "./error-code";
export { default as AppException } from "./app-exception";
</file>

<file path="src/backend/shared/src/index.ts">
export * from "./exceptions";
export * from "./utils";
export * from "./types";
</file>

<file path="src/backend/shared/src/types/index.d.ts">
export interface JwtPayload {
    userId: string;
    username: string;
    email: string;
    roles?: string[];
    type?: "access" | "refresh";
    iat?: number;
    exp?: number;
}
export interface RequestUser {
    userId: string;
    username: string;
    email: string;
    roles?: string[];
}
export interface PaginationParams {
    page: number;
    limit: number;
    sortBy?: string;
    sortOrder?: "ASC" | "DESC";
}
export interface PaginatedResponse<T> {
    data: T[];
    total: number;
    page: number;
    limit: number;
    totalPages: number;
}
export declare class ApiResponse<T = any> {
    code: number;
    message: string;
    data?: T;
    constructor(init?: Partial<ApiResponse<T>>);
}
export interface MessagePattern {
    cmd: string;
    data?: any;
}
export interface TokenValidationResult {
    valid: boolean;
    user?: RequestUser;
    newAccessToken?: string;
}
</file>

<file path="src/backend/shared/src/types/index.js">
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ApiResponse = void 0;
class ApiResponse {
    code;
    message;
    data;
    constructor(init) {
        Object.assign(this, init);
    }
}
exports.ApiResponse = ApiResponse;
//# sourceMappingURL=index.js.map
</file>

<file path="src/backend/shared/src/types/index.js.map">
{"version":3,"file":"index.js","sourceRoot":"","sources":["index.ts"],"names":[],"mappings":";;;AA+CA,MAAa,WAAW;IACtB,IAAI,CAAS;IACb,OAAO,CAAS;IAChB,IAAI,CAAK;IAET,YAAY,IAA8B;QACxC,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAC5B,CAAC;CACF;AARD,kCAQC"}
</file>

<file path="src/backend/shared/src/types/index.ts">
/**
 * JWT Payload structure
 */
export interface JwtPayload {
  userId: string;
  username: string;
  email: string;
  roles?: string[];
  type?: "access" | "refresh";
  iat?: number;
  exp?: number;
}

/**
 * User information attached to requests
 */
export interface RequestUser {
  userId: string;
  username: string;
  email: string;
  roles?: string[];
}

/**
 * Pagination parameters
 */
export interface PaginationParams {
  page: number;
  limit: number;
  sortBy?: string;
  sortOrder?: "ASC" | "DESC";
}

/**
 * Paginated response
 */
export interface PaginatedResponse<T> {
  data: T[];
  total: number;
  page: number;
  limit: number;
  totalPages: number;
}

/**
 * API Response structure
 */
export class ApiResponse<T = any> {
  code: number;
  message: string;
  data?: T;

  constructor(init?: Partial<ApiResponse<T>>) {
    Object.assign(this, init);
  }
}

/**
 * Message pattern
 */
export interface MessagePattern {
  cmd: string;
  data?: any;
}

/**
 * Token validation result
 */
export interface TokenValidationResult {
  valid: boolean;
  user?: RequestUser;
  newAccessToken?: string;
}
</file>

<file path="src/backend/shared/src/utils/enum.ts">
/**
 * Role enumeration for authorization
 */
export enum RoleEnum {
  ADMIN = 1,
  USER = 2,
  STAFF = 3,
  MANAGER = 4,
}

/**
 * Authority/Permission enumeration
 */
export enum AuthorityEnum {
  READ = 1,
  WRITE = 2,
  DELETE = 3,
  UPDATE = 4,
  EXECUTE = 5,
}

/**
 * Token type enumeration
 */
export enum TokenTypeEnum {
  ACCESS = "access",
  REFRESH = "refresh",
}

/**
 * Environment mode enumeration
 */
export enum EnvironmentEnum {
  DEVELOPMENT = "development",
  PRODUCTION = "production",
}
</file>

<file path="src/backend/shared/src/utils/http-response.ts">
export default class HttpResponse {
  code: number;
  message: string;
  data?: any;

  constructor(code: number, message: string, data?: any) {
    this.code = code;
    this.message = message;
    this.data = data;
  }

  toJSON() {
    return {
      code: this.code,
      message: this.message,
      data: this.data,
    };
  }
}
</file>

<file path="src/backend/shared/src/utils/index.ts">
export { default as HttpResponse } from "./http-response";
export * from "./enum";
export * from "./utils";
</file>

<file path="src/backend/shared/src/utils/utils.ts">
interface JsonObject {
  [key: string]: unknown;
}

/**
 * Convert object to JSON, ignoring null and undefined values
 */
export function toJSONIgnoreNullsOrUndefined(obj: JsonObject): JsonObject {
  const jsonObj: JsonObject = {};

  for (const key in obj) {
    const value = obj[key];
    if (value !== null && value !== undefined) {
      jsonObj[key] = value;
    }
  }

  return jsonObj;
}

/**
 * Filter out null and undefined values from an object
 */
export function filterNullValues(obj: any): any {
  return Object.entries(obj).reduce((acc, [key, value]) => {
    if (value !== null && value !== undefined) {
      acc[key] = value;
    }
    return acc;
  }, {} as any);
}

/**
 * Extract specific fields from source object
 */
export function extractFields(source: any, fields: string[]): any {
  return fields.reduce((acc, field) => {
    if (source[field] !== undefined && source[field] !== null) {
      acc[field] = source[field];
    }
    return acc;
  }, {} as any);
}

/**
 * Deep clone an object
 */
export function deepClone<T>(obj: T): T {
  return JSON.parse(JSON.stringify(obj));
}

/**
 * Check if a value is empty (null, undefined, empty string, empty array, empty object)
 */
export function isEmpty(value: any): boolean {
  if (value === null || value === undefined) return true;
  if (typeof value === "string") return value.trim().length === 0;
  if (Array.isArray(value)) return value.length === 0;
  if (typeof value === "object") return Object.keys(value).length === 0;
  return false;
}

/**
 * Sleep for a given number of milliseconds
 */
export function sleep(ms: number): Promise<void> {
  return new Promise((resolve) => setTimeout(resolve, ms));
}

/**
 * Generate a random string
 */
export function randomString(length: number = 16): string {
  const chars =
    "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
  let result = "";
  for (let i = 0; i < length; i++) {
    result += chars.charAt(Math.floor(Math.random() * chars.length));
  }
  return result;
}

/**
 * Validate and parse time string
 */
export function isValidTimeString(time: string): boolean {
  try {
    const date = new Date(time);
    return !isNaN(date.getTime());
  } catch {
    return false;
  }
}

/**
 * Check if time is in the future
 */
export function isFutureTime(time: string | Date): boolean {
  try {
    const date = typeof time === "string" ? new Date(time) : time;
    if (isNaN(date.getTime())) return false;
    return date.getTime() > Date.now();
  } catch {
    return false;
  }
}
</file>

<file path="src/backend/table/.gitignore">
# compiled output
/dist
/node_modules
/build

# Logs
logs
*.log
npm-debug.log*
pnpm-debug.log*
yarn-debug.log*
yarn-error.log*
lerna-debug.log*

# OS
.DS_Store

# Tests
/coverage
/.nyc_output

# IDEs and editors
/.idea
.project
.classpath
.c9/
*.launch
.settings/
*.sublime-workspace

# IDE - VSCode
.vscode/*
!.vscode/settings.json
!.vscode/tasks.json
!.vscode/launch.json
!.vscode/extensions.json

# dotenv environment variable files
.env
.env.development.local
.env.test.local
.env.production.local
.env.local

# temp directory
.temp
.tmp

# Runtime data
pids
*.pid
*.seed
*.pid.lock

# Diagnostic reports (https://nodejs.org/api/report.html)
report.[0-9]*.[0-9]*.[0-9]*.[0-9]*.json
</file>

<file path="src/backend/table/.prettierrc">
{
  "arrowParens": "always",
  "bracketSameLine": false,
  "objectWrap": "preserve",
  "bracketSpacing": true,
  "semi": true,
  "experimentalOperatorPosition": "end",
  "experimentalTernaries": false,
  "singleQuote": true,
  "jsxSingleQuote": false,
  "quoteProps": "as-needed",
  "trailingComma": "all",
  "singleAttributePerLine": false,
  "htmlWhitespaceSensitivity": "css",
  "vueIndentScriptAndStyle": false,
  "proseWrap": "preserve",
  "insertPragma": false,
  "printWidth": 90,
  "requirePragma": false,
  "tabWidth": 2,
  "useTabs": true,
  "embeddedLanguageFormatting": "auto"
}
</file>

<file path="src/backend/table/eslint.config.mjs">
// @ts-check
import eslint from '@eslint/js';
import eslintPluginPrettierRecommended from 'eslint-plugin-prettier/recommended';
import globals from 'globals';
import tseslint from 'typescript-eslint';

export default tseslint.config(
	{
		ignores: ['eslint.config.mjs'],
	},
	eslint.configs.recommended,
	...tseslint.configs.recommendedTypeChecked,
	eslintPluginPrettierRecommended,
	{
		languageOptions: {
			globals: {
				...globals.node,
				...globals.jest,
			},
			sourceType: 'commonjs',
			parserOptions: {
				projectService: true,
				tsconfigRootDir: import.meta.dirname,
			},
		},
	},
	{
		rules: {
			'@typescript-eslint/no-explicit-any': 'off',
			'@typescript-eslint/no-floating-promises': 'off',
			'@typescript-eslint/no-unsafe-argument': 'off',
			'@typescript-eslint/no-unsafe-assignment': 'off',
			'@typescript-eslint/no-unsafe-member-access': 'off',
			'@typescript-eslint/no-unsafe-call': 'off',
			'@typescript-eslint/no-unsafe-return': 'off',
		},
	},
);
</file>

<file path="src/backend/table/nest-cli.json">
{
  "$schema": "https://json.schemastore.org/nest-cli",
  "collection": "@nestjs/schematics",
  "sourceRoot": "src",
  "compilerOptions": {
    "deleteOutDir": true
  }
}
</file>

<file path="src/backend/table/package.json">
{
  "name": "table",
  "version": "0.0.1",
  "description": "",
  "author": "",
  "private": true,
  "license": "UNLICENSED",
  "scripts": {
    "build": "nest build",
    "format": "prettier --write \"src/**/*.ts\" \"test/**/*.ts\"",
    "start": "nest start",
    "start:dev": "nest start --watch",
    "start:debug": "nest start --debug --watch",
    "start:prod": "node dist/main",
    "lint": "eslint \"{src,apps,libs,test}/**/*.ts\" --fix",
    "test": "jest",
    "test:watch": "jest --watch",
    "test:cov": "jest --coverage",
    "test:debug": "node --inspect-brk -r tsconfig-paths/register -r ts-node/register node_modules/.bin/jest --runInBand",
    "test:e2e": "jest --config ./test/jest-e2e.json"
  },
  "dependencies": {
    "@nestjs/common": "^11.0.1",
    "@nestjs/config": "^4.0.2",
    "@nestjs/core": "^11.0.1",
    "@nestjs/microservices": "^11.1.9",
    "@nestjs/platform-express": "^11.0.1",
    "@nestjs/typeorm": "^11.0.0",
    "@types/winston": "^2.4.4",
    "amqplib": "^0.10.9",
    "bcrypt": "^6.0.0",
    "class-transformer": "^0.5.1",
    "class-validator": "^0.14.2",
    "dotenv": "^17.2.3",
    "express": "^5.1.0",
    "nest-winston": "^1.10.2",
    "pg": "^8.16.3",
    "reflect-metadata": "^0.2.2",
    "rxjs": "^7.8.1",
    "typeorm": "^0.3.27",
    "winston": "^3.18.3",
    "winston-daily-rotate-file": "^5.0.0"
  },
  "devDependencies": {
    "@eslint/eslintrc": "^3.2.0",
    "@eslint/js": "^9.18.0",
    "@nestjs/cli": "^11.0.0",
    "@nestjs/schematics": "^11.0.0",
    "@nestjs/testing": "^11.0.1",
    "@types/express": "^5.0.0",
    "@types/jest": "^30.0.0",
    "@types/node": "^22.10.7",
    "@types/supertest": "^6.0.2",
    "eslint": "^9.18.0",
    "eslint-config-prettier": "^10.0.1",
    "eslint-plugin-prettier": "^5.2.2",
    "globals": "^16.0.0",
    "jest": "^30.0.0",
    "prettier": "^3.4.2",
    "source-map-support": "^0.5.21",
    "supertest": "^7.0.0",
    "ts-jest": "^29.2.5",
    "ts-loader": "^9.5.2",
    "ts-node": "^10.9.2",
    "tsconfig-paths": "^4.2.0",
    "typescript": "^5.7.3",
    "typescript-eslint": "^8.20.0"
  },
  "jest": {
    "moduleFileExtensions": [
      "js",
      "json",
      "ts"
    ],
    "rootDir": "src",
    "testRegex": ".*\\.spec\\.ts$",
    "transform": {
      "^.+\\.(t|j)s$": "ts-jest"
    },
    "collectCoverageFrom": [
      "**/*.(t|j)s"
    ],
    "coverageDirectory": "../coverage",
    "testEnvironment": "node"
  }
}
</file>

<file path="src/backend/table/README.md">
<p align="center">
  <a href="http://nestjs.com/" target="blank"><img src="https://nestjs.com/img/logo-small.svg" width="120" alt="Nest Logo" /></a>
</p>

[circleci-image]: https://img.shields.io/circleci/build/github/nestjs/nest/master?token=abc123def456
[circleci-url]: https://circleci.com/gh/nestjs/nest

  <p align="center">A progressive <a href="http://nodejs.org" target="_blank">Node.js</a> framework for building efficient and scalable server-side applications.</p>
    <p align="center">
<a href="https://www.npmjs.com/~nestjscore" target="_blank"><img src="https://img.shields.io/npm/v/@nestjs/core.svg" alt="NPM Version" /></a>
<a href="https://www.npmjs.com/~nestjscore" target="_blank"><img src="https://img.shields.io/npm/l/@nestjs/core.svg" alt="Package License" /></a>
<a href="https://www.npmjs.com/~nestjscore" target="_blank"><img src="https://img.shields.io/npm/dm/@nestjs/common.svg" alt="NPM Downloads" /></a>
<a href="https://circleci.com/gh/nestjs/nest" target="_blank"><img src="https://img.shields.io/circleci/build/github/nestjs/nest/master" alt="CircleCI" /></a>
<a href="https://discord.gg/G7Qnnhy" target="_blank"><img src="https://img.shields.io/badge/discord-online-brightgreen.svg" alt="Discord"/></a>
<a href="https://opencollective.com/nest#backer" target="_blank"><img src="https://opencollective.com/nest/backers/badge.svg" alt="Backers on Open Collective" /></a>
<a href="https://opencollective.com/nest#sponsor" target="_blank"><img src="https://opencollective.com/nest/sponsors/badge.svg" alt="Sponsors on Open Collective" /></a>
  <a href="https://paypal.me/kamilmysliwiec" target="_blank"><img src="https://img.shields.io/badge/Donate-PayPal-ff3f59.svg" alt="Donate us"/></a>
    <a href="https://opencollective.com/nest#sponsor"  target="_blank"><img src="https://img.shields.io/badge/Support%20us-Open%20Collective-41B883.svg" alt="Support us"></a>
  <a href="https://twitter.com/nestframework" target="_blank"><img src="https://img.shields.io/twitter/follow/nestframework.svg?style=social&label=Follow" alt="Follow us on Twitter"></a>
</p>
  <!--[![Backers on Open Collective](https://opencollective.com/nest/backers/badge.svg)](https://opencollective.com/nest#backer)
  [![Sponsors on Open Collective](https://opencollective.com/nest/sponsors/badge.svg)](https://opencollective.com/nest#sponsor)-->

## Description

[Nest](https://github.com/nestjs/nest) framework TypeScript starter repository.

## Project setup

```bash
$ npm install
```

## Compile and run the project

```bash
# development
$ npm run start

# watch mode
$ npm run start:dev

# production mode
$ npm run start:prod
```

## Run tests

```bash
# unit tests
$ npm run test

# e2e tests
$ npm run test:e2e

# test coverage
$ npm run test:cov
```

## Deployment

When you're ready to deploy your NestJS application to production, there are some key steps you can take to ensure it runs as efficiently as possible. Check out the [deployment documentation](https://docs.nestjs.com/deployment) for more information.

If you are looking for a cloud-based platform to deploy your NestJS application, check out [Mau](https://mau.nestjs.com), our official platform for deploying NestJS applications on AWS. Mau makes deployment straightforward and fast, requiring just a few simple steps:

```bash
$ npm install -g @nestjs/mau
$ mau deploy
```

With Mau, you can deploy your application in just a few clicks, allowing you to focus on building features rather than managing infrastructure.

## Resources

Check out a few resources that may come in handy when working with NestJS:

- Visit the [NestJS Documentation](https://docs.nestjs.com) to learn more about the framework.
- For questions and support, please visit our [Discord channel](https://discord.gg/G7Qnnhy).
- To dive deeper and get more hands-on experience, check out our official video [courses](https://courses.nestjs.com/).
- Deploy your application to AWS with the help of [NestJS Mau](https://mau.nestjs.com) in just a few clicks.
- Visualize your application graph and interact with the NestJS application in real-time using [NestJS Devtools](https://devtools.nestjs.com).
- Need help with your project (part-time to full-time)? Check out our official [enterprise support](https://enterprise.nestjs.com).
- To stay in the loop and get updates, follow us on [X](https://x.com/nestframework) and [LinkedIn](https://linkedin.com/company/nestjs).
- Looking for a job, or have a job to offer? Check out our official [Jobs board](https://jobs.nestjs.com).

## Support

Nest is an MIT-licensed open source project. It can grow thanks to the sponsors and support by the amazing backers. If you'd like to join them, please [read more here](https://docs.nestjs.com/support).

## Stay in touch

- Author - [Kamil Myliwiec](https://twitter.com/kammysliwiec)
- Website - [https://nestjs.com](https://nestjs.com/)
- Twitter - [@nestframework](https://twitter.com/nestframework)

## License

Nest is [MIT licensed](https://github.com/nestjs/nest/blob/master/LICENSE).
</file>

<file path="src/backend/table/src/app.controller.spec.ts">
import { Test, TestingModule } from '@nestjs/testing';
import { AppController } from './app.controller';
import { AppService } from './app.service';

describe('AppController', () => {
  let appController: AppController;

  beforeEach(async () => {
    const app: TestingModule = await Test.createTestingModule({
      controllers: [AppController],
      providers: [AppService],
    }).compile();

    appController = app.get<AppController>(AppController);
  });

  describe('root', () => {
    it('should return "Hello World!"', () => {
      expect(appController.getHello()).toBe('Hello World!');
    });
  });
});
</file>

<file path="src/backend/table/src/app.controller.ts">
import { Controller, Get } from '@nestjs/common';
import { AppService } from './app.service';

@Controller()
export class AppController {
  constructor(private readonly appService: AppService) {}

  @Get()
  getHello(): string {
    return this.appService.getHello();
  }
}
</file>

<file path="src/backend/table/src/app.module.ts">
import { TypeOrmModule } from '@nestjs/typeorm';
import { ConfigModule } from '@nestjs/config';
import { Module } from '@nestjs/common';
import { AppController } from './app.controller';
import { AppService } from './app.service';
import { ItemModule } from './item/item.module';

@Module({
	imports: [
		ConfigModule.forRoot({ isGlobal: true }),
		TypeOrmModule.forRoot({
			type: 'postgres',
			host: process.env.HOST_DB,
			port: process.env.PORT_DB ? parseInt(process.env.PORT_DB) : 5432,
			username: process.env.USERNAME_DB,
			password: process.env.PASSWORD_DB,
			database: process.env.DATABASE_DB,
			entities: [], // add your entity here

			synchronize: true,
		}),
		ItemModule,
	],
	controllers: [AppController],
	providers: [AppService],
})
export class AppModule {}
</file>

<file path="src/backend/table/src/app.service.ts">
import { Injectable } from '@nestjs/common';

@Injectable()
export class AppService {
  getHello(): string {
    return 'Hello World!';
  }
}
</file>

<file path="src/backend/table/src/common/entities/table.ts">

</file>

<file path="src/backend/table/src/common/filters/catch-app-exception/catch-app-exception.filter.spec.ts">
import { CatchAppExceptionFilter } from './catch-app-exception.filter';

describe('CatchAppExceptionFilter', () => {
  it('should be defined', () => {
    expect(new CatchAppExceptionFilter()).toBeDefined();
  });
});
</file>

<file path="src/backend/table/src/common/filters/catch-app-exception/catch-app-exception.filter.ts">
import { ArgumentsHost, Catch, ExceptionFilter } from '@nestjs/common';
import { RpcException } from '@nestjs/microservices';
import AppException from '@shared/exceptions/app-exception';

@Catch(AppException)
export class CatchAppExceptionFilter implements ExceptionFilter {
	catch(exception: AppException, host: ArgumentsHost) {
		const errorCode = exception.getErrorCode();
		throw new RpcException({
			code: errorCode.code,
			message: errorCode.message,
			status: errorCode.httpStatus,
		});
	}
}
</file>

<file path="src/backend/table/src/common/filters/global-exception/global-exception.filter.spec.ts">
import { GlobalExceptionFilter } from './global-exception.filter';

describe('GlobalExceptionFilter', () => {
  it('should be defined', () => {
    expect(new GlobalExceptionFilter()).toBeDefined();
  });
});
</file>

<file path="src/backend/table/src/common/filters/global-exception/global-exception.filter.ts">
import { Catch, ArgumentsHost } from '@nestjs/common';
import { RpcException, BaseRpcExceptionFilter } from '@nestjs/microservices';
import AppException from '@shared/exceptions/app-exception';

import { Observable } from 'rxjs';

@Catch()
export class GlobalExceptionFilter extends BaseRpcExceptionFilter {
	catch(exception: any, host: ArgumentsHost): Observable<any> {
		if (exception instanceof AppException) {
			const errorCode = exception.getErrorCode();
			return super.catch(
				new RpcException({
					code: errorCode.code,
					message: errorCode.message,
					status: errorCode.httpStatus,
				}),
				host,
			);
		}

		if (exception instanceof RpcException) {
			return super.catch(exception, host);
		}

		console.error('Unhandled exception:', exception);
		const response = {
			code: 9999,
			message: 'Internal server error',
			status: 500,
			error: exception?.message || null,
		};
		return super.catch(new RpcException(response), host);
	}
}
</file>

<file path="src/backend/table/src/common/filters/index.ts">
// Export all filters
export { GlobalExceptionFilter } from './global-exception/global-exception.filter';
export { CatchAppExceptionFilter } from './catch-app-exception/catch-app-exception.filter';
</file>

<file path="src/backend/table/src/item/item.controller.spec.ts">
import { Test, TestingModule } from '@nestjs/testing';
import { ItemController } from './item.controller';

describe('ItemController', () => {
  let controller: ItemController;

  beforeEach(async () => {
    const module: TestingModule = await Test.createTestingModule({
      controllers: [ItemController],
    }).compile();

    controller = module.get<ItemController>(ItemController);
  });

  it('should be defined', () => {
    expect(controller).toBeDefined();
  });
});
</file>

<file path="src/backend/table/src/item/item.controller.ts">
import { Controller } from '@nestjs/common';

@Controller('item')
export class ItemController {}
</file>

<file path="src/backend/table/src/item/item.module.ts">
import { Module } from '@nestjs/common';
import { ItemService } from './item.service';
import { ItemController } from './item.controller';
import { ClientsModule, Transport } from '@nestjs/microservices';

// nameService + Module -> tng th -> imports
// nameService + Service -> logic nghip v -> providers
// nameService + Controller -> iu phi -> controllers

@Module({
	imports: [
		ClientsModule.register([
			{
				name: 'PRODUCT_SERVICE',
				transport: Transport.TCP,
				options: {
					host: process.env.HOST_PRODUCT_SERVICE || 'localhost',
					port: +process.env.PORT_PRODUCT_SERVICE || 8082,
				},
			},
		]),
	],
	providers: [ItemService],
	controllers: [ItemController],
})
export class ItemModule {}
</file>

<file path="src/backend/table/src/item/item.service.spec.ts">
import { Test, TestingModule } from '@nestjs/testing';
import { ItemService } from './item.service';

describe('ItemService', () => {
  let service: ItemService;

  beforeEach(async () => {
    const module: TestingModule = await Test.createTestingModule({
      providers: [ItemService],
    }).compile();

    service = module.get<ItemService>(ItemService);
  });

  it('should be defined', () => {
    expect(service).toBeDefined();
  });
});
</file>

<file path="src/backend/table/src/item/item.service.ts">
import { Inject, Injectable } from '@nestjs/common';
import { ConfigService } from '@nestjs/config';
import { ClientProxy } from '@nestjs/microservices';

@Injectable()
export class ItemService {
	constructor(
		@Inject('PRODUCT_SERVICE') private readonly productClient: ClientProxy,
		private readonly configService: ConfigService,
	) {}
}
</file>

<file path="src/backend/table/src/main.ts">
import { NestFactory } from '@nestjs/core';
import { AppModule } from './app.module';
import { MicroserviceOptions, Transport, RpcException } from '@nestjs/microservices';
import { ValidationPipe } from '@nestjs/common';
import ErrorCode from '@shared/exceptions/error-code';
import { GlobalExceptionFilter } from 'src/common/filters';

async function bootstrap() {
	const app = await NestFactory.createMicroservice<MicroserviceOptions>(AppModule, {
		transport: Transport.TCP,
		options: {
			port: parseInt(process.env.PORT, 10),
		},
	});

	app.useGlobalPipes(
		new ValidationPipe({
			transform: true,
			whitelist: true,
			forbidNonWhitelisted: true,
			exceptionFactory: (errors) => {
				const messages = errors.map((err) => {
					return {
						[err.property]: Object.values(err.constraints),
					};
				});
				throw new RpcException({
					code: ErrorCode.VALIDATION_FAILED.code,
					message: 'Validation failed',
					status: ErrorCode.VALIDATION_FAILED.httpStatus,
					errors: messages,
				});
			},
		}),
	);

	app.useGlobalFilters(new GlobalExceptionFilter());

	await app.listen();

	process.on('SIGINT', () => {
		console.log('SIGINT received. Shutting down gracefully...');
		app.close().then(() => process.exit(0));
	});
	process.on('SIGTERM', () => {
		console.log('SIGTERM received. Shutting down gracefully...');
		app.close().then(() => process.exit(0));
	});
}
bootstrap()
	.then(() => {
		console.log(`Microservice is running on port ${process.env.PORT}`);
	})
	.catch((err) => {
		console.error('Error starting the microservice', err);
	});
</file>

<file path="src/backend/table/test/app.e2e-spec.ts">
import { Test, TestingModule } from '@nestjs/testing';
import { INestApplication } from '@nestjs/common';
import * as request from 'supertest';
import { App } from 'supertest/types';
import { AppModule } from './../src/app.module';

describe('AppController (e2e)', () => {
  let app: INestApplication<App>;

  beforeEach(async () => {
    const moduleFixture: TestingModule = await Test.createTestingModule({
      imports: [AppModule],
    }).compile();

    app = moduleFixture.createNestApplication();
    await app.init();
  });

  it('/ (GET)', () => {
    return request(app.getHttpServer())
      .get('/')
      .expect(200)
      .expect('Hello World!');
  });
});
</file>

<file path="src/backend/table/test/jest-e2e.json">
{
  "moduleFileExtensions": ["js", "json", "ts"],
  "rootDir": ".",
  "testEnvironment": "node",
  "testRegex": ".e2e-spec.ts$",
  "transform": {
    "^.+\\.(t|j)s$": "ts-jest"
  }
}
</file>

<file path="src/backend/table/tsconfig.build.json">
{
  "extends": "./tsconfig.json",
  "exclude": ["node_modules", "test", "dist", "**/*spec.ts"]
}
</file>

<file path="src/backend/table/tsconfig.json">
{
  "compilerOptions": {
    "module": "nodenext",
    "moduleResolution": "nodenext",
    "resolvePackageJsonExports": true,
    "esModuleInterop": true,
    "isolatedModules": true,
    "declaration": true,
    "removeComments": true,
    "emitDecoratorMetadata": true,
    "experimentalDecorators": true,
    "allowSyntheticDefaultImports": true,
    "target": "ES2023",
    "sourceMap": true,
    "outDir": "./dist",
    "baseUrl": "./",
    "incremental": true,
    "skipLibCheck": true,
    "strictNullChecks": false,
    "forceConsistentCasingInFileNames": false,
    "noImplicitAny": false,
    "strictBindCallApply": false,
    "strictFunctionTypes": false,
    "strictPropertyInitialization": false,
    "noImplicitThis": false,
    "noFallthroughCasesInSwitch": false,
    "paths": {
      "@shared/*": ["../shared/src/*"]
    }
  }
}
</file>

<file path="src/frontend/public/vite.svg">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="31.88" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 257"><defs><linearGradient id="IconifyId1813088fe1fbc01fb466" x1="-.828%" x2="57.636%" y1="7.652%" y2="78.411%"><stop offset="0%" stop-color="#41D1FF"></stop><stop offset="100%" stop-color="#BD34FE"></stop></linearGradient><linearGradient id="IconifyId1813088fe1fbc01fb467" x1="43.376%" x2="50.316%" y1="2.242%" y2="89.03%"><stop offset="0%" stop-color="#FFEA83"></stop><stop offset="8.333%" stop-color="#FFDD35"></stop><stop offset="100%" stop-color="#FFA800"></stop></linearGradient></defs><path fill="url(#IconifyId1813088fe1fbc01fb466)" d="M255.153 37.938L134.897 252.976c-2.483 4.44-8.862 4.466-11.382.048L.875 37.958c-2.746-4.814 1.371-10.646 6.827-9.67l120.385 21.517a6.537 6.537 0 0 0 2.322-.004l117.867-21.483c5.438-.991 9.574 4.796 6.877 9.62Z"></path><path fill="url(#IconifyId1813088fe1fbc01fb467)" d="M185.432.063L96.44 17.501a3.268 3.268 0 0 0-2.634 3.014l-5.474 92.456a3.268 3.268 0 0 0 3.997 3.378l24.777-5.718c2.318-.535 4.413 1.507 3.936 3.838l-7.361 36.047c-.495 2.426 1.782 4.5 4.151 3.78l15.304-4.649c2.372-.72 4.652 1.36 4.15 3.788l-11.698 56.621c-.732 3.542 3.979 5.473 5.943 2.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505 4.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z"></path></svg>
</file>

<file path="src/frontend/src/assets/react.svg">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="35.93" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 228"><path fill="#00D8FF" d="M210.483 73.824a171.49 171.49 0 0 0-8.24-2.597c.465-1.9.893-3.777 1.273-5.621c6.238-30.281 2.16-54.676-11.769-62.708c-13.355-7.7-35.196.329-57.254 19.526a171.23 171.23 0 0 0-6.375 5.848a155.866 155.866 0 0 0-4.241-3.917C100.759 3.829 77.587-4.822 63.673 3.233C50.33 10.957 46.379 33.89 51.995 62.588a170.974 170.974 0 0 0 1.892 8.48c-3.28.932-6.445 1.924-9.474 2.98C17.309 83.498 0 98.307 0 113.668c0 15.865 18.582 31.778 46.812 41.427a145.52 145.52 0 0 0 6.921 2.165a167.467 167.467 0 0 0-2.01 9.138c-5.354 28.2-1.173 50.591 12.134 58.266c13.744 7.926 36.812-.22 59.273-19.855a145.567 145.567 0 0 0 5.342-4.923a168.064 168.064 0 0 0 6.92 6.314c21.758 18.722 43.246 26.282 56.54 18.586c13.731-7.949 18.194-32.003 12.4-61.268a145.016 145.016 0 0 0-1.535-6.842c1.62-.48 3.21-.974 4.76-1.488c29.348-9.723 48.443-25.443 48.443-41.52c0-15.417-17.868-30.326-45.517-39.844Zm-6.365 70.984c-1.4.463-2.836.91-4.3 1.345c-3.24-10.257-7.612-21.163-12.963-32.432c5.106-11 9.31-21.767 12.459-31.957c2.619.758 5.16 1.557 7.61 2.4c23.69 8.156 38.14 20.213 38.14 29.504c0 9.896-15.606 22.743-40.946 31.14Zm-10.514 20.834c2.562 12.94 2.927 24.64 1.23 33.787c-1.524 8.219-4.59 13.698-8.382 15.893c-8.067 4.67-25.32-1.4-43.927-17.412a156.726 156.726 0 0 1-6.437-5.87c7.214-7.889 14.423-17.06 21.459-27.246c12.376-1.098 24.068-2.894 34.671-5.345a134.17 134.17 0 0 1 1.386 6.193ZM87.276 214.515c-7.882 2.783-14.16 2.863-17.955.675c-8.075-4.657-11.432-22.636-6.853-46.752a156.923 156.923 0 0 1 1.869-8.499c10.486 2.32 22.093 3.988 34.498 4.994c7.084 9.967 14.501 19.128 21.976 27.15a134.668 134.668 0 0 1-4.877 4.492c-9.933 8.682-19.886 14.842-28.658 17.94ZM50.35 144.747c-12.483-4.267-22.792-9.812-29.858-15.863c-6.35-5.437-9.555-10.836-9.555-15.216c0-9.322 13.897-21.212 37.076-29.293c2.813-.98 5.757-1.905 8.812-2.773c3.204 10.42 7.406 21.315 12.477 32.332c-5.137 11.18-9.399 22.249-12.634 32.792a134.718 134.718 0 0 1-6.318-1.979Zm12.378-84.26c-4.811-24.587-1.616-43.134 6.425-47.789c8.564-4.958 27.502 2.111 47.463 19.835a144.318 144.318 0 0 1 3.841 3.545c-7.438 7.987-14.787 17.08-21.808 26.988c-12.04 1.116-23.565 2.908-34.161 5.309a160.342 160.342 0 0 1-1.76-7.887Zm110.427 27.268a347.8 347.8 0 0 0-7.785-12.803c8.168 1.033 15.994 2.404 23.343 4.08c-2.206 7.072-4.956 14.465-8.193 22.045a381.151 381.151 0 0 0-7.365-13.322Zm-45.032-43.861c5.044 5.465 10.096 11.566 15.065 18.186a322.04 322.04 0 0 0-30.257-.006c4.974-6.559 10.069-12.652 15.192-18.18ZM82.802 87.83a323.167 323.167 0 0 0-7.227 13.238c-3.184-7.553-5.909-14.98-8.134-22.152c7.304-1.634 15.093-2.97 23.209-3.984a321.524 321.524 0 0 0-7.848 12.897Zm8.081 65.352c-8.385-.936-16.291-2.203-23.593-3.793c2.26-7.3 5.045-14.885 8.298-22.6a321.187 321.187 0 0 0 7.257 13.246c2.594 4.48 5.28 8.868 8.038 13.147Zm37.542 31.03c-5.184-5.592-10.354-11.779-15.403-18.433c4.902.192 9.899.29 14.978.29c5.218 0 10.376-.117 15.453-.343c-4.985 6.774-10.018 12.97-15.028 18.486Zm52.198-57.817c3.422 7.8 6.306 15.345 8.596 22.52c-7.422 1.694-15.436 3.058-23.88 4.071a382.417 382.417 0 0 0 7.859-13.026a347.403 347.403 0 0 0 7.425-13.565Zm-16.898 8.101a358.557 358.557 0 0 1-12.281 19.815a329.4 329.4 0 0 1-23.444.823c-7.967 0-15.716-.248-23.178-.732a310.202 310.202 0 0 1-12.513-19.846h.001a307.41 307.41 0 0 1-10.923-20.627a310.278 310.278 0 0 1 10.89-20.637l-.001.001a307.318 307.318 0 0 1 12.413-19.761c7.613-.576 15.42-.876 23.31-.876H128c7.926 0 15.743.303 23.354.883a329.357 329.357 0 0 1 12.335 19.695a358.489 358.489 0 0 1 11.036 20.54a329.472 329.472 0 0 1-11 20.722Zm22.56-122.124c8.572 4.944 11.906 24.881 6.52 51.026c-.344 1.668-.73 3.367-1.15 5.09c-10.622-2.452-22.155-4.275-34.23-5.408c-7.034-10.017-14.323-19.124-21.64-27.008a160.789 160.789 0 0 1 5.888-5.4c18.9-16.447 36.564-22.941 44.612-18.3ZM128 90.808c12.625 0 22.86 10.235 22.86 22.86s-10.235 22.86-22.86 22.86s-22.86-10.235-22.86-22.86s10.235-22.86 22.86-22.86Z"></path></svg>
</file>

<file path="src/frontend/src/index.css">
@import "tailwindcss"
</file>

<file path="src/backend/api-gateway/.gitignore">
# compiled output
/dist
/node_modules
/build

# Logs
logs
*.log
npm-debug.log*
pnpm-debug.log*
yarn-debug.log*
yarn-error.log*
lerna-debug.log*

# OS
.DS_Store

# Tests
/coverage
/.nyc_output

# IDEs and editors
/.idea
.project
.classpath
.c9/
*.launch
.settings/
*.sublime-workspace

# IDE - VSCode
.vscode/*
!.vscode/settings.json
!.vscode/tasks.json
!.vscode/launch.json
!.vscode/extensions.json

# dotenv environment variable files
.env
.env.development.local
.env.test.local
.env.production.local
.env.local

# temp directory
.temp
.tmp

# Runtime data
pids
*.pid
*.seed
*.pid.lock

# Diagnostic reports (https://nodejs.org/api/report.html)
report.[0-9]*.[0-9]*.[0-9]*.[0-9]*.json
</file>

<file path="src/backend/api-gateway/.prettierrc">
{
  "arrowParens": "always",
  "bracketSameLine": false,
  "objectWrap": "preserve",
  "bracketSpacing": true,
  "semi": true,
  "experimentalOperatorPosition": "end",
  "experimentalTernaries": false,
  "singleQuote": true,
  "jsxSingleQuote": false,
  "quoteProps": "as-needed",
  "trailingComma": "all",
  "singleAttributePerLine": false,
  "htmlWhitespaceSensitivity": "css",
  "vueIndentScriptAndStyle": false,
  "proseWrap": "preserve",
  "insertPragma": false,
  "printWidth": 90,
  "requirePragma": false,
  "tabWidth": 2,
  "useTabs": true,
  "embeddedLanguageFormatting": "auto"
}
</file>

<file path="src/backend/api-gateway/eslint.config.mjs">
// @ts-check
import eslint from '@eslint/js';
import eslintPluginPrettierRecommended from 'eslint-plugin-prettier/recommended';
import globals from 'globals';
import tseslint from 'typescript-eslint';

export default tseslint.config(
	{
		ignores: ['eslint.config.mjs'],
	},
	eslint.configs.recommended,
	...tseslint.configs.recommendedTypeChecked,
	eslintPluginPrettierRecommended,
	{
		languageOptions: {
			globals: {
				...globals.node,
				...globals.jest,
			},
			sourceType: 'commonjs',
			parserOptions: {
				projectService: true,
				tsconfigRootDir: import.meta.dirname,
			},
		},
	},
	{
		rules: {
			'@typescript-eslint/no-explicit-any': 'off',
			'@typescript-eslint/no-floating-promises': 'off',
			'@typescript-eslint/no-unsafe-argument': 'off',
			'@typescript-eslint/no-unsafe-assignment': 'off',
			'@typescript-eslint/no-unsafe-member-access': 'off',
			'@typescript-eslint/no-unsafe-call': 'off',
			'@typescript-eslint/no-unsafe-return': 'off',
		},
	},
);
</file>

<file path="src/backend/api-gateway/nest-cli.json">
{
  "$schema": "https://json.schemastore.org/nest-cli",
  "collection": "@nestjs/schematics",
  "sourceRoot": "src",
  "entryFile": "api-gateway/src/main",
  "compilerOptions": {
    "deleteOutDir": true,
    "tsConfigPath": "tsconfig.build.json",
    "webpack": false
  }
}
</file>

<file path="src/backend/api-gateway/README.md">
<p align="center">
  <a href="http://nestjs.com/" target="blank"><img src="https://nestjs.com/img/logo-small.svg" width="120" alt="Nest Logo" /></a>
</p>

[circleci-image]: https://img.shields.io/circleci/build/github/nestjs/nest/master?token=abc123def456
[circleci-url]: https://circleci.com/gh/nestjs/nest

  <p align="center">A progressive <a href="http://nodejs.org" target="_blank">Node.js</a> framework for building efficient and scalable server-side applications.</p>
    <p align="center">
<a href="https://www.npmjs.com/~nestjscore" target="_blank"><img src="https://img.shields.io/npm/v/@nestjs/core.svg" alt="NPM Version" /></a>
<a href="https://www.npmjs.com/~nestjscore" target="_blank"><img src="https://img.shields.io/npm/l/@nestjs/core.svg" alt="Package License" /></a>
<a href="https://www.npmjs.com/~nestjscore" target="_blank"><img src="https://img.shields.io/npm/dm/@nestjs/common.svg" alt="NPM Downloads" /></a>
<a href="https://circleci.com/gh/nestjs/nest" target="_blank"><img src="https://img.shields.io/circleci/build/github/nestjs/nest/master" alt="CircleCI" /></a>
<a href="https://discord.gg/G7Qnnhy" target="_blank"><img src="https://img.shields.io/badge/discord-online-brightgreen.svg" alt="Discord"/></a>
<a href="https://opencollective.com/nest#backer" target="_blank"><img src="https://opencollective.com/nest/backers/badge.svg" alt="Backers on Open Collective" /></a>
<a href="https://opencollective.com/nest#sponsor" target="_blank"><img src="https://opencollective.com/nest/sponsors/badge.svg" alt="Sponsors on Open Collective" /></a>
  <a href="https://paypal.me/kamilmysliwiec" target="_blank"><img src="https://img.shields.io/badge/Donate-PayPal-ff3f59.svg" alt="Donate us"/></a>
    <a href="https://opencollective.com/nest#sponsor"  target="_blank"><img src="https://img.shields.io/badge/Support%20us-Open%20Collective-41B883.svg" alt="Support us"></a>
  <a href="https://twitter.com/nestframework" target="_blank"><img src="https://img.shields.io/twitter/follow/nestframework.svg?style=social&label=Follow" alt="Follow us on Twitter"></a>
</p>
  <!--[![Backers on Open Collective](https://opencollective.com/nest/backers/badge.svg)](https://opencollective.com/nest#backer)
  [![Sponsors on Open Collective](https://opencollective.com/nest/sponsors/badge.svg)](https://opencollective.com/nest#sponsor)-->

## Description

[Nest](https://github.com/nestjs/nest) framework TypeScript starter repository.

## Project setup

```bash
$ npm install
```

## Compile and run the project

```bash
# development
$ npm run start

# watch mode
$ npm run start:dev

# production mode
$ npm run start:prod
```

## Run tests

```bash
# unit tests
$ npm run test

# e2e tests
$ npm run test:e2e

# test coverage
$ npm run test:cov
```

## Deployment

When you're ready to deploy your NestJS application to production, there are some key steps you can take to ensure it runs as efficiently as possible. Check out the [deployment documentation](https://docs.nestjs.com/deployment) for more information.

If you are looking for a cloud-based platform to deploy your NestJS application, check out [Mau](https://mau.nestjs.com), our official platform for deploying NestJS applications on AWS. Mau makes deployment straightforward and fast, requiring just a few simple steps:

```bash
$ npm install -g @nestjs/mau
$ mau deploy
```

With Mau, you can deploy your application in just a few clicks, allowing you to focus on building features rather than managing infrastructure.

## Resources

Check out a few resources that may come in handy when working with NestJS:

- Visit the [NestJS Documentation](https://docs.nestjs.com) to learn more about the framework.
- For questions and support, please visit our [Discord channel](https://discord.gg/G7Qnnhy).
- To dive deeper and get more hands-on experience, check out our official video [courses](https://courses.nestjs.com/).
- Deploy your application to AWS with the help of [NestJS Mau](https://mau.nestjs.com) in just a few clicks.
- Visualize your application graph and interact with the NestJS application in real-time using [NestJS Devtools](https://devtools.nestjs.com).
- Need help with your project (part-time to full-time)? Check out our official [enterprise support](https://enterprise.nestjs.com).
- To stay in the loop and get updates, follow us on [X](https://x.com/nestframework) and [LinkedIn](https://linkedin.com/company/nestjs).
- Looking for a job, or have a job to offer? Check out our official [Jobs board](https://jobs.nestjs.com).

## Support

Nest is an MIT-licensed open source project. It can grow thanks to the sponsors and support by the amazing backers. If you'd like to join them, please [read more here](https://docs.nestjs.com/support).

## Stay in touch

- Author - [Kamil Myliwiec](https://twitter.com/kammysliwiec)
- Website - [https://nestjs.com](https://nestjs.com/)
- Twitter - [@nestframework](https://twitter.com/nestframework)

## License

Nest is [MIT licensed](https://github.com/nestjs/nest/blob/master/LICENSE).
</file>

<file path="src/backend/api-gateway/src/app.controller.spec.ts">
import { Test, TestingModule } from '@nestjs/testing';
import { AppController } from './app.controller';
import { AppService } from './app.service';

describe('AppController', () => {
	let appController: AppController;

	beforeEach(async () => {
		const app: TestingModule = await Test.createTestingModule({
			controllers: [AppController],
			providers: [AppService],
		}).compile();

		appController = app.get<AppController>(AppController);
	});

	describe('root', () => {
		it('should return "Hello World!"', () => {
			expect(appController.getHello()).toBe('Hello World!');
		});
	});
});
</file>

<file path="src/backend/api-gateway/src/app.controller.ts">
import { Controller, Get } from '@nestjs/common';
import { AppService } from './app.service';

@Controller()
export class AppController {
	constructor(private readonly appService: AppService) {}

	@Get()
	getHello(): string {
		return this.appService.getHello();
	}
}
</file>

<file path="src/backend/api-gateway/src/app.service.ts">
import { Injectable } from '@nestjs/common';

@Injectable()
export class AppService {
	getHello(): string {
		return 'Hello World!';
	}
}
</file>

<file path="src/backend/api-gateway/src/common/middleware/rate-limit/rate-limit.middleware.ts">
import { Injectable, NestMiddleware, HttpStatus } from '@nestjs/common';
import { ConfigService } from '@nestjs/config';
import { Request, Response, NextFunction } from 'express';

interface RateLimitEntry {
	count: number;
	resetTime: number;
}

@Injectable()
export class RateLimitMiddleware implements NestMiddleware {
	// Public URLs khng cn API key
	private readonly PUBLIC_URLS = [
		'/api/v1/identity/auth/login',
		'/api/v1/identity/auth/register',
		'/api/v1/identity/auth/refresh',
		'/api/v1/product/public/menu',
	];

	private readonly rateLimitStore = new Map<string, RateLimitEntry>();

	private readonly RATE_LIMIT_MAX_REQUESTS = 5;
	private readonly RATE_LIMIT_WINDOW_MS = 1000;

	constructor(private readonly configService: ConfigService) {
		setInterval(() => this.cleanupExpiredEntries(), 10000);
	}

	use(req: Request, res: Response, next: NextFunction) {
		const url = req.originalUrl || req.url;
		const ip = this.getClientIp(req);

		const isPublicUrl = this.PUBLIC_URLS.some((publicUrl) => url.startsWith(publicUrl));

		if (!isPublicUrl) {
			const apiKey = req.headers['x-api-key'] as string;
			const expectedApiKey = this.configService.get<string>('X_API_KEY');

			if (!apiKey || apiKey !== expectedApiKey) {
				return res.status(HttpStatus.UNAUTHORIZED).json({
					code: HttpStatus.UNAUTHORIZED,
					message: 'Unauthorized: Invalid or missing API key',
					data: null,
				});
			}
		}

		if (!this.checkRateLimit(ip)) {
			return res.status(HttpStatus.TOO_MANY_REQUESTS).json({
				code: HttpStatus.TOO_MANY_REQUESTS,
				message: 'Too many requests. Please try again later.',
				data: null,
			});
		}

		next();
	}

	private checkRateLimit(ip: string): boolean {
		const now = Date.now();
		const entry = this.rateLimitStore.get(ip);

		if (!entry) {
			this.rateLimitStore.set(ip, {
				count: 1,
				resetTime: now + this.RATE_LIMIT_WINDOW_MS,
			});
			return true;
		}
		if (now > entry.resetTime) {
			this.rateLimitStore.set(ip, {
				count: 1,
				resetTime: now + this.RATE_LIMIT_WINDOW_MS,
			});
			return true;
		}

		if (entry.count >= this.RATE_LIMIT_MAX_REQUESTS) {
			return false;
		}

		entry.count++;
		return true;
	}

	private getClientIp(req: Request): string {
		const forwarded = req.headers['x-forwarded-for'] as string;
		if (forwarded) {
			return forwarded.split(',')[0].trim();
		}

		const realIp = req.headers['x-real-ip'] as string;
		if (realIp) {
			return realIp;
		}

		return req.socket.remoteAddress || 'unknown';
	}

	private cleanupExpiredEntries(): void {
		const now = Date.now();
		for (const [ip, entry] of this.rateLimitStore.entries()) {
			if (now > entry.resetTime) {
				this.rateLimitStore.delete(ip);
			}
		}
	}
}
</file>

<file path="src/backend/api-gateway/src/services/identity/identity.controller.spec.ts">
import { Test, TestingModule } from '@nestjs/testing';
import { IdentityController } from './identity.controller';

describe('IdentityController', () => {
	let controller: IdentityController;

	beforeEach(async () => {
		const module: TestingModule = await Test.createTestingModule({
			controllers: [IdentityController],
		}).compile();

		controller = module.get<IdentityController>(IdentityController);
	});

	it('should be defined', () => {
		expect(controller).toBeDefined();
	});
});
</file>

<file path="src/backend/api-gateway/src/services/product/product.controller.ts">
import {
	Body,
	Controller,
	Delete,
	Get,
	Inject,
	Param,
	Patch,
	Post,
	Query,
	UseGuards,
} from '@nestjs/common';
import { ConfigService } from '@nestjs/config';
import { ClientProxy } from '@nestjs/microservices';
import { AuthGuard } from 'src/common/guards/get-role/auth.guard';
import Role from 'src/common/guards/check-role/check-role.guard';

@Controller('products')
export class ProductController {
	constructor(
		@Inject('PRODUCT_SERVICE') private readonly productClient: ClientProxy,
		private readonly configService: ConfigService,
	) {}

	// ============ CATEGORIES ============

	@Post('tenants/:tenantId/categories')
	@UseGuards(AuthGuard, Role('ADMIN'))
	createCategory(@Param('tenantId') tenantId: string, @Body() data: any) {
		return this.productClient.send('categories:create', {
			tenantId,
			...data,
			productApiKey: this.configService.get('PRODUCT_API_KEY'),
		});
	}

	@Get('tenants/:tenantId/categories')
	@UseGuards(AuthGuard, Role('ADMIN'))
	getCategories(@Param('tenantId') tenantId: string) {
		return this.productClient.send('categories:get-all', {
			tenantId,
			productApiKey: this.configService.get('PRODUCT_API_KEY'),
		});
	}

	@Patch('categories/:categoryId')
	@UseGuards(AuthGuard, Role('ADMIN'))
	updateCategory(@Param('categoryId') categoryId: string, @Body() data: any) {
		return this.productClient.send('categories:update', {
			categoryId,
			...data,
			productApiKey: this.configService.get('PRODUCT_API_KEY'),
		});
	}

	@Post('categories/:categoryId/publish')
	@UseGuards(AuthGuard, Role('ADMIN'))
	publishCategory(@Param('categoryId') categoryId: string, @Body() data: any) {
		return this.productClient.send('categories:publish', {
			categoryId,
			...data,
			productApiKey: this.configService.get('PRODUCT_API_KEY'),
		});
	}

	@Delete('categories/:categoryId')
	@UseGuards(AuthGuard, Role('ADMIN'))
	deleteCategory(@Param('categoryId') categoryId: string, @Body() data: any) {
		return this.productClient.send('categories:delete', {
			categoryId,
			...data,
			productApiKey: this.configService.get('PRODUCT_API_KEY'),
		});
	}

	// ============ MENU ITEMS ============

	@Post('tenants/:tenantId/items')
	@UseGuards(AuthGuard, Role('ADMIN'))
	createItem(@Param('tenantId') tenantId: string, @Body() data: any) {
		return this.productClient.send('items:create', {
			tenantId,
			...data,
			productApiKey: this.configService.get('PRODUCT_API_KEY'),
		});
	}

	@Get('tenants/:tenantId/items')
	@UseGuards(AuthGuard, Role('ADMIN'))
	getItems(
		@Param('tenantId') tenantId: string,
		@Query('categoryId') categoryId?: string,
	) {
		return this.productClient.send('items:get-all', {
			tenantId,
			categoryId,
			productApiKey: this.configService.get('PRODUCT_API_KEY'),
		});
	}

	@Patch('items/:itemId')
	@UseGuards(AuthGuard, Role('ADMIN'))
	updateItem(@Param('itemId') itemId: string, @Body() data: any) {
		return this.productClient.send('items:update', {
			itemId,
			...data,
			productApiKey: this.configService.get('PRODUCT_API_KEY'),
		});
	}

	@Post('items/:itemId/publish')
	@UseGuards(AuthGuard, Role('ADMIN'))
	publishItem(@Param('itemId') itemId: string, @Body() data: any) {
		return this.productClient.send('items:publish', {
			itemId,
			...data,
			productApiKey: this.configService.get('PRODUCT_API_KEY'),
		});
	}

	@Delete('items/:itemId')
	@UseGuards(AuthGuard, Role('ADMIN'))
	deleteItem(@Param('itemId') itemId: string, @Body() data: any) {
		return this.productClient.send('items:delete', {
			itemId,
			...data,
			productApiKey: this.configService.get('PRODUCT_API_KEY'),
		});
	}

	@Post('items/:itemId/modifiers')
	@UseGuards(AuthGuard, Role('ADMIN'))
	addModifiers(@Param('itemId') itemId: string, @Body() data: any) {
		return this.productClient.send('items:add-modifiers', {
			itemId,
			...data,
			productApiKey: this.configService.get('PRODUCT_API_KEY'),
		});
	}

	// ============ PUBLIC MENU ============

	@Get('public/menu/:tenantId')
	getPublicMenu(@Param('tenantId') tenantId: string) {
		return this.productClient.send('public:get-menu', {
			tenantId,
		});
	}
}
</file>

<file path="src/backend/api-gateway/src/services/profile/profile.controller.spec.ts">
import { Test, TestingModule } from '@nestjs/testing';
import { ProfileController } from './profile.controller';

describe('ProfileController', () => {
  let controller: ProfileController;

  beforeEach(async () => {
    const module: TestingModule = await Test.createTestingModule({
      controllers: [ProfileController],
    }).compile();

    controller = module.get<ProfileController>(ProfileController);
  });

  it('should be defined', () => {
    expect(controller).toBeDefined();
  });
});
</file>

<file path="src/backend/api-gateway/test/app.e2e-spec.ts">
import { Test, TestingModule } from '@nestjs/testing';
import { INestApplication } from '@nestjs/common';
import * as request from 'supertest';
import { App } from 'supertest/types';
import { AppModule } from './../src/app.module';

describe('AppController (e2e)', () => {
  let app: INestApplication<App>;

  beforeEach(async () => {
    const moduleFixture: TestingModule = await Test.createTestingModule({
      imports: [AppModule],
    }).compile();

    app = moduleFixture.createNestApplication();
    await app.init();
  });

  it('/ (GET)', () => {
    return request(app.getHttpServer())
      .get('/')
      .expect(200)
      .expect('Hello World!');
  });
});
</file>

<file path="src/backend/api-gateway/test/jest-e2e.json">
{
  "moduleFileExtensions": ["js", "json", "ts"],
  "rootDir": ".",
  "testEnvironment": "node",
  "testRegex": ".e2e-spec.ts$",
  "transform": {
    "^.+\\.(t|j)s$": "ts-jest"
  }
}
</file>

<file path="src/backend/api-gateway/tsconfig.build.json">
{
  "extends": "./tsconfig.json",
  "exclude": ["node_modules", "test", "dist", "**/*spec.ts", "../shared"]
}
</file>

<file path="src/backend/identity/.prettierrc">
{
  "arrowParens": "always",
  "bracketSameLine": false,
  "objectWrap": "preserve",
  "bracketSpacing": true,
  "semi": true,
  "experimentalOperatorPosition": "end",
  "experimentalTernaries": false,
  "singleQuote": true,
  "jsxSingleQuote": false,
  "quoteProps": "as-needed",
  "trailingComma": "all",
  "singleAttributePerLine": false,
  "htmlWhitespaceSensitivity": "css",
  "vueIndentScriptAndStyle": false,
  "proseWrap": "preserve",
  "insertPragma": false,
  "printWidth": 90,
  "requirePragma": false,
  "tabWidth": 2,
  "useTabs": true,
  "embeddedLanguageFormatting": "auto"
}
</file>

<file path="src/backend/identity/eslint.config.mjs">
// @ts-check
import eslint from '@eslint/js';
import eslintPluginPrettierRecommended from 'eslint-plugin-prettier/recommended';
import globals from 'globals';
import tseslint from 'typescript-eslint';

export default tseslint.config(
	{
		ignores: ['eslint.config.mjs'],
	},
	eslint.configs.recommended,
	...tseslint.configs.recommendedTypeChecked,
	eslintPluginPrettierRecommended,
	{
		languageOptions: {
			globals: {
				...globals.node,
				...globals.jest,
			},
			sourceType: 'commonjs',
			parserOptions: {
				projectService: true,
				tsconfigRootDir: import.meta.dirname,
			},
		},
	},
	{
		rules: {
			'@typescript-eslint/no-explicit-any': 'off',
			'@typescript-eslint/no-floating-promises': 'off',
			'@typescript-eslint/no-unsafe-argument': 'off',
			'@typescript-eslint/no-unsafe-assignment': 'off',
			'@typescript-eslint/no-unsafe-member-access': 'off',
			'@typescript-eslint/no-unsafe-call': 'off',
			'@typescript-eslint/no-unsafe-return': 'off',
		},
	},
);
</file>

<file path="src/backend/identity/nest-cli.json">
{
  "$schema": "https://json.schemastore.org/nest-cli",
  "collection": "@nestjs/schematics",
  "sourceRoot": "src",
  "entryFile": "identity/src/main",
  "compilerOptions": {
    "deleteOutDir": true
  }
}
</file>

<file path="src/backend/identity/README.md">
<p align="center">
  <a href="http://nestjs.com/" target="blank"><img src="https://nestjs.com/img/logo-small.svg" width="120" alt="Nest Logo" /></a>
</p>

[circleci-image]: https://img.shields.io/circleci/build/github/nestjs/nest/master?token=abc123def456
[circleci-url]: https://circleci.com/gh/nestjs/nest

  <p align="center">A progressive <a href="http://nodejs.org" target="_blank">Node.js</a> framework for building efficient and scalable server-side applications.</p>
    <p align="center">
<a href="https://www.npmjs.com/~nestjscore" target="_blank"><img src="https://img.shields.io/npm/v/@nestjs/core.svg" alt="NPM Version" /></a>
<a href="https://www.npmjs.com/~nestjscore" target="_blank"><img src="https://img.shields.io/npm/l/@nestjs/core.svg" alt="Package License" /></a>
<a href="https://www.npmjs.com/~nestjscore" target="_blank"><img src="https://img.shields.io/npm/dm/@nestjs/common.svg" alt="NPM Downloads" /></a>
<a href="https://circleci.com/gh/nestjs/nest" target="_blank"><img src="https://img.shields.io/circleci/build/github/nestjs/nest/master" alt="CircleCI" /></a>
<a href="https://discord.gg/G7Qnnhy" target="_blank"><img src="https://img.shields.io/badge/discord-online-brightgreen.svg" alt="Discord"/></a>
<a href="https://opencollective.com/nest#backer" target="_blank"><img src="https://opencollective.com/nest/backers/badge.svg" alt="Backers on Open Collective" /></a>
<a href="https://opencollective.com/nest#sponsor" target="_blank"><img src="https://opencollective.com/nest/sponsors/badge.svg" alt="Sponsors on Open Collective" /></a>
  <a href="https://paypal.me/kamilmysliwiec" target="_blank"><img src="https://img.shields.io/badge/Donate-PayPal-ff3f59.svg" alt="Donate us"/></a>
    <a href="https://opencollective.com/nest#sponsor"  target="_blank"><img src="https://img.shields.io/badge/Support%20us-Open%20Collective-41B883.svg" alt="Support us"></a>
  <a href="https://twitter.com/nestframework" target="_blank"><img src="https://img.shields.io/twitter/follow/nestframework.svg?style=social&label=Follow" alt="Follow us on Twitter"></a>
</p>
  <!--[![Backers on Open Collective](https://opencollective.com/nest/backers/badge.svg)](https://opencollective.com/nest#backer)
  [![Sponsors on Open Collective](https://opencollective.com/nest/sponsors/badge.svg)](https://opencollective.com/nest#sponsor)-->

## Description

[Nest](https://github.com/nestjs/nest) framework TypeScript starter repository.

## Project setup

```bash
$ npm install
```

## Compile and run the project

```bash
# development
$ npm run start

# watch mode
$ npm run start:dev

# production mode
$ npm run start:prod
```

## Run tests

```bash
# unit tests
$ npm run test

# e2e tests
$ npm run test:e2e

# test coverage
$ npm run test:cov
```

## Deployment

When you're ready to deploy your NestJS application to production, there are some key steps you can take to ensure it runs as efficiently as possible. Check out the [deployment documentation](https://docs.nestjs.com/deployment) for more information.

If you are looking for a cloud-based platform to deploy your NestJS application, check out [Mau](https://mau.nestjs.com), our official platform for deploying NestJS applications on AWS. Mau makes deployment straightforward and fast, requiring just a few simple steps:

```bash
$ npm install -g @nestjs/mau
$ mau deploy
```

With Mau, you can deploy your application in just a few clicks, allowing you to focus on building features rather than managing infrastructure.

## Resources

Check out a few resources that may come in handy when working with NestJS:

- Visit the [NestJS Documentation](https://docs.nestjs.com) to learn more about the framework.
- For questions and support, please visit our [Discord channel](https://discord.gg/G7Qnnhy).
- To dive deeper and get more hands-on experience, check out our official video [courses](https://courses.nestjs.com/).
- Deploy your application to AWS with the help of [NestJS Mau](https://mau.nestjs.com) in just a few clicks.
- Visualize your application graph and interact with the NestJS application in real-time using [NestJS Devtools](https://devtools.nestjs.com).
- Need help with your project (part-time to full-time)? Check out our official [enterprise support](https://enterprise.nestjs.com).
- To stay in the loop and get updates, follow us on [X](https://x.com/nestframework) and [LinkedIn](https://linkedin.com/company/nestjs).
- Looking for a job, or have a job to offer? Check out our official [Jobs board](https://jobs.nestjs.com).

## Support

Nest is an MIT-licensed open source project. It can grow thanks to the sponsors and support by the amazing backers. If you'd like to join them, please [read more here](https://docs.nestjs.com/support).

## Stay in touch

- Author - [Kamil Myliwiec](https://twitter.com/kammysliwiec)
- Website - [https://nestjs.com](https://nestjs.com/)
- Twitter - [@nestframework](https://twitter.com/nestframework)

## License

Nest is [MIT licensed](https://github.com/nestjs/nest/blob/master/LICENSE).
</file>

<file path="src/backend/identity/src/app.controller.spec.ts">
import { Test, TestingModule } from '@nestjs/testing';
import { AppController } from './app.controller';
import { AppService } from './app.service';

describe('AppController', () => {
	let appController: AppController;

	beforeEach(async () => {
		const app: TestingModule = await Test.createTestingModule({
			controllers: [AppController],
			providers: [AppService],
		}).compile();

		appController = app.get<AppController>(AppController);
	});

	describe('root', () => {
		it('should return "Hello World!"', () => {
			expect(appController.getHello()).toBe('Hello World!');
		});
	});
});
</file>

<file path="src/backend/identity/src/app.controller.ts">
import { Controller } from '@nestjs/common';
import { AppService } from './app.service';
import { MessagePattern } from '@nestjs/microservices';
@Controller()
export class AppController {
	constructor(private readonly appService: AppService) {}

	@MessagePattern('health-check')
	healthCheck(): string {
		return this.appService.healthCheck();
	}

	//TODO: Add more message patterns as needed for the identity service
}
</file>

<file path="src/backend/identity/src/app.service.ts">
import { Injectable } from '@nestjs/common';

@Injectable()
export class AppService {
	healthCheck(): string {
		return 'OK';
	}
}
</file>

<file path="src/backend/identity/src/auth/auth.controller.spec.ts">
import { Test, TestingModule } from '@nestjs/testing';
import { AuthController } from './auth.controller';

describe('AuthController', () => {
  let controller: AuthController;

  beforeEach(async () => {
    const module: TestingModule = await Test.createTestingModule({
      controllers: [AuthController],
    }).compile();

    controller = module.get<AuthController>(AuthController);
  });

  it('should be defined', () => {
    expect(controller).toBeDefined();
  });
});
</file>

<file path="src/backend/identity/src/auth/auth.module.ts">
import { Module } from '@nestjs/common';
import { AuthController } from './auth.controller';
import { AuthService } from './auth.service';
import { TypeOrmModule } from '@nestjs/typeorm';
import { User } from 'src/common/entities/user';
import { RemoveToken } from 'src/common/entities/remove-token';
import { JwtConfigModule } from 'src/common/config/jwt.config.module';

@Module({
	imports: [TypeOrmModule.forFeature([User, RemoveToken]), JwtConfigModule],
	controllers: [AuthController],
	providers: [AuthService],
	exports: [AuthService],
})
export class AuthModule {}
</file>

<file path="src/backend/identity/src/auth/auth.service.spec.ts">
import { Test, TestingModule } from '@nestjs/testing';
import { AuthService } from './auth.service';

describe('AuthService', () => {
  let service: AuthService;

  beforeEach(async () => {
    const module: TestingModule = await Test.createTestingModule({
      providers: [AuthService],
    }).compile();

    service = module.get<AuthService>(AuthService);
  });

  it('should be defined', () => {
    expect(service).toBeDefined();
  });
});
</file>

<file path="src/backend/identity/src/auth/dtos/response/login-auth-response.dto.ts">
export default class LoginAuthResponseDto {
	userId: string;
	username: string;
	email: string;
	roles: string[];
	accessToken: string;
	refreshToken: string;
}
</file>

<file path="src/backend/identity/src/authorities/dtos/response/create-authority-response.dto.ts">
export default class CreateAuthorityResponseDto {
	name: string;
	description?: string;

	constructor({ name, description }: { name: string; description?: string }) {
		this.name = name;
		this.description = description;
	}
}
</file>

<file path="src/backend/identity/src/authorities/dtos/response/get-authority-response.dto.ts">
export default class GetAuthorityResponseDto {
	name: string;
	description?: string;
	constructor({ name, description }: { name: string; description?: string }) {
		this.name = name;
		this.description = description;
	}
}
</file>

<file path="src/backend/identity/src/roles/dtos/response/create-role-response.dto.ts">
import GetAuthorityResponseDto from 'src/authorities/dtos/response/get-authority-response.dto';

export default class CreateRoleResponseDto {
	name: string;
	description: string;
	authorities: GetAuthorityResponseDto[];
}
</file>

<file path="src/backend/identity/src/roles/dtos/response/get-role-response.dto.ts">
import GetAuthorityResponseDto from 'src/authorities/dtos/response/get-authority-response.dto';
export default class GetRoleResponseDto {
	name: string;
	description?: string;
	authorities: GetAuthorityResponseDto[];
}
</file>

<file path="src/backend/identity/src/roles/roles.controller.spec.ts">
import { Test, TestingModule } from '@nestjs/testing';
import { RolesController } from './roles.controller';

describe('RolesController', () => {
  let controller: RolesController;

  beforeEach(async () => {
    const module: TestingModule = await Test.createTestingModule({
      controllers: [RolesController],
    }).compile();

    controller = module.get<RolesController>(RolesController);
  });

  it('should be defined', () => {
    expect(controller).toBeDefined();
  });
});
</file>

<file path="src/backend/identity/src/users/dtos/request/profile/modify-profile-request.dto.ts">
import { IsOptional } from 'class-validator';

export class ModifyProfileRequestDto {
	@IsOptional()
	userId: string;

	@IsOptional()
	birthDay?: Date;

	@IsOptional()
	phoneNumber?: string;

	@IsOptional()
	address?: string;

	@IsOptional()
	restaurantName?: string;

	@IsOptional()
	businessAddress?: string;

	@IsOptional()
	contractNumber?: string;

	@IsOptional()
	contractEmail: string;

	@IsOptional()
	cardHolderName?: string;

	@IsOptional()
	accountNumber?: string;

	@IsOptional()
	expirationDate?: string;

	@IsOptional()
	cvv?: string;

	@IsOptional()
	frontImage?: string;

	@IsOptional()
	backImage?: string;
}
</file>

<file path="src/backend/identity/src/users/dtos/request/register-user-request.dto.ts">
import {
	IsArray,
	IsEmail,
	IsNotEmpty,
	IsOptional,
	IsString,
	Length,
} from 'class-validator';
import { MatchPassword } from 'src/common/decorators/decorator-function/match-password.decorator';

export default class RegisterUserRequestDto {
	@IsNotEmpty({ message: 'username should not be empty' })
	@Length(4, 20, { message: 'username must be between 4 and 20 characters' })
	username: string;

	@IsNotEmpty({ message: 'email should not be empty' })
	@IsEmail({}, { message: 'email must be a valid email address' })
	email: string;

	@IsNotEmpty({ message: 'password should not be empty' })
	@Length(8, 100, { message: 'password must be at least 8 characters long' })
	password: string;

	@IsNotEmpty({ message: 'confirmPassword should not be empty' })
	@Length(8, 100, { message: 'confirmPassword must be at least 8 characters long' })
	@MatchPassword('password', { message: 'confirmPassword do not match password' })
	confirmPassword: string;

	@IsOptional()
	@IsString()
	fullName?: string;

	@IsOptional()
	@IsArray()
	roles?: string[];
}
</file>

<file path="src/backend/identity/src/users/dtos/request/register-user-with-profile-request.dto.ts">
import { IsOptional } from 'class-validator';
import RegisterUserRequestDto from 'src/users/dtos/request/register-user-request.dto';

export default class RegisterUserWithProfileRequestDto extends RegisterUserRequestDto {
	@IsOptional()
	identityApiKey?: string;

	@IsOptional()
	userId?: string;

	@IsOptional()
	birthDay?: Date;

	@IsOptional()
	phoneNumber?: string;

	@IsOptional()
	address?: string;

	@IsOptional()
	restaurantName?: string;

	@IsOptional()
	businessAddress?: string;

	@IsOptional()
	contractNumber?: string;

	@IsOptional()
	contractEmail?: string;

	@IsOptional()
	cardHolderName?: string;

	@IsOptional()
	accountNumber?: string;

	@IsOptional()
	expirationDate?: string;

	@IsOptional()
	cvv?: string;

	@IsOptional()
	frontImage?: string;

	@IsOptional()
	backImage?: string;
}
</file>

<file path="src/backend/identity/src/users/users.controller.spec.ts">
import { Test, TestingModule } from '@nestjs/testing';
import { UsersController } from './users.controller';

describe('UsersController', () => {
  let controller: UsersController;

  beforeEach(async () => {
    const module: TestingModule = await Test.createTestingModule({
      controllers: [UsersController],
    }).compile();

    controller = module.get<UsersController>(UsersController);
  });

  it('should be defined', () => {
    expect(controller).toBeDefined();
  });
});
</file>

<file path="src/backend/identity/src/users/users.service.spec.ts">
import { Test, TestingModule } from '@nestjs/testing';
import { UsersService } from './users.service';

describe('UsersService', () => {
	let service: UsersService;

	beforeEach(async () => {
		const module: TestingModule = await Test.createTestingModule({
			providers: [UsersService],
		}).compile();

		service = module.get<UsersService>(UsersService);
	});

	it('should be defined', () => {
		expect(service).toBeDefined();
	});
});
</file>

<file path="src/backend/identity/test/app.e2e-spec.ts">
import { Test, TestingModule } from '@nestjs/testing';
import { INestApplication } from '@nestjs/common';
import * as request from 'supertest';
import { App } from 'supertest/types';
import { AppModule } from './../src/app.module';

describe('AppController (e2e)', () => {
  let app: INestApplication<App>;

  beforeEach(async () => {
    const moduleFixture: TestingModule = await Test.createTestingModule({
      imports: [AppModule],
    }).compile();

    app = moduleFixture.createNestApplication();
    await app.init();
  });

  it('/ (GET)', () => {
    return request(app.getHttpServer())
      .get('/')
      .expect(200)
      .expect('Hello World!');
  });
});
</file>

<file path="src/backend/identity/test/jest-e2e.json">
{
  "moduleFileExtensions": ["js", "json", "ts"],
  "rootDir": ".",
  "testEnvironment": "node",
  "testRegex": ".e2e-spec.ts$",
  "transform": {
    "^.+\\.(t|j)s$": "ts-jest"
  }
}
</file>

<file path="src/backend/identity/tsconfig.build.json">
{
  "extends": "./tsconfig.json",
  "exclude": ["node_modules", "test", "dist", "**/*spec.ts", "../shared"]
}
</file>

<file path="src/backend/identity/tsconfig.json">
{
  "compilerOptions": {
    "module": "nodenext",
    "moduleResolution": "nodenext",
    "resolvePackageJsonExports": true,
    "esModuleInterop": true,
    "isolatedModules": true,
    "declaration": true,
    "removeComments": true,
    "emitDecoratorMetadata": true,
    "experimentalDecorators": true,
    "allowSyntheticDefaultImports": true,
    "target": "ES2023",
    "sourceMap": true,
    "outDir": "./dist",
    "baseUrl": "./",
    "incremental": true,
    "skipLibCheck": true,
    "strictNullChecks": false,
    "forceConsistentCasingInFileNames": false,
    "noImplicitAny": false,
    "strictBindCallApply": false,
    "strictFunctionTypes": false,
    "strictPropertyInitialization": false,
    "noImplicitThis": false,
    "noFallthroughCasesInSwitch": false,
    "paths": {
      "@shared/*": ["../shared/src/*"]
    }
  }
}
</file>

<file path="src/backend/product/.env.example">
# Port
PORT=8082

# Database
HOST_DB=
PORT_DB=6543
USERNAME_DB=
PASSWORD_DB=
DATABASE_DB=

# API Keys
PRODUCT_API_KEY=
</file>

<file path="src/backend/product/nest-cli.json">
{
  "$schema": "https://json.schemastore.org/nest-cli",
  "collection": "@nestjs/schematics",
  "sourceRoot": "src",
  "entryFile": "product/src/main",
  "compilerOptions": {
    "deleteOutDir": true
  }
}
</file>

<file path="src/backend/product/package.json">
{
  "name": "product",
  "version": "0.0.1",
  "description": "",
  "author": "",
  "private": true,
  "license": "UNLICENSED",
  "scripts": {
    "build": "nest build",
    "format": "prettier --write \"src/**/*.ts\" \"test/**/*.ts\"",
    "start": "nest start",
    "start:dev": "nest start --watch",
    "start:debug": "nest start --debug --watch",
    "start:prod": "node dist/product/src/main",
    "lint": "eslint \"{src,apps,libs,test}/**/*.ts\" --fix",
    "test": "jest",
    "test:watch": "jest --watch",
    "test:cov": "jest --coverage",
    "test:debug": "node --inspect-brk -r tsconfig-paths/register -r ts-node/register node_modules/.bin/jest --runInBand",
    "test:e2e": "jest --config ./test/jest-e2e.json"
  },
  "dependencies": {
    "@nestjs/common": "^11.0.1",
    "@nestjs/config": "^4.0.2",
    "@nestjs/core": "^11.0.1",
    "@nestjs/microservices": "^11.1.9",
    "@nestjs/platform-express": "^11.0.1",
    "@nestjs/typeorm": "^11.0.0",
    "@types/winston": "^2.4.4",
    "amqplib": "^0.10.9",
    "bcrypt": "^6.0.0",
    "class-transformer": "^0.5.1",
    "class-validator": "^0.14.2",
    "dotenv": "^17.2.3",
    "express": "^5.1.0",
    "nest-winston": "^1.10.2",
    "pg": "^8.16.3",
    "reflect-metadata": "^0.2.2",
    "rxjs": "^7.8.1",
    "typeorm": "^0.3.27",
    "winston": "^3.18.3",
    "winston-daily-rotate-file": "^5.0.0"
  },
  "devDependencies": {
    "@eslint/eslintrc": "^3.2.0",
    "@eslint/js": "^9.18.0",
    "@nestjs/cli": "^11.0.0",
    "@nestjs/schematics": "^11.0.0",
    "@nestjs/testing": "^11.0.1",
    "@types/express": "^5.0.0",
    "@types/jest": "^30.0.0",
    "@types/node": "^22.10.7",
    "@types/supertest": "^6.0.2",
    "eslint": "^9.18.0",
    "eslint-config-prettier": "^10.0.1",
    "eslint-plugin-prettier": "^5.2.2",
    "globals": "^16.0.0",
    "jest": "^30.0.0",
    "prettier": "^3.4.2",
    "source-map-support": "^0.5.21",
    "supertest": "^7.0.0",
    "ts-jest": "^29.2.5",
    "ts-loader": "^9.5.2",
    "ts-node": "^10.9.2",
    "tsconfig-paths": "^4.2.0",
    "typescript": "^5.7.3",
    "typescript-eslint": "^8.20.0"
  },
  "jest": {
    "moduleFileExtensions": [
      "js",
      "json",
      "ts"
    ],
    "rootDir": "src",
    "testRegex": ".*\\.spec\\.ts$",
    "transform": {
      "^.+\\.(t|j)s$": "ts-jest"
    },
    "collectCoverageFrom": [
      "**/*.(t|j)s"
    ],
    "coverageDirectory": "../coverage",
    "testEnvironment": "node"
  }
}
</file>

<file path="src/backend/product/src/app.module.ts">
import { Module } from '@nestjs/common';
import { ConfigModule, ConfigService } from '@nestjs/config';
import { TypeOrmModule } from '@nestjs/typeorm';
import { AppController } from './app.controller';
import { AppService } from './app.service';
import { CategoryModule } from './category/category.module';
import { ItemModule } from './item/item.module';
import { PublicModule } from './public/public.module';
import { MenuCategory, MenuItem, ModifierOption } from './common/entities';

@Module({
	imports: [
		ConfigModule.forRoot({
			isGlobal: true,
			envFilePath: '.env',
		}),
		TypeOrmModule.forRootAsync({
			imports: [ConfigModule],
			useFactory: (configService: ConfigService) => ({
				type: 'postgres',
				host: configService.get('HOST_DB'),
				port: +configService.get('PORT_DB'),
				username: configService.get('USERNAME_DB'),
				password: configService.get('PASSWORD_DB'),
				database: configService.get('DATABASE_DB'),
				entities: [MenuCategory, MenuItem, ModifierOption],
				synchronize: true,
				logging: false,
			}),
			inject: [ConfigService],
		}),
		CategoryModule,
		ItemModule,
		PublicModule,
	],
	controllers: [AppController],
	providers: [AppService],
})
export class AppModule {}
</file>

<file path="src/backend/product/src/main.ts">
import { NestFactory } from '@nestjs/core';
import { AppModule } from './app.module';
import { MicroserviceOptions, Transport } from '@nestjs/microservices';
import { ConfigService } from '@nestjs/config';
import { ValidationPipe } from '@nestjs/common';
import { CatchAppExceptionFilter, GlobalExceptionFilter } from './common/filters';

async function bootstrap() {
	const app = await NestFactory.create(AppModule);
	const configService = app.get(ConfigService);

	const port = configService.get<number>('PORT') || 8082;

	// Configure microservice with TCP transport
	app.connectMicroservice<MicroserviceOptions>({
		transport: Transport.TCP,
		options: {
			port: port,
		},
	});

	// Global pipes and filters
	app.useGlobalPipes(
		new ValidationPipe({
			whitelist: true,
			forbidNonWhitelisted: false,
			transform: true,
		}),
	);

	app.useGlobalFilters(new GlobalExceptionFilter(), new CatchAppExceptionFilter());

	await app.startAllMicroservices();
	console.log(` Product Service is running on TCP port ${port}`);

	process.on('SIGINT', () => {
		console.log('SIGINT received. Shutting down gracefully...');
		app.close().then(() => process.exit(0));
	});
	process.on('SIGTERM', () => {
		console.log('SIGTERM received. Shutting down gracefully...');
		app.close().then(() => process.exit(0));
	});
}
bootstrap()
	.then(() => {
		console.log(`Microservice is running on port ${process.env.PORT}`);
	})
	.catch((err) => {
		console.error('Error starting the microservice', err);
	});
</file>

<file path="src/backend/product/tsconfig.build.json">
{
  "extends": "./tsconfig.json",
  "exclude": ["node_modules", "test", "dist", "**/*spec.ts", "../shared"]
}
</file>

<file path="src/backend/product/tsconfig.json">
{
  "compilerOptions": {
    "module": "nodenext",
    "moduleResolution": "nodenext",
    "resolvePackageJsonExports": true,
    "esModuleInterop": true,
    "isolatedModules": true,
    "declaration": true,
    "removeComments": true,
    "emitDecoratorMetadata": true,
    "experimentalDecorators": true,
    "allowSyntheticDefaultImports": true,
    "target": "ES2023",
    "sourceMap": true,
    "outDir": "./dist",
    "baseUrl": "./",
    "incremental": true,
    "skipLibCheck": true,
    "strictNullChecks": false,
    "forceConsistentCasingInFileNames": false,
    "noImplicitAny": false,
    "strictBindCallApply": false,
    "strictFunctionTypes": false,
    "strictPropertyInitialization": false,
    "noImplicitThis": false,
    "noFallthroughCasesInSwitch": false,
    "paths": {
      "@shared/*": ["../shared/src/*"]
    }
  }
}
</file>

<file path="src/backend/profile/.env.example">
PORT=8081

HOST_DB=
PORT_DB=
USERNAME_DB=
PASSWORD_DB=
DATABASE_DB=

X_API_KEY=
PROFILE_API_KEY=
</file>

<file path="src/backend/profile/.gitignore">
# compiled output
/dist
/node_modules
/build

# Logs
logs
*.log
npm-debug.log*
pnpm-debug.log*
yarn-debug.log*
yarn-error.log*
lerna-debug.log*

# OS
.DS_Store

# Tests
/coverage
/.nyc_output

# IDEs and editors
/.idea
.project
.classpath
.c9/
*.launch
.settings/
*.sublime-workspace

# IDE - VSCode
.vscode/*
!.vscode/settings.json
!.vscode/tasks.json
!.vscode/launch.json
!.vscode/extensions.json

# dotenv environment variable files
.env
.env.development.local
.env.test.local
.env.production.local
.env.local

# temp directory
.temp
.tmp

# Runtime data
pids
*.pid
*.seed
*.pid.lock

# Diagnostic reports (https://nodejs.org/api/report.html)
report.[0-9]*.[0-9]*.[0-9]*.[0-9]*.json
</file>

<file path="src/backend/profile/.prettierrc">
{
  "arrowParens": "always",
  "bracketSameLine": false,
  "objectWrap": "preserve",
  "bracketSpacing": true,
  "semi": true,
  "experimentalOperatorPosition": "end",
  "experimentalTernaries": false,
  "singleQuote": true,
  "jsxSingleQuote": false,
  "quoteProps": "as-needed",
  "trailingComma": "all",
  "singleAttributePerLine": false,
  "htmlWhitespaceSensitivity": "css",
  "vueIndentScriptAndStyle": false,
  "proseWrap": "preserve",
  "insertPragma": false,
  "printWidth": 90,
  "requirePragma": false,
  "tabWidth": 2,
  "useTabs": true,
  "embeddedLanguageFormatting": "auto"
}
</file>

<file path="src/backend/profile/eslint.config.mjs">
// @ts-check
import eslint from '@eslint/js';
import eslintPluginPrettierRecommended from 'eslint-plugin-prettier/recommended';
import globals from 'globals';
import tseslint from 'typescript-eslint';

export default tseslint.config(
	{
		ignores: ['eslint.config.mjs'],
	},
	eslint.configs.recommended,
	...tseslint.configs.recommendedTypeChecked,
	eslintPluginPrettierRecommended,
	{
		languageOptions: {
			globals: {
				...globals.node,
				...globals.jest,
			},
			sourceType: 'commonjs',
			parserOptions: {
				projectService: true,
				tsconfigRootDir: import.meta.dirname,
			},
		},
	},
	{
		rules: {
			'@typescript-eslint/no-explicit-any': 'off',
			'@typescript-eslint/no-floating-promises': 'off',
			'@typescript-eslint/no-unsafe-argument': 'off',
			'@typescript-eslint/no-unsafe-assignment': 'off',
			'@typescript-eslint/no-unsafe-member-access': 'off',
			'@typescript-eslint/no-unsafe-call': 'off',
			'@typescript-eslint/no-unsafe-return': 'off',
		},
	},
);
</file>

<file path="src/backend/profile/src/app.controller.spec.ts">
import { Test, TestingModule } from '@nestjs/testing';
import { AppController } from './app.controller';
import { AppService } from './app.service';

describe('AppController', () => {
	let appController: AppController;

	beforeEach(async () => {
		const app: TestingModule = await Test.createTestingModule({
			controllers: [AppController],
			providers: [AppService],
		}).compile();

		appController = app.get<AppController>(AppController);
	});

	describe('root', () => {
		it('should return "Hello World!"', () => {
			expect(appController.getHello()).toBe('Hello World!');
		});
	});
});
</file>

<file path="src/backend/profile/src/app.controller.ts">
import { Controller, Get } from '@nestjs/common';
import { AppService } from './app.service';

@Controller()
export class AppController {
	constructor(private readonly appService: AppService) {}

	@Get()
	getHello(): string {
		return this.appService.getHello();
	}
}
</file>

<file path="src/backend/profile/src/app.service.ts">
import { Injectable } from '@nestjs/common';

@Injectable()
export class AppService {
	getHello(): string {
		return 'Hello World!';
	}
}
</file>

<file path="src/backend/profile/src/common/entities/index.ts">
// Export Profile entity
export { default as Profile } from './profile';
</file>

<file path="src/backend/profile/src/detail/detail.controller.spec.ts">
import { Test, TestingModule } from '@nestjs/testing';
import { DetailController } from './detail.controller';

describe('DetailController', () => {
  let controller: DetailController;

  beforeEach(async () => {
    const module: TestingModule = await Test.createTestingModule({
      controllers: [DetailController],
    }).compile();

    controller = module.get<DetailController>(DetailController);
  });

  it('should be defined', () => {
    expect(controller).toBeDefined();
  });
});
</file>

<file path="src/backend/profile/src/detail/detail.service.spec.ts">
import { Test, TestingModule } from '@nestjs/testing';
import { DetailService } from './detail.service';

describe('DetailService', () => {
  let service: DetailService;

  beforeEach(async () => {
    const module: TestingModule = await Test.createTestingModule({
      providers: [DetailService],
    }).compile();

    service = module.get<DetailService>(DetailService);
  });

  it('should be defined', () => {
    expect(service).toBeDefined();
  });
});
</file>

<file path="src/backend/profile/src/detail/dtos/response/get-profile-response.dto.ts">
export default class GetProfileResponseDto {
	userId: string;
	birthDay?: Date;
	phoneNumber?: string;
	address?: string;
	restaurantName?: string;
	businessAddress?: string;
	contractNumber?: string;
	contractEmail?: string;
	cardHolderName?: string;
	accountNumber?: string;
	expirationDate?: string;
	cvv?: string;
	frontImage?: string;
	backImage?: string;
	createdAt: Date;
	updatedAt: Date;
	verified: boolean;
}
</file>

<file path="src/backend/profile/test/app.e2e-spec.ts">
import { Test, TestingModule } from '@nestjs/testing';
import { INestApplication } from '@nestjs/common';
import * as request from 'supertest';
import { App } from 'supertest/types';
import { AppModule } from './../src/app.module';

describe('AppController (e2e)', () => {
  let app: INestApplication<App>;

  beforeEach(async () => {
    const moduleFixture: TestingModule = await Test.createTestingModule({
      imports: [AppModule],
    }).compile();

    app = moduleFixture.createNestApplication();
    await app.init();
  });

  it('/ (GET)', () => {
    return request(app.getHttpServer())
      .get('/')
      .expect(200)
      .expect('Hello World!');
  });
});
</file>

<file path="src/backend/profile/test/jest-e2e.json">
{
  "moduleFileExtensions": ["js", "json", "ts"],
  "rootDir": ".",
  "testEnvironment": "node",
  "testRegex": ".e2e-spec.ts$",
  "transform": {
    "^.+\\.(t|j)s$": "ts-jest"
  }
}
</file>

<file path="src/backend/profile/tsconfig.build.json">
{
  "extends": "./tsconfig.json",
  "exclude": ["node_modules", "test", "dist", "**/*spec.ts"]
}
</file>

<file path="src/backend/profile/tsconfig.json">
{
  "compilerOptions": {
    "module": "nodenext",
    "moduleResolution": "nodenext",
    "resolvePackageJsonExports": true,
    "esModuleInterop": true,
    "isolatedModules": true,
    "declaration": true,
    "removeComments": true,
    "emitDecoratorMetadata": true,
    "experimentalDecorators": true,
    "allowSyntheticDefaultImports": true,
    "target": "ES2023",
    "sourceMap": true,
    "outDir": "./dist",
    "baseUrl": "./",
    "incremental": true,
    "skipLibCheck": true,
    "strictNullChecks": false,
    "forceConsistentCasingInFileNames": false,
    "noImplicitAny": false,
    "strictBindCallApply": false,
    "strictFunctionTypes": false,
    "strictPropertyInitialization": false,
    "noImplicitThis": false,
    "noFallthroughCasesInSwitch": false,
    "paths": {
      "@shared/*": ["../shared/src/*"]
    }
  }
}
</file>

<file path="src/backend/shared/src/exceptions/error-code.ts">
/**
 * Centralized Error Code Registry for Smart Restaurant
 *
 * Error Code Ranges:
 * - 1001-1999: Authentication & Authorization
 * - 2000-2999: User & Profile Management
 * - 3000-3999: Product & Menu
 * - 4000-4999: Order & Table Management
 * - 5000-5999: Payment
 * - 6000-6999: Notification
 * - 9000-9999: System & Infrastructure
 */
export default class ErrorCode {
  // code 1000 is successful api

  // ==================== AUTHENTICATION & AUTHORIZATION (1001-1999) ====================

  /** Invalid credentials provided during login */
  static readonly LOGIN_FAILED: ErrorCode = new ErrorCode(
    1001,
    "Username or password is incorrect",
    401
  );

  /** Access token or refresh token has expired */
  static readonly TOKEN_EXPIRED: ErrorCode = new ErrorCode(
    1002,
    "Token has expired",
    401
  );

  /** Token has been blacklisted (usually after logout) */
  static readonly TOKEN_ALREADY_REMOVED: ErrorCode = new ErrorCode(
    1003,
    "Token has already been removed",
    400
  );

  /** User is not authenticated */
  static readonly UNAUTHORIZED: ErrorCode = new ErrorCode(
    1004,
    "Unauthorized access",
    401
  );

  /** User lacks required permissions for the action */
  static readonly FORBIDDEN: ErrorCode = new ErrorCode(
    1005,
    "Forbidden - Insufficient permissions",
    403
  );

  // ==================== USER & PROFILE (2000-2999) ====================

  /** User not found in database */
  static readonly USER_NOT_FOUND: ErrorCode = new ErrorCode(
    2001,
    "User not found",
    404
  );

  /** Attempting to create user with existing username/email */
  static readonly USER_ALREADY_EXISTS: ErrorCode = new ErrorCode(
    2002,
    "User with given username or email already exists",
    409
  );

  /** User profile not found */
  static readonly PROFILE_NOT_FOUND: ErrorCode = new ErrorCode(
    2003,
    "Profile not found",
    404
  );

  /** Error communicating with profile service */
  static readonly PROFILE_SERVICE_ERROR: ErrorCode = new ErrorCode(
    2004,
    "Profile service error",
    500
  );

  // ==================== ROLE & AUTHORITY (2100-2199) ====================

  /** Role not found in system */
  static readonly ROLE_NOT_FOUND: ErrorCode = new ErrorCode(
    2101,
    "Role not found",
    404
  );

  /** Failed to create new role */
  static readonly ROLE_CREATION_FAILED: ErrorCode = new ErrorCode(
    2102,
    "Role creation failed",
    500
  );

  /** Authority/Permission not found */
  static readonly AUTHORITY_NOT_FOUND: ErrorCode = new ErrorCode(
    2103,
    "Authority not found",
    404
  );

  /** Failed to create new authority */
  static readonly AUTHORITY_CREATION_FAILED: ErrorCode = new ErrorCode(
    2104,
    "Authority creation failed",
    500
  );

  // ==================== VALIDATION (2900-2999) ====================

  /** General validation error for request data */
  static readonly VALIDATION_FAILED: ErrorCode = new ErrorCode(
    2901,
    "Validation failed",
    400
  );

  // ==================== PRODUCT & MENU (3000-3999) ====================

  /** Menu category not found */
  static readonly CATEGORY_NOT_FOUND: ErrorCode = new ErrorCode(
    3001,
    "Category not found",
    404
  );

  /** Menu item not found */
  static readonly ITEM_NOT_FOUND: ErrorCode = new ErrorCode(
    3002,
    "Menu item not found",
    404
  );

  /** Modifier not found */
  static readonly MODIFIER_NOT_FOUND: ErrorCode = new ErrorCode(
    3003,
    "Modifier not found",
    404
  );

  /** Deprecated: Use VALIDATION_FAILED instead */
  static readonly ERROR_VALIDATION: ErrorCode = new ErrorCode(
    2902,
    "Validation error",
    400
  );

  /** Invalid time/date format provided */
  static readonly INVALID_TIME_FORMAT: ErrorCode = new ErrorCode(
    2903,
    "Invalid time format",
    400
  );

  // ==================== PRODUCT & MENU (3000-3999) ====================
  // Reserved for product service

  // ==================== ORDER & TABLE (4000-4999) ====================
  // Reserved for order and table services

  // ==================== PAYMENT (5000-5999) ====================
  // Reserved for payment service

  // ==================== NOTIFICATION (6000-6999) ====================
  // Reserved for notification service

  // ==================== SYSTEM & INFRASTRUCTURE (9000-9999) ====================

  /** Unexpected server error */
  static readonly INTERNAL_SERVER_ERROR: ErrorCode = new ErrorCode(
    9001,
    "Internal server error",
    500
  );

  /** Service unavailable or degraded */
  static readonly SERVICE_UNAVAILABLE: ErrorCode = new ErrorCode(
    9002,
    "Service temporarily unavailable",
    503
  );

  /** Database connection or query error */
  static readonly DATABASE_ERROR: ErrorCode = new ErrorCode(
    9003,
    "Database error occurred",
    500
  );

  // ==================== CONSTRUCTOR ====================

  constructor(
    public readonly code: number,
    public readonly message: string,
    public readonly httpStatus?: number
  ) {
    this.code = code;
    this.message = message;
    this.httpStatus = httpStatus;
  }
}
</file>

<file path="src/frontend/.gitignore">
# Logs
logs
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
pnpm-debug.log*
lerna-debug.log*

node_modules
dist
dist-ssr
*.local

# Editor directories and files
.vscode/*
!.vscode/extensions.json
.idea
.DS_Store
*.suo
*.ntvs*
*.njsproj
*.sln
*.sw?
</file>

<file path="src/frontend/.prettierrc">
{
    "arrowParens": "always",
    "bracketSameLine": false,
    "objectWrap": "preserve",
    "bracketSpacing": true,
    "semi": false,
    "experimentalOperatorPosition": "end",
    "experimentalTernaries": false,
    "singleQuote": true,
    "jsxSingleQuote": false,
    "quoteProps": "as-needed",
    "trailingComma": "all",
    "singleAttributePerLine": false,
    "htmlWhitespaceSensitivity": "css",
    "vueIndentScriptAndStyle": false,
    "proseWrap": "preserve",
    "insertPragma": false,
    "requirePragma": false,
    "tabWidth": 2,
    "useTabs": true,
    "embeddedLanguageFormatting": "auto",
    "printWidth": 90
}
</file>

<file path="src/frontend/eslint.config.js">
import js from '@eslint/js'
import globals from 'globals'
import reactHooks from 'eslint-plugin-react-hooks'
import reactRefresh from 'eslint-plugin-react-refresh'
import { defineConfig, globalIgnores } from 'eslint/config'

export default defineConfig([
  globalIgnores(['dist']),
  {
    files: ['**/*.{js,jsx}'],
    extends: [
      js.configs.recommended,
      reactHooks.configs.flat.recommended,
      reactRefresh.configs.vite,
    ],
    languageOptions: {
      ecmaVersion: 2020,
      globals: globals.browser,
      parserOptions: {
        ecmaVersion: 'latest',
        ecmaFeatures: { jsx: true },
        sourceType: 'module',
      },
    },
    rules: {
      'no-unused-vars': ['error', { varsIgnorePattern: '^[A-Z_]' }],
    },
  },
])
</file>

<file path="src/frontend/index.html">
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>frontend</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
</file>

<file path="src/frontend/package.json">
{
  "name": "frontend",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "lint": "eslint .",
    "preview": "vite preview"
  },
  "dependencies": {
    "@tailwindcss/vite": "^4.1.17",
    "react": "^19.2.0",
    "react-dom": "^19.2.0",
    "tailwindcss": "^4.1.17"
  },
  "devDependencies": {
    "@eslint/js": "^9.39.1",
    "@types/react": "^19.2.5",
    "@types/react-dom": "^19.2.3",
    "@vitejs/plugin-react": "^5.1.1",
    "eslint": "^9.39.1",
    "eslint-plugin-react-hooks": "^7.0.1",
    "eslint-plugin-react-refresh": "^0.4.24",
    "globals": "^16.5.0",
    "vite": "npm:rolldown-vite@7.2.5"
  },
  "overrides": {
    "vite": "npm:rolldown-vite@7.2.5"
  }
}
</file>

<file path="src/frontend/src/App.jsx">
import { useState } from 'react'
import reactLogo from './assets/react.svg'
import viteLogo from '/vite.svg'
import './App.css'

function App() {
  const [count, setCount] = useState(0)

  return (
    <>
      <div>
        <a href="https://vite.dev" target="_blank">
          <img src={viteLogo} className="logo" alt="Vite logo" />
        </a>
        <a href="https://react.dev" target="_blank">
          <img src={reactLogo} className="logo react" alt="React logo" />
        </a>
      </div>
      <h1>Vite + React</h1>
      <div className="card">
        <button onClick={() => setCount((count) => count + 1)}>
          count is {count}
        </button>
        <p>
          Edit <code>src/App.jsx</code> and save to test HMR
        </p>
      </div>
      <p className="read-the-docs">
        Click on the Vite and React logos to learn more
      </p>
    </>
  )
}

export default App
</file>

<file path="src/frontend/src/main.jsx">
import { StrictMode } from 'react'
import { createRoot } from 'react-dom/client'
import './index.css'
import App from './App.jsx'

createRoot(document.getElementById('root')).render(
  <StrictMode>
    <App />
  </StrictMode>,
)
</file>

<file path="src/frontend/vite.config.js">
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
import tailwindcss from '@tailwindcss/vite'
// https://vite.dev/config/
export default defineConfig({
	plugins: [react(), tailwindcss()],
})
</file>

<file path=".gitignore">
# Dependencies
node_modules/
**/node_modules/

# Build outputs
dist/
build/
out/
*.tsbuildinfo

# Environment variables
.env
.env.local
.env.*.local
.env.development
.env.production

# IDE
.vscode/
.idea/
*.swp
*.swo

# Logs
logs/
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
pnpm-debug.log*

# Testing
coverage/
.cache/

# Next.js
.next/

# OS
.DS_Store
thumbs.db
desktop.ini

*.md
!README.md
</file>

<file path="src/backend/api-gateway/src/services/profile/profile.controller.ts">
import { HttpResponse } from '@shared/utils';
import { firstValueFrom } from 'rxjs';
import {
	Body,
	Controller,
	Get,
	Inject,
	Param,
	Patch,
	Req,
	UseGuards,
} from '@nestjs/common';
import { ConfigService } from '@nestjs/config';
import { ClientProxy } from '@nestjs/microservices';
import type { Request } from 'express';
import AppException from '@shared/exceptions/app-exception';
import ErrorCode from '@shared/exceptions/error-code';
import Role from 'src/common/guards/check-role/check-role.guard';
import { AuthGuard } from 'src/common/guards/get-role/auth.guard';

@Controller('profiles')
export class ProfileController {
	constructor(
		@Inject('PROFILE_SERVICE') private readonly profileClient: ClientProxy,
		private readonly configService: ConfigService,
	) {}

	@UseGuards(AuthGuard)
	@Get('my-profile')
	getMyProfile(@Req() req: Request) {
		const userId = (req as any).user?.userId;
		if (!userId) {
			throw new AppException(ErrorCode.UNAUTHORIZED);
		}
		return this.profileClient.send('profiles:get-profile', {
			userId,
			profileApiKey: this.configService.get('PROFILE_API_KEY'),
		});
	}

	@UseGuards(AuthGuard)
	@Patch('modify')
	modifyProfile(@Body() data: any, @Req() req: Request) {
		const userId = (req as any).user?.userId;
		if (!userId) {
			throw new AppException(ErrorCode.UNAUTHORIZED);
		}
		return this.profileClient.send('profiles:modify-profile', {
			...data,
			userId,
			profileApiKey: this.configService.get('PROFILE_API_KEY'),
		});
	}

	@UseGuards(AuthGuard)
	@Get('/verify-state')
	async getVerifiedState(@Req() req: Request) {
		const userId = (req as any).user?.userId;
		if (!userId) {
			throw new AppException(ErrorCode.UNAUTHORIZED);
		}
		const res = await firstValueFrom(
			this.profileClient.send('profiles:get-verified-state', {
				userId,
				profileApiKey: this.configService.get('PROFILE_API_KEY'),
			}),
		);

		return new HttpResponse(100, 'Get verified state successful', {
			verified: res,
		});
	}

	@UseGuards(AuthGuard, Role('ADMIN'))
	@Get(':userId')
	getProfile(@Param('userId') userId: string) {
		return this.profileClient.send('profiles:get-profile', {
			userId,
			profileApiKey: this.configService.get('PROFILE_API_KEY'),
		});
	}
}
</file>

<file path="src/backend/api-gateway/tsconfig.json">
{
  "compilerOptions": {
    "module": "nodenext",
    "moduleResolution": "nodenext",
    "resolvePackageJsonExports": true,
    "esModuleInterop": true,
    "isolatedModules": true,
    "declaration": true,
    "removeComments": true,
    "emitDecoratorMetadata": true,
    "experimentalDecorators": true,
    "allowSyntheticDefaultImports": true,
    "target": "ES2023",
    "sourceMap": true,
    "outDir": "./dist",
    "baseUrl": "./",
    "incremental": true,
    "skipLibCheck": true,
    "strictNullChecks": false,
    "forceConsistentCasingInFileNames": false,
    "noImplicitAny": false,
    "strictBindCallApply": false,
    "strictFunctionTypes": false,
    "strictPropertyInitialization": false,
    "noImplicitThis": false,
    "noFallthroughCasesInSwitch": false,
    "typeRoots": ["./node_modules/@types", "./src/common/types"],
    "paths": {
      "@shared/*": ["../shared/src/*"]
    }
  }
}
</file>

<file path="src/backend/identity/.gitignore">
# compiled output
/dist
/node_modules
/build

# Logs
#logs
#*.log
npm-debug.log*
pnpm-debug.log*
yarn-debug.log*
yarn-error.log*
lerna-debug.log*

# OS
.DS_Store

# Tests
/coverage
/.nyc_output

# IDEs and editors
/.idea
.project
.classpath
.c9/
*.launch
.settings/
*.sublime-workspace

# IDE - VSCode
.vscode/*
!.vscode/settings.json
!.vscode/tasks.json
!.vscode/launch.json
!.vscode/extensions.json

# dotenv environment variable files
.env
.env.development.local
.env.test.local
.env.production.local
.env.local

# temp directory
.temp
.tmp

# Runtime data
pids
*.pid
*.seed
*.pid.lock

# Diagnostic reports (https://nodejs.org/api/report.html)
report.[0-9]*.[0-9]*.[0-9]*.[0-9]*.json
</file>

<file path="src/backend/identity/src/auth/auth.controller.ts">
import { LogoutAuthRequestDto } from './dtos/request/logout-auth.request.dto';
import { Controller } from '@nestjs/common';
import { MessagePattern } from '@nestjs/microservices';
import { AuthService } from 'src/auth/auth.service';
import LoginAuthRequestDto from 'src/auth/dtos/request/login-auth-request.dto';
import HttpResponse from '@shared/utils/http-response';
import { ConfigService } from '@nestjs/config';
import AppException from '@shared/exceptions/app-exception';
import ErrorCode from '@shared/exceptions/error-code';
import { AuthMeRequestDto } from 'src/auth/dtos/request/auth-me-request.dto';
import { ValidateTokenRequestDto } from 'src/auth/dtos/request/validate-token-request.dto';

@Controller()
export class AuthController {
	constructor(
		private readonly authService: AuthService,
		private readonly config: ConfigService,
	) {}

	@MessagePattern('auth:login')
	async login(data: LoginAuthRequestDto) {
		const expectedApiKey = this.config.get<string>('IDENTITY_API_KEY');
		if (data.identityApiKey !== expectedApiKey) {
			throw new AppException(ErrorCode.UNAUTHORIZED);
		}
		const result = await this.authService.login(data);

		return new HttpResponse(200, 'Login successful', result);
	}

	@MessagePattern('auth:validate-token')
	async validateToken(data: ValidateTokenRequestDto) {
		const expectedApiKey = this.config.get<string>('IDENTITY_API_KEY');
		if (data.identityApiKey !== expectedApiKey) {
			throw new AppException(ErrorCode.UNAUTHORIZED);
		}

		const result = await this.authService.validateToken(data);

		if (!result.valid) {
			return new HttpResponse(401, 'Token invalid', null);
		}

		return new HttpResponse(200, 'Token valid', result);
	}

	@MessagePattern('auth:refresh-token')
	async refreshToken(data: { refreshToken: string; identityApiKey?: string }) {
		const expectedApiKey = this.config.get<string>('IDENTITY_API_KEY');
		if (data.identityApiKey !== expectedApiKey) {
			throw new AppException(ErrorCode.UNAUTHORIZED);
		}

		try {
			const result = await this.authService.getUserFromRefreshToken(data.refreshToken);
			return new HttpResponse(200, 'Token refreshed', result);
		} catch (error) {
			console.error('Error refreshing token:', error);
			return new HttpResponse(401, 'Invalid refresh token', null);
		}
	}

	@MessagePattern('auth:me')
	async me(data: AuthMeRequestDto) {
		const expectedApiKey = this.config.get<string>('IDENTITY_API_KEY');
		if (data.identityApiKey !== expectedApiKey) {
			throw new AppException(ErrorCode.UNAUTHORIZED);
		}
		const result = await this.authService.me(data.userId);
		if (result === null) {
			return new HttpResponse(404, 'User not found', null);
		}
		return new HttpResponse(200, 'User fetched successfully', result);
	}

	@MessagePattern('auth:logout')
	async logout(data: LogoutAuthRequestDto) {
		if (data.identityApiKey) {
			const expectedApiKey = this.config.get<string>('IDENTITY_API_KEY');
			if (data.identityApiKey !== expectedApiKey) {
				throw new AppException(ErrorCode.UNAUTHORIZED);
			}
		}
		await this.authService.logout(data);
		return new HttpResponse(200, 'Logout successful', null);
	}
}
</file>

<file path="src/backend/identity/src/auth/auth.service.ts">
import { User } from 'src/common/entities/user';
import { Injectable } from '@nestjs/common';
import { InjectRepository } from '@nestjs/typeorm';
import { Repository } from 'typeorm';
import LoginAuthRequestDto from 'src/auth/dtos/request/login-auth-request.dto';
import LoginAuthResponseDto from 'src/auth/dtos/response/login-auth-response.dto';
import AppException from '@shared/exceptions/app-exception';
import { ErrorCode } from '@shared/exceptions';
import * as bcrypt from 'bcrypt';
import { RoleEnum } from '@shared/utils/enum';
import { GetUserResponseDto } from 'src/users/dtos/response/get-user-response.dto';
import { LogoutAuthRequestDto } from 'src/auth/dtos/request/logout-auth.request.dto';
import { RemoveToken } from 'src/common/entities/remove-token';
import { JwtService } from '@nestjs/jwt';
import { ConfigService } from '@nestjs/config';
import { ValidateTokenRequestDto } from 'src/auth/dtos/request/validate-token-request.dto';
import { ValidateTokenResponseDto } from 'src/auth/dtos/response/validate-token-response.dto';
import { RefreshTokenResponseDto } from 'src/auth/dtos/response/refresh-token-response.dto';
import { JwtPayload } from '@shared/types';

@Injectable()
export class AuthService {
	constructor(
		@InjectRepository(User) private readonly userRepository: Repository<User>,
		@InjectRepository(RemoveToken)
		private readonly removeTokenRepository: Repository<RemoveToken>,
		private readonly jwtService: JwtService,
		private readonly configService: ConfigService,
	) {}
	private readonly ACCESS_TOKEN_EXPIRY = process.env.ACCESS_TOKEN_EXPIRY || '5m'; // 15 pht
	private readonly REFRESH_TOKEN_EXPIRY = process.env.REFRESH_TOKEN_EXPIRY || '7d'; // 7 ngy

	async login(data: LoginAuthRequestDto): Promise<LoginAuthResponseDto> {
		const user = await this.userRepository.findOne({
			where: { username: data.username },
			relations: ['roles'],
		});

		if (!user) {
			throw new AppException(ErrorCode.LOGIN_FAILED);
		}

		const isPasswordValid = await bcrypt.compare(data.password, user.password);
		if (!isPasswordValid) {
			throw new AppException(ErrorCode.LOGIN_FAILED);
		}

		const roles = user.roles.map((role) => RoleEnum[role.name]);

		const accessToken = this.generateAccessToken({
			userId: user.userId,
			username: user.username,
			email: user.email,
			roles,
		});

		const refreshToken = this.generateRefreshToken({
			userId: user.userId,
			username: user.username,
			email: user.email,
			roles,
		});

		const response = new LoginAuthResponseDto();
		response.userId = user.userId;
		response.username = user.username;
		response.email = user.email;
		response.roles = roles;
		response.accessToken = accessToken;
		response.refreshToken = refreshToken;

		return response;
	}

	private generateAccessToken(payload: Omit<JwtPayload, 'type'>): string {
		const jwtPayload: JwtPayload = {
			...payload,
			type: 'access',
		};

		return this.jwtService.sign(jwtPayload, {
			secret: this.configService.get<string>('JWT_SECRET_KEY_ACCESS'),
			expiresIn: this.ACCESS_TOKEN_EXPIRY as any,
		});
	}

	generateRefreshToken(payload: Omit<JwtPayload, 'type'>): string {
		const jwtPayload: JwtPayload = {
			...payload,
			type: 'refresh',
		};

		return this.jwtService.sign(jwtPayload, {
			secret: this.configService.get<string>('JWT_SECRET_KEY_REFRESH'),
			expiresIn: this.REFRESH_TOKEN_EXPIRY as any,
		}) as string;
	}

	async validateToken(data: ValidateTokenRequestDto): Promise<ValidateTokenResponseDto> {
		const response = new ValidateTokenResponseDto();

		try {
			const isBlacklisted = await this.isTokenBlacklisted(data.accessToken);
			if (isBlacklisted) {
				response.valid = false;
				return response;
			}

			const decoded = await this.verifyAccessToken(data.accessToken);

			if (decoded.type !== 'access') {
				response.valid = false;
				return response;
			}

			response.valid = true;
			response.user = {
				userId: decoded.userId,
				username: decoded.username,
				email: decoded.email,
				roles: decoded.roles,
			};

			return response;
		} catch (error) {
			if (error.name === 'TokenExpiredError' || data.refreshToken) {
				return await this.refreshAccessToken(data.refreshToken);
			}

			response.valid = false;
			return response;
		}
	}

	async refreshAccessToken(refreshToken: string): Promise<ValidateTokenResponseDto> {
		const response = new ValidateTokenResponseDto();

		try {
			const isBlacklisted = await this.isTokenBlacklisted(refreshToken);
			if (isBlacklisted) {
				response.valid = false;
				return response;
			}

			const decoded = await this.verifyRefreshToken(refreshToken);

			if (decoded.type !== 'refresh') {
				response.valid = false;
				return response;
			}

			const newAccessToken = this.generateAccessToken({
				userId: decoded.userId,
				username: decoded.username,
				email: decoded.email,
				roles: decoded.roles,
			});

			response.valid = true;
			response.user = {
				userId: decoded.userId,
				username: decoded.username,
				email: decoded.email,
				roles: decoded.roles,
			};
			response.newAccessToken = newAccessToken;

			return response;
		} catch {
			response.valid = false;
			return response;
		}
	}

	async getUserFromRefreshToken(refreshToken: string): Promise<RefreshTokenResponseDto> {
		try {
			const isBlacklisted = await this.isTokenBlacklisted(refreshToken);
			if (isBlacklisted) {
				throw new AppException(ErrorCode.TOKEN_EXPIRED);
			}

			const decoded = await this.verifyRefreshToken(refreshToken);

			if (decoded.type !== 'refresh') {
				throw new AppException(ErrorCode.UNAUTHORIZED);
			}

			const newAccessToken = this.generateAccessToken({
				userId: decoded.userId,
				username: decoded.username,
				email: decoded.email,
				roles: decoded.roles,
			});

			return new RefreshTokenResponseDto({
				userId: decoded.userId,
				username: decoded.username,
				email: decoded.email,
				accessToken: newAccessToken,
			});
		} catch {
			throw new AppException(ErrorCode.TOKEN_EXPIRED);
		}
	}

	private async verifyAccessToken(token: string): Promise<JwtPayload> {
		return await this.jwtService.verifyAsync<JwtPayload>(token, {
			secret: this.configService.get<string>('JWT_SECRET_KEY_ACCESS'),
		});
	}

	private async verifyRefreshToken(token: string): Promise<JwtPayload> {
		return await this.jwtService.verifyAsync<JwtPayload>(token, {
			secret: this.configService.get<string>('JWT_SECRET_KEY_REFRESH'),
		});
	}

	private async isTokenBlacklisted(token: string): Promise<boolean> {
		const found = await this.removeTokenRepository.findOne({
			where: { token },
		});
		return !!found;
	}

	async me(userId: string): Promise<Omit<GetUserResponseDto, 'roles'> | null> {
		const user = await this.userRepository.findOne({
			where: { userId },
		});
		if (!user) {
			return null;
		}
		const response: Omit<GetUserResponseDto, 'roles'> = {
			userId: user.userId,
			username: user.username,
			email: user.email,
		};
		return response;
	}

	async logout(data: LogoutAuthRequestDto): Promise<void> {
		try {
			const tokensToBlacklist: Array<{
				token: string;
				type: 'access' | 'refresh';
				expiryDate: Date;
			}> = [];

			try {
				const accessDecoded = (await this.jwtService.decode(data.accessToken)) as any;
				if (accessDecoded && accessDecoded.exp) {
					tokensToBlacklist.push({
						token: data.accessToken,
						type: 'access',
						expiryDate: new Date(accessDecoded.exp * 1000),
					});
				}
			} catch (err) {
				console.error('Error decoding access token:', err);
			}

			if (data.refreshToken) {
				try {
					const refreshDecoded = (await this.jwtService.decode(data.refreshToken)) as any;
					if (refreshDecoded && refreshDecoded.exp) {
						tokensToBlacklist.push({
							token: data.refreshToken,
							type: 'refresh',
							expiryDate: new Date(refreshDecoded.exp * 1000),
						});
					}
				} catch (err) {
					console.error('Error decoding refresh token:', err);
				}
			}

			for (const tokenData of tokensToBlacklist) {
				await this.removeTokenRepository.save({
					token: tokenData.token,
					tokenType: tokenData.type,
					expiryDate: tokenData.expiryDate,
					userId: data.userId,
				});
			}
		} catch (err) {
			console.error('Error during logout:', err);
			throw new AppException(ErrorCode.INTERNAL_SERVER_ERROR);
		}
	}
}
</file>

<file path="src/backend/identity/src/auth/dtos/request/login-auth-request.dto.ts">
import { IsNotEmpty, IsOptional, Length } from 'class-validator';

export default class LoginAuthRequestDto {
	@IsNotEmpty({ message: 'username should not be empty' })
	@Length(4, 20, { message: 'username must be between 4 and 20 characters' })
	username: string;

	@IsNotEmpty({ message: 'password should not be empty' })
	@Length(8, 100, { message: 'password must be at least 8 characters long' })
	password: string;

	@IsOptional()
	identityApiKey?: string;
}
</file>

<file path="src/backend/identity/src/auth/dtos/request/logout-auth.request.dto.ts">
import { IsNotEmpty, IsOptional } from 'class-validator';

export class LogoutAuthRequestDto {
	@IsNotEmpty({ message: 'Access token is required' })
	accessToken: string;

	@IsOptional()
	refreshToken?: string; // Ly t cookie

	@IsNotEmpty({ message: 'User ID is required' })
	userId: string;

	@IsOptional()
	identityApiKey?: string;
}
</file>

<file path="src/backend/identity/src/authorities/authorities.controller.spec.ts">
import { Test, TestingModule } from '@nestjs/testing';
import { AuthoritiesController } from './authorities.controller';

describe('AuthoritiesController', () => {
	let controller: AuthoritiesController;

	beforeEach(async () => {
		const module: TestingModule = await Test.createTestingModule({
			controllers: [AuthoritiesController],
		}).compile();

		controller = module.get<AuthoritiesController>(AuthoritiesController);
	});

	it('should be defined', () => {
		expect(controller).toBeDefined();
	});
});
</file>

<file path="src/backend/identity/src/authorities/authorities.service.spec.ts">
import { Test, TestingModule } from '@nestjs/testing';
import { AuthoritiesService } from './authorities.service';

describe('AuthoritiesService', () => {
	let service: AuthoritiesService;

	beforeEach(async () => {
		const module: TestingModule = await Test.createTestingModule({
			providers: [AuthoritiesService],
		}).compile();

		service = module.get<AuthoritiesService>(AuthoritiesService);
	});

	it('should be defined', () => {
		expect(service).toBeDefined();
	});
});
</file>

<file path="src/backend/identity/src/authorities/dtos/request/create-authority-request.dto.ts">
import { IsNotEmpty, IsOptional, IsString } from 'class-validator';

export default class CreateAuthorityRequestDto {
	@IsNotEmpty({ message: 'Authority name should not be empty' })
	@IsString()
	name: string;

	@IsOptional()
	@IsString()
	description?: string;

	@IsOptional()
	identityApiKey?: string;
}
</file>

<file path="src/backend/identity/src/roles/dtos/request/create-role-request.dto.ts">
import { IsArray, IsNotEmpty, IsOptional, IsString } from 'class-validator';

export default class CreateRoleRequestDto {
	@IsNotEmpty({ message: 'name should not be empty' })
	@IsString()
	name: string;

	@IsOptional()
	@IsString()
	description?: string;

	@IsOptional()
	@IsArray()
	authorities?: string[];

	@IsOptional()
	identityApiKey?: string;
}
</file>

<file path="src/backend/identity/src/roles/roles.service.spec.ts">
import { Test, TestingModule } from '@nestjs/testing';
import { RolesService } from './roles.service';

describe('RolesService', () => {
	let service: RolesService;

	beforeEach(async () => {
		const module: TestingModule = await Test.createTestingModule({
			providers: [RolesService],
		}).compile();

		service = module.get<RolesService>(RolesService);
	});

	it('should be defined', () => {
		expect(service).toBeDefined();
	});
});
</file>

<file path="src/backend/identity/src/roles/roles.service.ts">
import { Injectable } from '@nestjs/common';
import { InjectRepository } from '@nestjs/typeorm';
import { AuthoritiesService } from 'src/authorities/authorities.service';
import GetAuthorityResponseDto from 'src/authorities/dtos/response/get-authority-response.dto';
import { Authority } from 'src/common/entities/authority';
import { Role } from 'src/common/entities/role';
import AppException from '@shared/exceptions/app-exception';
import ErrorCode from '@shared/exceptions/error-code';
import CreateRoleRequestDto from 'src/roles/dtos/request/create-role-request.dto';
import CreateRoleResponseDto from 'src/roles/dtos/response/create-role-response.dto';
import GetRoleResponseDto from 'src/roles/dtos/response/get-role-response.dto';
import { AuthorityEnum, RoleEnum } from '@shared/utils/enum';
import { Repository } from 'typeorm';

@Injectable()
export class RolesService {
	constructor(
		@InjectRepository(Role)
		private readonly roleRepository: Repository<Role>,
		private readonly authorityService: AuthoritiesService,
	) {}

	//add necessary methods for role service
	async getAllRoles(): Promise<GetRoleResponseDto[]> {
		const roles = await this.roleRepository.find({
			relations: ['authorities'],
		});
		return roles.map((role) => {
			console.log(role);
			const dto = new GetRoleResponseDto();
			dto.name = RoleEnum[role.name];
			dto.description = role.description;
			dto.authorities = role.authorities.map(
				(authority) =>
					new GetAuthorityResponseDto({
						name: AuthorityEnum[authority.name],
						description: authority.description,
					}),
			);
			return dto;
		});
	}

	async getRoleById(name: number): Promise<Role | null> {
		const roles = await this.roleRepository.findOne({
			where: { name },
			relations: ['authorities'],
		});
		if (!roles) {
			return null;
		}
		return roles;
	}

	async createRole(createDto: CreateRoleRequestDto): Promise<CreateRoleResponseDto> {
		try {
			const authorities = createDto.authorities || [];
			const authoritiesEntities: Authority[] = [];
			for (const authority of authorities) {
				const authorityInt: number =
					AuthorityEnum[authority as keyof typeof AuthorityEnum];
				const authorityInRepo =
					await this.authorityService.getAuthorityById(authorityInt);
				if (!authorityInRepo) {
					throw new AppException(ErrorCode.AUTHORITY_NOT_FOUND);
				}
				authoritiesEntities.push(authorityInRepo);
			}

			const savedRole = await this.roleRepository.save({
				name: RoleEnum[createDto.name as keyof typeof RoleEnum],
				description: createDto?.description,
				authorities: authoritiesEntities,
			});
			const response = new CreateRoleResponseDto();
			response.name = RoleEnum[savedRole.name];
			response.description = savedRole.description;
			response.authorities = savedRole.authorities.map(
				(authority) =>
					new GetAuthorityResponseDto({
						name: AuthorityEnum[authority.name],
						description: authority.description,
					}),
			);
			return response;
		} catch (err) {
			console.error('Error creating role:', err);
			throw new AppException(ErrorCode.ROLE_CREATION_FAILED);
		}
	}
	async deleteRole(name: string): Promise<void> {
		const nameInt: number = RoleEnum[name as keyof typeof RoleEnum];
		await this.roleRepository.delete({ name: nameInt });
	}
}
</file>

<file path="src/backend/identity/src/users/dtos/response/get-user-response.dto.ts">
import GetRoleResponseDto from 'src/roles/dtos/response/get-role-response.dto';

export class GetUserResponseDto {
	userId: string;
	username: string;
	email?: string;
	roles: GetRoleResponseDto[];
}
</file>

<file path="src/backend/identity/src/users/dtos/response/register-user-response.dto.ts">
import GetRoleResponseDto from 'src/roles/dtos/response/get-role-response.dto';
export default class RegisterUserResponseDto {
	userId: string;
	username: string;
	email?: string;
	fullName?: string;
	roles?: GetRoleResponseDto[];
}
</file>

<file path="src/backend/profile/nest-cli.json">
{
  "$schema": "https://json.schemastore.org/nest-cli",
  "collection": "@nestjs/schematics",
  "sourceRoot": "src",
  "compilerOptions": {
    "deleteOutDir": true
  }
}
</file>

<file path="src/backend/profile/package.json">
{
  "name": "profile",
  "version": "0.0.1",
  "description": "",
  "author": "",
  "private": true,
  "license": "UNLICENSED",
  "scripts": {
    "build": "nest build",
    "format": "prettier --write \"src/**/*.ts\" \"test/**/*.ts\"",
    "start": "nest start",
    "start:dev": "nest start --watch",
    "start:debug": "nest start --debug --watch",
    "start:prod": "node dist/src/main",
    "lint": "eslint \"{src,apps,libs,test}/**/*.ts\" --fix",
    "test": "jest",
    "test:watch": "jest --watch",
    "test:cov": "jest --coverage",
    "test:debug": "node --inspect-brk -r tsconfig-paths/register -r ts-node/register node_modules/.bin/jest --runInBand",
    "test:e2e": "jest --config ./test/jest-e2e.json"
  },
  "dependencies": {
    "@nestjs/common": "^11.0.1",
    "@nestjs/config": "^4.0.2",
    "@nestjs/core": "^11.0.1",
    "@nestjs/microservices": "^11.1.9",
    "@nestjs/platform-express": "^11.0.1",
    "@nestjs/typeorm": "^11.0.0",
    "@types/winston": "^2.4.4",
    "amqplib": "^0.10.9",
    "bcrypt": "^6.0.0",
    "class-transformer": "^0.5.1",
    "class-validator": "^0.14.2",
    "dotenv": "^17.2.3",
    "express": "^5.1.0",
    "nest-winston": "^1.10.2",
    "pg": "^8.16.3",
    "reflect-metadata": "^0.2.2",
    "rxjs": "^7.8.1",
    "typeorm": "^0.3.27",
    "winston": "^3.18.3",
    "winston-daily-rotate-file": "^5.0.0"
  },
  "devDependencies": {
    "@eslint/eslintrc": "^3.2.0",
    "@eslint/js": "^9.18.0",
    "@nestjs/cli": "^11.0.0",
    "@nestjs/schematics": "^11.0.0",
    "@nestjs/testing": "^11.0.1",
    "@types/express": "^5.0.0",
    "@types/jest": "^30.0.0",
    "@types/node": "^22.10.7",
    "@types/supertest": "^6.0.2",
    "eslint": "^9.18.0",
    "eslint-config-prettier": "^10.0.1",
    "eslint-plugin-prettier": "^5.2.2",
    "globals": "^16.0.0",
    "jest": "^30.0.0",
    "prettier": "^3.4.2",
    "source-map-support": "^0.5.21",
    "supertest": "^7.0.0",
    "ts-jest": "^29.2.5",
    "ts-loader": "^9.5.2",
    "ts-node": "^10.9.2",
    "tsconfig-paths": "^4.2.0",
    "typescript": "^5.7.3",
    "typescript-eslint": "^8.20.0"
  },
  "jest": {
    "moduleFileExtensions": [
      "js",
      "json",
      "ts"
    ],
    "rootDir": "src",
    "testRegex": ".*\\.spec\\.ts$",
    "transform": {
      "^.+\\.(t|j)s$": "ts-jest"
    },
    "collectCoverageFrom": [
      "**/*.(t|j)s"
    ],
    "coverageDirectory": "../coverage",
    "testEnvironment": "node"
  }
}
</file>

<file path="src/backend/profile/src/app.module.ts">
import { TypeOrmModule } from '@nestjs/typeorm';
import { Module } from '@nestjs/common';
import { AppController } from './app.controller';
import { AppService } from './app.service';
import { ConfigModule } from '@nestjs/config';
import { DetailModule } from './detail/detail.module';
import Profile from 'src/common/entities/profile';
@Module({
	imports: [
		ConfigModule.forRoot({ isGlobal: true }),

		TypeOrmModule.forRoot({
			type: 'postgres',
			host: process.env.HOST_DB,
			port: process.env.PORT_DB ? parseInt(process.env.PORT_DB) : 5432,
			username: process.env.USERNAME_DB,
			password: process.env.PASSWORD_DB,
			database: process.env.DATABASE_DB,
			entities: [Profile], // add your entity here

			synchronize: true,
		}),

		DetailModule,
	],
	controllers: [AppController],
	providers: [AppService],
})
export class AppModule {}
</file>

<file path="src/backend/profile/src/common/entities/profile.ts">
import { Column, Entity, PrimaryColumn } from 'typeorm';

@Entity()
export default class Profile {
	@PrimaryColumn()
	userId: string;

	@Column({ nullable: true, type: 'timestamp' })
	birthDay: Date;

	@Column({ nullable: true })
	phoneNumber: string;

	@Column({ nullable: true })
	address: string;

	@Column({ nullable: true })
	restaurantName: string;

	@Column({ nullable: true })
	businessAddress: string;

	@Column({ nullable: true })
	contractNumber: string;

	@Column({ nullable: true })
	contractEmail: string;

	@Column({ nullable: true })
	cardHolderName: string;

	@Column({ nullable: true })
	accountNumber: string;

	@Column({ nullable: true })
	expirationDate: string;

	@Column({ nullable: true })
	cvv: string;

	@Column({ nullable: true })
	frontImage: string;

	@Column({ nullable: true })
	backImage: string;

	@Column({ nullable: false, type: 'timestamp', default: () => 'CURRENT_TIMESTAMP' })
	createdAt: Date;

	@Column({
		nullable: false,
		type: 'timestamp',
		default: () => 'CURRENT_TIMESTAMP',
		onUpdate: 'CURRENT_TIMESTAMP',
	})
	updatedAt: Date;

	@Column({ nullable: false, default: false })
	verified: boolean;
}
</file>

<file path="src/backend/profile/src/detail/detail.controller.ts">
import { Controller } from '@nestjs/common';
import { ConfigService } from '@nestjs/config';
import { MessagePattern } from '@nestjs/microservices';
import { plainToInstance } from 'class-transformer';
import { ModifyProfileRequestDto } from 'src/detail/dtos/request/modify-profile-request.dto';
import { GetProfileRequestDto } from 'src/detail/dtos/request/get-profile-request.dto';
import GetProfileResponseDto from 'src/detail/dtos/response/get-profile-response.dto';
import AppException from '@shared/exceptions/app-exception';
import ErrorCode from '@shared/exceptions/error-code';
import { DetailService } from 'src/detail/detail.service';
import { GetVerifiedStateRequestDto } from 'src/detail/dtos/request/get-verified-state-request.dto';

@Controller()
export class DetailController {
	constructor(
		private readonly detailService: DetailService,
		private readonly config: ConfigService,
	) {}

	@MessagePattern('profiles:modify-profile')
	async modifyProfile(data: ModifyProfileRequestDto): Promise<GetProfileResponseDto> {
		const expectedApiKey = this.config.get<string>('PROFILE_API_KEY');
		if (data.profileApiKey !== expectedApiKey) {
			throw new AppException(ErrorCode.UNAUTHORIZED);
		}
		return this.detailService.modifyProfileServiceStatus(
			plainToInstance(ModifyProfileRequestDto, data),
		);
	}

	@MessagePattern('profiles:get-profile')
	async getProfile(data: GetProfileRequestDto): Promise<GetProfileResponseDto> {
		const expectedApiKey = this.config.get<string>('PROFILE_API_KEY');
		if (data.profileApiKey !== expectedApiKey) {
			throw new AppException(ErrorCode.UNAUTHORIZED);
		}
		return this.detailService.getProfileServiceStatus(data.userId);
	}

	@MessagePattern('profiles:get-verified-state')
	async getVerifiedState(data: GetVerifiedStateRequestDto): Promise<boolean> {
		const expectedApiKey = this.config.get<string>('PROFILE_API_KEY');
		if (data.profileApiKey !== expectedApiKey) {
			throw new AppException(ErrorCode.UNAUTHORIZED);
		}
		return (await this.detailService.getProfileServiceStatus(data.userId)).verified;
	}
}
</file>

<file path="src/backend/profile/src/detail/detail.module.ts">
import { Module } from '@nestjs/common';
import { DetailController } from './detail.controller';
import { DetailService } from './detail.service';
import Profile from 'src/common/entities/profile';
import { TypeOrmModule } from '@nestjs/typeorm';

@Module({
	imports: [TypeOrmModule.forFeature([Profile])],
	controllers: [DetailController],
	providers: [DetailService],
})
export class DetailModule {}
</file>

<file path="src/backend/profile/src/detail/detail.service.ts">
import { Injectable } from '@nestjs/common';
import { InjectRepository } from '@nestjs/typeorm';
import { ModifyProfileRequestDto } from 'src/detail/dtos/request/modify-profile-request.dto';
import GetProfileResponseDto from 'src/detail/dtos/response/get-profile-response.dto';
import Profile from 'src/common/entities/profile';
import { Repository } from 'typeorm';
import { plainToInstance } from 'class-transformer';
import AppException from '@shared/exceptions/app-exception';
import ErrorCode from '@shared/exceptions/error-code';
import { filterNullValues } from '@shared/utils/utils';
import { ConfigService } from '@nestjs/config';

@Injectable()
export class DetailService {
	constructor(
		@InjectRepository(Profile) private readonly profileRepository: Repository<Profile>,
		private readonly config: ConfigService,
	) {}

	async getProfileServiceStatus(userId: string): Promise<GetProfileResponseDto> {
		const profile = await this.profileRepository.findOneBy({ userId });
		if (!profile) {
			throw new AppException(ErrorCode.PROFILE_NOT_FOUND);
		}
		return plainToInstance(GetProfileResponseDto, profile, {
			excludeExtraneousValues: false,
		});
	}

	async modifyProfileServiceStatus(
		modifyProfileRequestDto: ModifyProfileRequestDto,
	): Promise<GetProfileResponseDto> {
		let profile = await this.profileRepository.findOneBy({
			userId: modifyProfileRequestDto.userId,
		});

		if (!profile) {
			profile = this.profileRepository.create({ userId: modifyProfileRequestDto.userId });
		}
		const updateData = filterNullValues(modifyProfileRequestDto);
		Object.assign(profile, updateData);

		const savedProfile = await this.profileRepository.save(profile);

		return plainToInstance(GetProfileResponseDto, savedProfile, {
			excludeExtraneousValues: false,
		});
	}
}
</file>

<file path="src/backend/profile/src/main.ts">
import { NestFactory } from '@nestjs/core';
import { AppModule } from './app.module';
import { MicroserviceOptions, Transport, RpcException } from '@nestjs/microservices';
import { ValidationPipe } from '@nestjs/common';
import ErrorCode from '@shared/exceptions/error-code';
import { GlobalExceptionFilter } from 'src/common/filters/global-exception/global-exception.filter';

async function bootstrap() {
	const app = await NestFactory.createMicroservice<MicroserviceOptions>(AppModule, {
		transport: Transport.TCP,
		options: {
			port: parseInt(process.env.PORT, 10),
		},
	});

	app.useGlobalPipes(
		new ValidationPipe({
			transform: true,
			whitelist: true,
			forbidNonWhitelisted: true,
			exceptionFactory: (errors) => {
				const messages = errors.map((err) => {
					return {
						[err.property]: Object.values(err.constraints),
					};
				});
				throw new RpcException({
					code: ErrorCode.VALIDATION_FAILED.code,
					message: 'Validation failed',
					status: ErrorCode.VALIDATION_FAILED.httpStatus,
					errors: messages,
				});
			},
		}),
	);

	app.useGlobalFilters(new GlobalExceptionFilter());

	await app.listen();

	process.on('SIGINT', () => {
		console.log('SIGINT received. Shutting down gracefully...');
		app.close().then(() => process.exit(0));
	});
	process.on('SIGTERM', () => {
		console.log('SIGTERM received. Shutting down gracefully...');
		app.close().then(() => process.exit(0));
	});
}
bootstrap()
	.then(() => {
		console.log(`Microservice is running on port ${process.env.PORT}`);
	})
	.catch((err) => {
		console.error('Error starting the microservice', err);
	});
</file>

<file path="src/backend/service-diagram.excalidraw">
{
  "type": "excalidraw",
  "version": 2,
  "source": "https://marketplace.visualstudio.com/items?itemName=pomdtr.excalidraw-editor",
  "elements": [
    {
      "id": "LvlG893BzdjarvIsLrWub",
      "type": "rectangle",
      "x": 999.5362134157353,
      "y": -34.91805116379146,
      "width": 183.39999389648438,
      "height": 108.00000762939453,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "a0",
      "roundness": {
        "type": 3
      },
      "seed": 461873853,
      "version": 333,
      "versionNonce": 1721867216,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "7UkraNldcypKUHEQO3RBz"
        },
        {
          "id": "qZkR9mZ4JYtKOSpsaYbUG",
          "type": "arrow"
        },
        {
          "id": "0k4hwJLnH2emKnqAshL35",
          "type": "arrow"
        },
        {
          "id": "PeEGS3rzmaSBF-lbJ13bq",
          "type": "arrow"
        },
        {
          "id": "axk0CTuBKrv_839OW5nOU",
          "type": "arrow"
        },
        {
          "id": "NXw1oznSCMcFxLzHUTu_r",
          "type": "arrow"
        },
        {
          "id": "68a8yoGjdoKYGg07rK5yA",
          "type": "arrow"
        }
      ],
      "updated": 1764656698754,
      "link": null,
      "locked": false
    },
    {
      "id": "7UkraNldcypKUHEQO3RBz",
      "type": "text",
      "x": 1032.7662625490361,
      "y": 6.581952650905805,
      "width": 116.93989562988281,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "a1",
      "roundness": null,
      "seed": 328744243,
      "version": 276,
      "versionNonce": 848008307,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763726976809,
      "link": null,
      "locked": false,
      "text": "Api gateway",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "LvlG893BzdjarvIsLrWub",
      "originalText": "Api gateway",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "8d06N7jqD533BRKEJbnnh",
      "type": "rectangle",
      "x": 167.08957073422175,
      "y": 392.02678293812903,
      "width": 116.20004272460938,
      "height": 69.60000610351562,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "a2",
      "roundness": {
        "type": 3
      },
      "seed": 130724883,
      "version": 223,
      "versionNonce": 617416819,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "Axh0KteaiV4OVG9wwjFyj"
        },
        {
          "id": "bu42uJGzl71Fp3P1Dg1Z-",
          "type": "arrow"
        },
        {
          "id": "Dq7pkc0tdF9DMk_c4x9T7",
          "type": "arrow"
        },
        {
          "id": "l5fvKBH-koUX39zE052Vl",
          "type": "arrow"
        },
        {
          "id": "qZkR9mZ4JYtKOSpsaYbUG",
          "type": "arrow"
        },
        {
          "id": "YG3wyzx0tM5YNDUfp33IT",
          "type": "arrow"
        },
        {
          "id": "LTvak5GckUvsw2U2ZSSDv",
          "type": "arrow"
        }
      ],
      "updated": 1763728975507,
      "link": null,
      "locked": false
    },
    {
      "id": "Axh0KteaiV4OVG9wwjFyj",
      "type": "text",
      "x": 187.26962444515925,
      "y": 401.82678598988684,
      "width": 75.83993530273438,
      "height": 50,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "a3",
      "roundness": null,
      "seed": 890511293,
      "version": 178,
      "versionNonce": 389994973,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763726410619,
      "link": null,
      "locked": false,
      "text": "identtiy\nservice",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "8d06N7jqD533BRKEJbnnh",
      "originalText": "identtiy service",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "fgBJzTYxxPyoKEXBtNI42",
      "type": "text",
      "x": 1029.9543406059115,
      "y": -112.04882408005307,
      "width": 101.51992797851562,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "a4",
      "roundness": null,
      "seed": 375944179,
      "version": 305,
      "versionNonce": 1779439452,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763729500001,
      "link": null,
      "locked": false,
      "text": "port 8888",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "port 8888",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "7OYE6zKNwzvaRtB_XTxGk",
      "type": "rectangle",
      "x": 499.9699347977894,
      "y": 413.40029375062045,
      "width": 163.4359554708786,
      "height": 59.99999999999998,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "a8",
      "roundness": {
        "type": 3
      },
      "seed": 1029629981,
      "version": 465,
      "versionNonce": 1873742035,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "xqUxAKeB5bzp2kOF3FP61"
        },
        {
          "id": "0k4hwJLnH2emKnqAshL35",
          "type": "arrow"
        },
        {
          "id": "qUAQYBG2nTwT1i9iKzhK8",
          "type": "arrow"
        },
        {
          "id": "4-iUjGkp20BQnAoNYMayH",
          "type": "arrow"
        }
      ],
      "updated": 1763729009944,
      "link": null,
      "locked": false
    },
    {
      "id": "xqUxAKeB5bzp2kOF3FP61",
      "type": "text",
      "x": 514.1479726528576,
      "y": 430.90029375062045,
      "width": 135.0798797607422,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "a8V",
      "roundness": null,
      "seed": 906264925,
      "version": 364,
      "versionNonce": 756840051,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763729009944,
      "link": null,
      "locked": false,
      "text": "profile service",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "7OYE6zKNwzvaRtB_XTxGk",
      "originalText": "profile service",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "X45wfXdd_u5dyrHgpcmuB",
      "type": "ellipse",
      "x": -51.80742128612491,
      "y": 536.2414114032717,
      "width": 86.40005493164065,
      "height": 84.20001220703125,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aA",
      "roundness": {
        "type": 2
      },
      "seed": 607100915,
      "version": 555,
      "versionNonce": 1044883699,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "NfmMK0nac0QH0QW9kjqyO"
        },
        {
          "id": "bu42uJGzl71Fp3P1Dg1Z-",
          "type": "arrow"
        },
        {
          "id": "ICxlk2rTS5Jm8H_J8Ybvr",
          "type": "arrow"
        }
      ],
      "updated": 1763727840633,
      "link": null,
      "locked": false
    },
    {
      "id": "NfmMK0nac0QH0QW9kjqyO",
      "type": "text",
      "x": -29.054404826526536,
      "y": 566.0722177029965,
      "width": 40.799957275390625,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aB",
      "roundness": null,
      "seed": 1007263549,
      "version": 506,
      "versionNonce": 1086570035,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763727694931,
      "link": null,
      "locked": false,
      "text": "user",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "X45wfXdd_u5dyrHgpcmuB",
      "originalText": "user",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "bYI7bDFLlCBVyY6HbbQvZ",
      "type": "ellipse",
      "x": 69.00322415028648,
      "y": 588.6944302648137,
      "width": 89.59997558593749,
      "height": 86.59997558593751,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aC",
      "roundness": {
        "type": 2
      },
      "seed": 722616989,
      "version": 320,
      "versionNonce": 318998525,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "yEVCtig1CRbOv1k5UaLCa"
        },
        {
          "id": "Dq7pkc0tdF9DMk_c4x9T7",
          "type": "arrow"
        },
        {
          "id": "eScT9cxf17gGiV0ghSKGF",
          "type": "arrow"
        }
      ],
      "updated": 1763728998937,
      "link": null,
      "locked": false
    },
    {
      "id": "yEVCtig1CRbOv1k5UaLCa",
      "type": "text",
      "x": 95.88484654339749,
      "y": 619.3767030640795,
      "width": 35.47998046875,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aD",
      "roundness": null,
      "seed": 1284826749,
      "version": 290,
      "versionNonce": 1487634525,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763728998937,
      "link": null,
      "locked": false,
      "text": "role",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "bYI7bDFLlCBVyY6HbbQvZ",
      "originalText": "role",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "aL1U9mqpbNdfMeYZwT07v",
      "type": "ellipse",
      "x": 191.595757855952,
      "y": 653.5268432885085,
      "width": 146.40014648437497,
      "height": 93.7999877929687,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aE",
      "roundness": {
        "type": 2
      },
      "seed": 179576093,
      "version": 591,
      "versionNonce": 563544221,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "i9MZjT1RBLT0EiBLBjMGK"
        },
        {
          "id": "l5fvKBH-koUX39zE052Vl",
          "type": "arrow"
        },
        {
          "id": "p2TUuUmKbJqKEH-mGT9u4",
          "type": "arrow"
        }
      ],
      "updated": 1763728997214,
      "link": null,
      "locked": false
    },
    {
      "id": "i9MZjT1RBLT0EiBLBjMGK",
      "type": "text",
      "x": 219.00559466351802,
      "y": 687.7635334631811,
      "width": 92.0599365234375,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aF",
      "roundness": null,
      "seed": 1603868413,
      "version": 514,
      "versionNonce": 59172093,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763728997214,
      "link": null,
      "locked": false,
      "text": "authority",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "aL1U9mqpbNdfMeYZwT07v",
      "originalText": "authority",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "bu42uJGzl71Fp3P1Dg1Z-",
      "type": "arrow",
      "x": 168.65744412208988,
      "y": 455.827324308452,
      "width": 125.77005777909618,
      "height": 86.7741810895281,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aI",
      "roundness": {
        "type": 2
      },
      "seed": 675519453,
      "version": 587,
      "versionNonce": 1488158675,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "tRtsbK_n6WmWCpVlvGKM9"
        }
      ],
      "updated": 1763727694932,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -125.77005777909618,
          86.7741810895281
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "8d06N7jqD533BRKEJbnnh",
        "focus": 0.13799936977386015,
        "gap": 1.2727822429989026
      },
      "endBinding": {
        "elementId": "X45wfXdd_u5dyrHgpcmuB",
        "focus": 0,
        "gap": 19.846160189610625
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "tRtsbK_n6WmWCpVlvGKM9",
      "type": "text",
      "x": 48.97773731789893,
      "y": 455.6487591055051,
      "width": 62.87992858886719,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aIV",
      "roundness": null,
      "seed": 1607624371,
      "version": 18,
      "versionNonce": 200593395,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763726513529,
      "link": null,
      "locked": false,
      "text": "/users",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "bu42uJGzl71Fp3P1Dg1Z-",
      "originalText": "/users",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "Dq7pkc0tdF9DMk_c4x9T7",
      "type": "arrow",
      "x": 192.86382411260803,
      "y": 463.42075425226943,
      "width": 62.88176371449731,
      "height": 126.96372495404404,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aJ",
      "roundness": {
        "type": 2
      },
      "seed": 1064934707,
      "version": 468,
      "versionNonce": 729115837,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "YT0kXu-DEk7CAhdCSdhnI"
        }
      ],
      "updated": 1763728998937,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -62.88176371449731,
          126.96372495404404
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "8d06N7jqD533BRKEJbnnh",
        "focus": 0.1907712699728859,
        "gap": 3.399993896484375
      },
      "endBinding": {
        "elementId": "bYI7bDFLlCBVyY6HbbQvZ",
        "focus": -0.06942641828112994,
        "gap": 1.1559867471063496
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "YT0kXu-DEk7CAhdCSdhnI",
      "type": "text",
      "x": 178.44840456096642,
      "y": 497.9293544802755,
      "width": 57.55995178222656,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aJV",
      "roundness": null,
      "seed": 301952243,
      "version": 14,
      "versionNonce": 1231534003,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763726523213,
      "link": null,
      "locked": false,
      "text": "/roles",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "Dq7pkc0tdF9DMk_c4x9T7",
      "originalText": "/roles",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "l5fvKBH-koUX39zE052Vl",
      "type": "arrow",
      "x": 239.57208784701965,
      "y": 462.1448981939525,
      "width": 18.074693657908085,
      "height": 186.57014443933213,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aK",
      "roundness": {
        "type": 2
      },
      "seed": 1327346077,
      "version": 592,
      "versionNonce": 2059091293,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "ldiH-5kp3MAGmwLut2qgS"
        }
      ],
      "updated": 1763728997215,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          18.074693657908085,
          186.57014443933213
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "8d06N7jqD533BRKEJbnnh",
        "focus": -0.16988956041685083,
        "gap": 1
      },
      "endBinding": {
        "elementId": "aL1U9mqpbNdfMeYZwT07v",
        "focus": -0.027719528776501693,
        "gap": 5.029095535735978
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "ldiH-5kp3MAGmwLut2qgS",
      "type": "text",
      "x": 255.5542694511115,
      "y": 496.6276975037722,
      "width": 106.15989685058594,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aKV",
      "roundness": null,
      "seed": 55697053,
      "version": 17,
      "versionNonce": 1926359293,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763726501615,
      "link": null,
      "locked": false,
      "text": "/authrities",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "l5fvKBH-koUX39zE052Vl",
      "originalText": "/authrities",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "kSYRBG43zjTxxrIdFVhGs",
      "type": "text",
      "x": 1029.5541330863803,
      "y": -72.04881645065853,
      "width": 116.31988525390625,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aO",
      "roundness": null,
      "seed": 288273629,
      "version": 222,
      "versionNonce": 1339410557,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763726984578,
      "link": null,
      "locked": false,
      "text": "/api/version",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "/api/version",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "qUAQYBG2nTwT1i9iKzhK8",
      "type": "arrow",
      "x": 510.3625344440193,
      "y": 474.3426622096742,
      "width": 21.396820974111108,
      "height": 85.97991733140071,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aV",
      "roundness": {
        "type": 2
      },
      "seed": 1888262835,
      "version": 665,
      "versionNonce": 590169427,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "Hf0Hb1wlN6EKPR5_u7bxz"
        }
      ],
      "updated": 1763729031659,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -21.396820974111108,
          85.97991733140071
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "7OYE6zKNwzvaRtB_XTxGk",
        "focus": 0.7226292217676274,
        "gap": 2.8014538161195333
      },
      "endBinding": {
        "elementId": "Hlzv0s24vYGy2KZYZGntL",
        "focus": -0.07642438619838549,
        "gap": 2.989580239290376
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "Hf0Hb1wlN6EKPR5_u7bxz",
      "type": "text",
      "x": 609.3269707559994,
      "y": 491.88666957413864,
      "width": 135.4198760986328,
      "height": 50,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aW",
      "roundness": null,
      "seed": 516570611,
      "version": 85,
      "versionNonce": 308923645,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763726848681,
      "link": null,
      "locked": false,
      "text": "8083\n/notifications",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "qUAQYBG2nTwT1i9iKzhK8",
      "originalText": "8083\n/notifications",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "qZkR9mZ4JYtKOSpsaYbUG",
      "type": "arrow",
      "x": 997.3417425248235,
      "y": 30.846388602494642,
      "width": 706.1192804851603,
      "height": 375.1270329374593,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "ac",
      "roundness": {
        "type": 2
      },
      "seed": 247068285,
      "version": 294,
      "versionNonce": 1738968595,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "mM48VcAmd-vw0bBu0uOsK"
        }
      ],
      "updated": 1763726976809,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -706.1192804851603,
          375.1270329374593
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "LvlG893BzdjarvIsLrWub",
        "focus": 0.37114974799610584,
        "gap": 2.5592150601482926
      },
      "endBinding": {
        "elementId": "8d06N7jqD533BRKEJbnnh",
        "focus": 0.2178340208044038,
        "gap": 9.484134981801844
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "mM48VcAmd-vw0bBu0uOsK",
      "type": "text",
      "x": 285.1192495198643,
      "y": 280.1870933576256,
      "width": 87.05992126464844,
      "height": 50,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "ad",
      "roundness": null,
      "seed": 573400765,
      "version": 23,
      "versionNonce": 1257239389,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763726550783,
      "link": null,
      "locked": false,
      "text": "8080\n/identity",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "qZkR9mZ4JYtKOSpsaYbUG",
      "originalText": "8080\n/identity",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "0k4hwJLnH2emKnqAshL35",
      "type": "arrow",
      "x": 1064.8703714555722,
      "y": 75.92701958612881,
      "width": 435.72680614853846,
      "height": 337.1223416985125,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "af",
      "roundness": {
        "type": 2
      },
      "seed": 199632637,
      "version": 387,
      "versionNonce": 1640706067,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "D8lIibLTOiTxnTuJIqFZh"
        }
      ],
      "updated": 1763729009944,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -435.72680614853846,
          337.1223416985125
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "LvlG893BzdjarvIsLrWub",
        "focus": -0.2930273663833576,
        "gap": 5.450661803183632
      },
      "endBinding": {
        "elementId": "7OYE6zKNwzvaRtB_XTxGk",
        "focus": 0.06843509447905104,
        "gap": 1
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "D8lIibLTOiTxnTuJIqFZh",
      "type": "text",
      "x": 565.6473489929125,
      "y": 273.939058165905,
      "width": 83.11991882324219,
      "height": 50,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "ag",
      "roundness": null,
      "seed": 327398835,
      "version": 31,
      "versionNonce": 1573987347,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763726568747,
      "link": null,
      "locked": false,
      "text": "8081\n/profiles",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "0k4hwJLnH2emKnqAshL35",
      "originalText": "8081\n/profiles",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "Hlzv0s24vYGy2KZYZGntL",
      "type": "rectangle",
      "x": 402.1209870113232,
      "y": 561.3626685767805,
      "width": 171.82077908373094,
      "height": 60,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "ah",
      "roundness": {
        "type": 3
      },
      "seed": 1846608829,
      "version": 318,
      "versionNonce": 1928949267,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "qUAQYBG2nTwT1i9iKzhK8",
          "type": "arrow"
        },
        {
          "type": "text",
          "id": "y1A2WLeMSbc92q37S-NPD"
        },
        {
          "id": "hY5UTwg9ekPrY-bJ6WXE7",
          "type": "arrow"
        }
      ],
      "updated": 1763729031659,
      "link": null,
      "locked": false
    },
    {
      "id": "y1A2WLeMSbc92q37S-NPD",
      "type": "text",
      "x": 431.36142416061057,
      "y": 566.3626685767805,
      "width": 113.33990478515625,
      "height": 50,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "ai",
      "roundness": null,
      "seed": 1123769501,
      "version": 253,
      "versionNonce": 1013461939,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763729031659,
      "link": null,
      "locked": false,
      "text": "notification\nservice",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "Hlzv0s24vYGy2KZYZGntL",
      "originalText": "notification service",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "K6nRfmMDCG6bo6vMErQy6",
      "type": "rectangle",
      "x": 871.1865718077205,
      "y": 394.74220154275906,
      "width": 182.23424389710533,
      "height": 59.3563045284111,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "ao",
      "roundness": {
        "type": 3
      },
      "seed": 1884236275,
      "version": 176,
      "versionNonce": 268323965,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "x26SMf9mpbIaUKVowJ09r"
        },
        {
          "id": "PeEGS3rzmaSBF-lbJ13bq",
          "type": "arrow"
        },
        {
          "id": "ztse1Myr2HltLI7ImPDzB",
          "type": "arrow"
        },
        {
          "id": "wiU13eHrpsIRMQnZFcOAO",
          "type": "arrow"
        },
        {
          "id": "4Cnogm8QayY_PC28QbFZD",
          "type": "arrow"
        },
        {
          "id": "uYcVWQlexH5cNs4YhdGWF",
          "type": "arrow"
        }
      ],
      "updated": 1763729046949,
      "link": null,
      "locked": false
    },
    {
      "id": "x26SMf9mpbIaUKVowJ09r",
      "type": "text",
      "x": 886.0637569276598,
      "y": 411.9203538069646,
      "width": 152.47987365722656,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aoV",
      "roundness": null,
      "seed": 1914071539,
      "version": 31,
      "versionNonce": 269073683,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763726883959,
      "link": null,
      "locked": false,
      "text": "payment service",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "K6nRfmMDCG6bo6vMErQy6",
      "originalText": "payment service",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "PeEGS3rzmaSBF-lbJ13bq",
      "type": "arrow",
      "x": 1089.8653603338375,
      "y": 73.59221657294935,
      "width": 104.30657893312446,
      "height": 319.75584319273423,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "as",
      "roundness": {
        "type": 2
      },
      "seed": 1921927005,
      "version": 292,
      "versionNonce": 1341946237,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "CErIQhY4htyF4v2t3lJSK"
        }
      ],
      "updated": 1763727596754,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -104.30657893312446,
          319.75584319273423
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "LvlG893BzdjarvIsLrWub",
        "focus": -0.1500858064511981,
        "gap": 1
      },
      "endBinding": {
        "elementId": "K6nRfmMDCG6bo6vMErQy6",
        "focus": 0.13213914158985796,
        "gap": 4.165290587959305
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "CErIQhY4htyF4v2t3lJSK",
      "type": "text",
      "x": 975.9021114556542,
      "y": 220.9701381693165,
      "width": 123.61991882324219,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "asV",
      "roundness": null,
      "seed": 471188659,
      "version": 75,
      "versionNonce": 1306964371,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763727595695,
      "link": null,
      "locked": false,
      "text": "have deplyed",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "PeEGS3rzmaSBF-lbJ13bq",
      "originalText": "have deplyed",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "XiwGYrgdPOW7kcDSC4ocC",
      "type": "ellipse",
      "x": 452.5394780786413,
      "y": 717.7373366390884,
      "width": 122.87789964478145,
      "height": 88.51377560716548,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "au",
      "roundness": {
        "type": 2
      },
      "seed": 1389794045,
      "version": 530,
      "versionNonce": 2054368915,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "6-ipGjOrWltBw6lytw5Kc"
        },
        {
          "id": "hY5UTwg9ekPrY-bJ6WXE7",
          "type": "arrow"
        }
      ],
      "updated": 1763729033631,
      "link": null,
      "locked": false
    },
    {
      "id": "6-ipGjOrWltBw6lytw5Kc",
      "type": "text",
      "x": 491.58454816318647,
      "y": 737.1998789625457,
      "width": 44.89996337890625,
      "height": 50,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "av",
      "roundness": null,
      "seed": 1238456093,
      "version": 463,
      "versionNonce": 534111283,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763729033631,
      "link": null,
      "locked": false,
      "text": "send\nemail",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "XiwGYrgdPOW7kcDSC4ocC",
      "originalText": "send email",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "hY5UTwg9ekPrY-bJ6WXE7",
      "type": "arrow",
      "x": 464.02891791025286,
      "y": 625.0891880205733,
      "width": 51.83605206718005,
      "height": 89.83700927377924,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aw",
      "roundness": {
        "type": 2
      },
      "seed": 380419699,
      "version": 742,
      "versionNonce": 512812499,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "bmdXEXOaijOZvnl3ZmCQW"
        }
      ],
      "updated": 1763729033631,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          51.83605206718005,
          89.83700927377924
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "Hlzv0s24vYGy2KZYZGntL",
        "focus": 0.4228542354478729,
        "gap": 9.715672332608762
      },
      "endBinding": {
        "elementId": "XiwGYrgdPOW7kcDSC4ocC",
        "focus": 0.3326594536694456,
        "gap": 2.831429623750355
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "bmdXEXOaijOZvnl3ZmCQW",
      "type": "text",
      "x": 559.0773073256457,
      "y": 713.5059980859412,
      "width": 108.55989074707031,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "awG",
      "roundness": null,
      "seed": 62255837,
      "version": 21,
      "versionNonce": 258600637,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763726880222,
      "link": null,
      "locked": false,
      "text": "/send-email",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "hY5UTwg9ekPrY-bJ6WXE7",
      "originalText": "/send-email",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "vK9rHAarUOFWO1gkikR8f",
      "type": "ellipse",
      "x": 727.8076860202393,
      "y": 579.7758472876734,
      "width": 128.08459232755604,
      "height": 85,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "ay",
      "roundness": {
        "type": 2
      },
      "seed": 1597886963,
      "version": 214,
      "versionNonce": 571862941,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "iXHQN05qFJ5PaW2uUF74i"
        },
        {
          "id": "ztse1Myr2HltLI7ImPDzB",
          "type": "arrow"
        }
      ],
      "updated": 1763729043596,
      "link": null,
      "locked": false
    },
    {
      "id": "iXHQN05qFJ5PaW2uUF74i",
      "type": "text",
      "x": 762.005257984048,
      "y": 597.2238090872452,
      "width": 60.119964599609375,
      "height": 50,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "az",
      "roundness": null,
      "seed": 102384605,
      "version": 169,
      "versionNonce": 340784125,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763729043596,
      "link": null,
      "locked": false,
      "text": "momo\n(UAT)",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "vK9rHAarUOFWO1gkikR8f",
      "originalText": "momo (UAT)",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "ztse1Myr2HltLI7ImPDzB",
      "type": "arrow",
      "x": 870.897275836987,
      "y": 454.11367306285445,
      "width": 48.608524021499306,
      "height": 122.80666933146188,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b00",
      "roundness": {
        "type": 2
      },
      "seed": 1906204797,
      "version": 209,
      "versionNonce": 1300917341,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "nIwIJ0q2dCnfER8sih2D4"
        }
      ],
      "updated": 1763729043597,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -48.608524021499306,
          122.80666933146188
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "K6nRfmMDCG6bo6vMErQy6",
        "focus": 0.7797891779233397,
        "gap": 6.328262154340166
      },
      "endBinding": {
        "elementId": "vK9rHAarUOFWO1gkikR8f",
        "focus": 0.15839679659922765,
        "gap": 7.602197680964905
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "nIwIJ0q2dCnfER8sih2D4",
      "type": "text",
      "x": 941.0661592346552,
      "y": 503.0375154794299,
      "width": 61.73997497558594,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b01",
      "roundness": null,
      "seed": 843837843,
      "version": 15,
      "versionNonce": 816816627,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763726901325,
      "link": null,
      "locked": false,
      "text": "/momo",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "ztse1Myr2HltLI7ImPDzB",
      "originalText": "/momo",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "C-oT9dAyldEq39eOrOt5w",
      "type": "ellipse",
      "x": 1017.7551773921664,
      "y": 585.3071060636082,
      "width": 129.12607387019648,
      "height": 85.38980766619602,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b02",
      "roundness": {
        "type": 2
      },
      "seed": 1283158653,
      "version": 110,
      "versionNonce": 336144531,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "5sJk-BXobaMHZefjoPWck"
        },
        {
          "id": "wiU13eHrpsIRMQnZFcOAO",
          "type": "arrow"
        }
      ],
      "updated": 1763726935459,
      "link": null,
      "locked": false
    },
    {
      "id": "5sJk-BXobaMHZefjoPWck",
      "type": "text",
      "x": 1052.1052707966544,
      "y": 602.8121538742151,
      "width": 60.119964599609375,
      "height": 50,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b03",
      "roundness": null,
      "seed": 1481929267,
      "version": 79,
      "versionNonce": 1218223667,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763726935459,
      "link": null,
      "locked": false,
      "text": "vnpay\n(UAT)",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "C-oT9dAyldEq39eOrOt5w",
      "originalText": "vnpay\n(UAT)",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "wiU13eHrpsIRMQnZFcOAO",
      "type": "arrow",
      "x": 1002.2191989605552,
      "y": 455.4926763137245,
      "width": 53.42568675602081,
      "height": 120.53914882394531,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b04",
      "roundness": {
        "type": 2
      },
      "seed": 593955453,
      "version": 94,
      "versionNonce": 846225363,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "P7oLNyFP-c2AZPNQxDGrv"
        }
      ],
      "updated": 1763726935459,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          53.42568675602081,
          120.53914882394531
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "K6nRfmMDCG6bo6vMErQy6",
        "focus": -0.24856057734731699,
        "gap": 4.165370035784633
      },
      "endBinding": {
        "elementId": "C-oT9dAyldEq39eOrOt5w",
        "focus": -0.044995470983962664,
        "gap": 12.681559454972264
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "P7oLNyFP-c2AZPNQxDGrv",
      "type": "text",
      "x": 1009.6765254057232,
      "y": 516.574908509861,
      "width": 65.09994506835938,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b05",
      "roundness": null,
      "seed": 267283421,
      "version": 12,
      "versionNonce": 963520605,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763726930857,
      "link": null,
      "locked": false,
      "text": "/vnpay",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "wiU13eHrpsIRMQnZFcOAO",
      "originalText": "/vnpay",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "mvVyRFeKEgMPz-djEyKNx",
      "type": "ellipse",
      "x": 1173.9557989797486,
      "y": 570.7285095579253,
      "width": 138.4980571409303,
      "height": 120,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b06",
      "roundness": {
        "type": 2
      },
      "seed": 1784620957,
      "version": 83,
      "versionNonce": 1598755389,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "KrcZJTq7Amn_J7gcwZNKQ"
        },
        {
          "id": "4Cnogm8QayY_PC28QbFZD",
          "type": "arrow"
        }
      ],
      "updated": 1763726967869,
      "link": null,
      "locked": false
    },
    {
      "id": "KrcZJTq7Amn_J7gcwZNKQ",
      "type": "text",
      "x": 1213.178387557652,
      "y": 593.3021026867325,
      "width": 60.119964599609375,
      "height": 75,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b07",
      "roundness": null,
      "seed": 56713587,
      "version": 64,
      "versionNonce": 1074250397,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763726967869,
      "link": null,
      "locked": false,
      "text": "card\ncredit\n(UAT)",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "mvVyRFeKEgMPz-djEyKNx",
      "originalText": "card credit (UAT)",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "4Cnogm8QayY_PC28QbFZD",
      "type": "arrow",
      "x": 1054.0845572516278,
      "y": 450.4414584117203,
      "width": 164.32267140139584,
      "height": 118.14396088933472,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b08",
      "roundness": {
        "type": 2
      },
      "seed": 781885683,
      "version": 106,
      "versionNonce": 1519347453,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "16LM9AzA054gAQ0J9qIF4"
        }
      ],
      "updated": 1763726967869,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          164.32267140139584,
          118.14396088933472
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "K6nRfmMDCG6bo6vMErQy6",
        "focus": -0.4172535322932468,
        "gap": 3.5909207306960518
      },
      "endBinding": {
        "elementId": "mvVyRFeKEgMPz-djEyKNx",
        "focus": 0.4024491335434118,
        "gap": 5.8371036365850895
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "16LM9AzA054gAQ0J9qIF4",
      "type": "text",
      "x": 1091.6389441351503,
      "y": 501.9961729704837,
      "width": 76.11993408203125,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b09",
      "roundness": null,
      "seed": 1503167645,
      "version": 10,
      "versionNonce": 427742301,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763726963110,
      "link": null,
      "locked": false,
      "text": "/regular",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "4Cnogm8QayY_PC28QbFZD",
      "originalText": "/regular",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "JkbybNx8Ht7CwjG5k66Km",
      "type": "rectangle",
      "x": 1334.8425710983483,
      "y": 374.95679318256407,
      "width": 179.11019650831054,
      "height": 71.85237491185228,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0B",
      "roundness": {
        "type": 3
      },
      "seed": 462950291,
      "version": 137,
      "versionNonce": 1243305267,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "L0wd-fQjfsA2NU7TaoBEI"
        },
        {
          "id": "axk0CTuBKrv_839OW5nOU",
          "type": "arrow"
        },
        {
          "id": "FKIBShZvEPiUE_RKbZvoy",
          "type": "arrow"
        },
        {
          "id": "xhGqKFpIYFFAoj6b0zIn1",
          "type": "arrow"
        },
        {
          "id": "ioY3R0a5KTRH0PciUnWsU",
          "type": "arrow"
        }
      ],
      "updated": 1763729051308,
      "link": null,
      "locked": false
    },
    {
      "id": "L0wd-fQjfsA2NU7TaoBEI",
      "type": "text",
      "x": 1372.3477197065074,
      "y": 398.3829806384902,
      "width": 104.09989929199219,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0BV",
      "roundness": null,
      "seed": 692100883,
      "version": 90,
      "versionNonce": 2063398611,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763727076841,
      "link": null,
      "locked": false,
      "text": "file service",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "JkbybNx8Ht7CwjG5k66Km",
      "originalText": "file service",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "axk0CTuBKrv_839OW5nOU",
      "type": "arrow",
      "x": 1165.9003026855007,
      "y": 73.10551538709876,
      "width": 227.4380676698463,
      "height": 301.457861984038,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0D",
      "roundness": {
        "type": 2
      },
      "seed": 1196920275,
      "version": 115,
      "versionNonce": 620319485,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "_IlpGmypFCvNSMX4zKGst"
        }
      ],
      "updated": 1763727599664,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          227.4380676698463,
          301.457861984038
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "LvlG893BzdjarvIsLrWub",
        "focus": -0.2576121320436844,
        "gap": 1.6348461385589634
      },
      "endBinding": {
        "elementId": "JkbybNx8Ht7CwjG5k66Km",
        "focus": -0.030981846071858585,
        "gap": 1.0413226469897836
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "_IlpGmypFCvNSMX4zKGst",
      "type": "text",
      "x": 1211.809377108803,
      "y": 211.33444637911776,
      "width": 135.6199188232422,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0DV",
      "roundness": null,
      "seed": 1714930909,
      "version": 110,
      "versionNonce": 742338205,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763727598999,
      "link": null,
      "locked": false,
      "text": "have deployed",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "axk0CTuBKrv_839OW5nOU",
      "originalText": "have deployed",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "GBrz2c4tGekVMQClo4WFA",
      "type": "ellipse",
      "x": 1376.147324451783,
      "y": 580.1985075550323,
      "width": 135.3740097521354,
      "height": 85,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0F",
      "roundness": {
        "type": 2
      },
      "seed": 1095319709,
      "version": 117,
      "versionNonce": 1549100531,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "vBr7CScasA4fLDC5TY7yv"
        },
        {
          "id": "FKIBShZvEPiUE_RKbZvoy",
          "type": "arrow"
        }
      ],
      "updated": 1763729060270,
      "link": null,
      "locked": false
    },
    {
      "id": "vBr7CScasA4fLDC5TY7yv",
      "type": "text",
      "x": 1413.0624084078506,
      "y": 597.646469354604,
      "width": 61.81996154785156,
      "height": 50,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0G",
      "roundness": null,
      "seed": 953902995,
      "version": 66,
      "versionNonce": 725233555,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763729060270,
      "link": null,
      "locked": false,
      "text": "upload\nimage",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "GBrz2c4tGekVMQClo4WFA",
      "originalText": "upload image",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "FKIBShZvEPiUE_RKbZvoy",
      "type": "arrow",
      "x": 1428.4600204224103,
      "y": 448.77271144998406,
      "width": 16.981630385181006,
      "height": 130.43770784122648,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0H",
      "roundness": {
        "type": 2
      },
      "seed": 2092511837,
      "version": 53,
      "versionNonce": 34915635,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763729060270,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          16.981630385181006,
          130.43770784122648
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "JkbybNx8Ht7CwjG5k66Km",
        "focus": 0.013498739181171867,
        "gap": 4.946342159070582
      },
      "endBinding": {
        "elementId": "GBrz2c4tGekVMQClo4WFA",
        "focus": 0.09684945992774653,
        "gap": 1
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "BQeqKS3uMgcqv21B0b2WO",
      "type": "ellipse",
      "x": 1551.5454125535346,
      "y": 505.2347918395676,
      "width": 148.91144250647937,
      "height": 156,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0J",
      "roundness": {
        "type": 2
      },
      "seed": 1013048371,
      "version": 177,
      "versionNonce": 343312755,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "0zxYh8sVYk4qns-B_GL23"
        },
        {
          "id": "xhGqKFpIYFFAoj6b0zIn1",
          "type": "arrow"
        }
      ],
      "updated": 1763729059367,
      "link": null,
      "locked": false
    },
    {
      "id": "0zxYh8sVYk4qns-B_GL23",
      "type": "text",
      "x": 1578.5530235056879,
      "y": 558.0804629070169,
      "width": 94.59992980957031,
      "height": 50,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0K",
      "roundness": null,
      "seed": 1248427325,
      "version": 260,
      "versionNonce": 443212563,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763729059367,
      "link": null,
      "locked": false,
      "text": "phalform\noperators",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "BQeqKS3uMgcqv21B0b2WO",
      "originalText": "phalform operators",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "xhGqKFpIYFFAoj6b0zIn1",
      "type": "arrow",
      "x": 1487.4560399079328,
      "y": 448.1275651011955,
      "width": 94.24557951905626,
      "height": 67.33117430562379,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0L",
      "roundness": {
        "type": 2
      },
      "seed": 769448637,
      "version": 160,
      "versionNonce": 1071843507,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763729059367,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          94.24557951905626,
          67.33117430562379
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "JkbybNx8Ht7CwjG5k66Km",
        "focus": -0.08597572172960569,
        "gap": 3.3843581885859066
      },
      "endBinding": {
        "elementId": "BQeqKS3uMgcqv21B0b2WO",
        "focus": 0.2785826108084601,
        "gap": 4.080235814513994
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "Zcd9XP7Oe81IK6lf6_SN4",
      "type": "rectangle",
      "x": 1526.436385604753,
      "y": 162.13770214812612,
      "width": 193.287331451,
      "height": 88.96144624379556,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0M",
      "roundness": {
        "type": 3
      },
      "seed": 986374269,
      "version": 292,
      "versionNonce": 1986749744,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "xNFfdhSYfdzaTvrbOQBlE"
        },
        {
          "id": "NXw1oznSCMcFxLzHUTu_r",
          "type": "arrow"
        },
        {
          "id": "-mxoQbG-iP3UnaQ_dezaK",
          "type": "arrow"
        },
        {
          "id": "hDF5Mwcs44peGvkeLlDZ3",
          "type": "arrow"
        },
        {
          "id": "5y7nGwQoepOXwWtIE7IQe",
          "type": "arrow"
        }
      ],
      "updated": 1764656681969,
      "link": null,
      "locked": false
    },
    {
      "id": "xNFfdhSYfdzaTvrbOQBlE",
      "type": "text",
      "x": 1548.4701117550576,
      "y": 194.1184252700239,
      "width": 149.21987915039062,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0MG",
      "roundness": null,
      "seed": 1873212467,
      "version": 270,
      "versionNonce": 1210531632,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1764656681969,
      "link": null,
      "locked": false,
      "text": "product service",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "Zcd9XP7Oe81IK6lf6_SN4",
      "originalText": "product service",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "UW-f3eMZBSCcx5lXyOxkU",
      "type": "ellipse",
      "x": -213.10713965614332,
      "y": 288.00512071762114,
      "width": 244.71459581431137,
      "height": 154.11813518925354,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0P",
      "roundness": {
        "type": 2
      },
      "seed": 1987856403,
      "version": 146,
      "versionNonce": 1742042291,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "D3eyOn73QtjVPWa2rCHvk"
        },
        {
          "id": "YG3wyzx0tM5YNDUfp33IT",
          "type": "arrow"
        }
      ],
      "updated": 1763727785855,
      "link": null,
      "locked": false
    },
    {
      "id": "D3eyOn73QtjVPWa2rCHvk",
      "type": "text",
      "x": -161.8394631158625,
      "y": 340.07519906417474,
      "width": 142.139892578125,
      "height": 50,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0Q",
      "roundness": null,
      "seed": 182656883,
      "version": 105,
      "versionNonce": 1363830355,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763727785855,
      "link": null,
      "locked": false,
      "text": "authentication\nauthorization",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "UW-f3eMZBSCcx5lXyOxkU",
      "originalText": "authentication\nauthorization",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "YG3wyzx0tM5YNDUfp33IT",
      "type": "arrow",
      "x": 165.568713314241,
      "y": 408.8773987776926,
      "width": 123.04232719975978,
      "height": 25.612314118200175,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0R",
      "roundness": {
        "type": 2
      },
      "seed": 1248503037,
      "version": 96,
      "versionNonce": 1315972083,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763727785855,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -123.04232719975978,
          -25.612314118200175
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "8d06N7jqD533BRKEJbnnh",
        "focus": 0.1096787454336217,
        "gap": 1.7821969795985844
      },
      "endBinding": {
        "elementId": "UW-f3eMZBSCcx5lXyOxkU",
        "focus": -0.09211966624408757,
        "gap": 13.683563988091683
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "NXw1oznSCMcFxLzHUTu_r",
      "type": "arrow",
      "x": 1183.8825443289074,
      "y": 41.18416871388363,
      "width": 365.1703778781291,
      "height": 120.17805343311085,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0S",
      "roundness": {
        "type": 2
      },
      "seed": 554853949,
      "version": 190,
      "versionNonce": 1767364912,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "VzEWZFlHZhtZ42gGiK_on"
        }
      ],
      "updated": 1764656681970,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          365.1703778781291,
          120.17805343311085
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "LvlG893BzdjarvIsLrWub",
        "focus": -0.09885286638317053,
        "gap": 1.1005790241694833
      },
      "endBinding": {
        "elementId": "Zcd9XP7Oe81IK6lf6_SN4",
        "focus": 0.27346935942962225,
        "gap": 1.8223344941884534
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "VzEWZFlHZhtZ42gGiK_on",
      "type": "text",
      "x": 1444.4679109727435,
      "y": 183.4570789099808,
      "width": 97.25991821289062,
      "height": 50,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0SV",
      "roundness": null,
      "seed": 1298977021,
      "version": 19,
      "versionNonce": 526801949,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763727663856,
      "link": null,
      "locked": false,
      "text": "8084\n/products",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "NXw1oznSCMcFxLzHUTu_r",
      "originalText": "8084\n/products",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "XK4ImH4bYm2RxoWB2kmZa",
      "type": "ellipse",
      "x": 1832.081801751131,
      "y": 588.170802928699,
      "width": 140.5807818827352,
      "height": 96.84451567873475,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0U",
      "roundness": {
        "type": 2
      },
      "seed": 657493875,
      "version": 101,
      "versionNonce": 2046270963,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "hXxcD-o2_Dz-sN2GPNFgH"
        },
        {
          "id": "-mxoQbG-iP3UnaQ_dezaK",
          "type": "arrow"
        },
        {
          "id": "VzeEdXCnUYYcVzugYnpDZ",
          "type": "arrow"
        }
      ],
      "updated": 1763727938623,
      "link": null,
      "locked": false
    },
    {
      "id": "hXxcD-o2_Dz-sN2GPNFgH",
      "type": "text",
      "x": 1864.5794071558971,
      "y": 623.8533538894862,
      "width": 75.17994689941406,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0V",
      "roundness": null,
      "seed": 1790062173,
      "version": 64,
      "versionNonce": 632001043,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763727928808,
      "link": null,
      "locked": false,
      "text": "product",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "XK4ImH4bYm2RxoWB2kmZa",
      "originalText": "product",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "-mxoQbG-iP3UnaQ_dezaK",
      "type": "arrow",
      "x": 1640.4491715849804,
      "y": 251.5881892743097,
      "width": 239.095172594343,
      "height": 331.0290816072177,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0W",
      "roundness": {
        "type": 2
      },
      "seed": 1685203677,
      "version": 174,
      "versionNonce": 224736048,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "0U7bff-nDpeOs8MNxM0Nz"
        }
      ],
      "updated": 1764656681970,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          239.095172594343,
          331.0290816072177
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "Zcd9XP7Oe81IK6lf6_SN4",
        "focus": 0.11758417489335948,
        "gap": 1.1564975619663187
      },
      "endBinding": {
        "elementId": "XK4ImH4bYm2RxoWB2kmZa",
        "focus": 0.15218396287674993,
        "gap": 8.005159393411544
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "0U7bff-nDpeOs8MNxM0Nz",
      "type": "text",
      "x": 1846.2316136837683,
      "y": 492.9905821574515,
      "width": 32.21998596191406,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0WV",
      "roundness": null,
      "seed": 1347275101,
      "version": 5,
      "versionNonce": 533942077,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763727934755,
      "link": null,
      "locked": false,
      "text": "/**",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "-mxoQbG-iP3UnaQ_dezaK",
      "originalText": "/**",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "6AIdpkCzWQDaAD8yKu-fR",
      "type": "ellipse",
      "x": -163.38320864608374,
      "y": 698.8131018854813,
      "width": 126.00198675748902,
      "height": 71.85245435967772,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0a",
      "roundness": {
        "type": 2
      },
      "seed": 435964947,
      "version": 69,
      "versionNonce": 143804467,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "EnfUgmTqy_vmuX6sZ7kBV"
        },
        {
          "id": "ICxlk2rTS5Jm8H_J8Ybvr",
          "type": "arrow"
        }
      ],
      "updated": 1763727840633,
      "link": null,
      "locked": false
    },
    {
      "id": "EnfUgmTqy_vmuX6sZ7kBV",
      "type": "text",
      "x": -129.18062201875466,
      "y": 722.3356502040076,
      "width": 57.49995422363281,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0b",
      "roundness": null,
      "seed": 2003896253,
      "version": 8,
      "versionNonce": 22002365,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763727838565,
      "link": null,
      "locked": false,
      "text": "CRUD",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "6AIdpkCzWQDaAD8yKu-fR",
      "originalText": "CRUD",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "ICxlk2rTS5Jm8H_J8Ybvr",
      "type": "arrow",
      "x": -24.88519122906621,
      "y": 618.6300266259724,
      "width": 49.98416236202672,
      "height": 85.38976794228336,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0c",
      "roundness": {
        "type": 2
      },
      "seed": 1919496499,
      "version": 47,
      "versionNonce": 854440435,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "HL-Oj6VqJ27R4UXd3FV_z"
        }
      ],
      "updated": 1763727853018,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -49.98416236202672,
          85.38976794228336
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "X45wfXdd_u5dyrHgpcmuB",
        "focus": -0.1076845009633605,
        "gap": 1.203217976123042
      },
      "endBinding": {
        "elementId": "6AIdpkCzWQDaAD8yKu-fR",
        "focus": 0.08961851597130219,
        "gap": 2.0627326352044695
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "HL-Oj6VqJ27R4UXd3FV_z",
      "type": "text",
      "x": -107.25723914591941,
      "y": 648.824910597114,
      "width": 114.75993347167969,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0cV",
      "roundness": null,
      "seed": 1529579219,
      "version": 28,
      "versionNonce": 725793875,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763727848582,
      "link": null,
      "locked": false,
      "text": "role = admin",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "ICxlk2rTS5Jm8H_J8Ybvr",
      "originalText": "role = admin",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "0WfQNgvh9kXlGG-msw_LS",
      "type": "ellipse",
      "x": 45.64093979034487,
      "y": 730.2296642973303,
      "width": 102.05120836150911,
      "height": 93.33066062374382,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0e",
      "roundness": {
        "type": 2
      },
      "seed": 866648979,
      "version": 113,
      "versionNonce": 1411260733,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "s3puwGVZFlpT8_x4aLnye"
        },
        {
          "id": "eScT9cxf17gGiV0ghSKGF",
          "type": "arrow"
        }
      ],
      "updated": 1763728980819,
      "link": null,
      "locked": false
    },
    {
      "id": "s3puwGVZFlpT8_x4aLnye",
      "type": "text",
      "x": 67.83601612893082,
      "y": 764.3976230993674,
      "width": 57.49995422363281,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0f",
      "roundness": null,
      "seed": 1493988179,
      "version": 82,
      "versionNonce": 1705046429,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763728980819,
      "link": null,
      "locked": false,
      "text": "CRUD",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "0WfQNgvh9kXlGG-msw_LS",
      "originalText": "CRUD",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "eScT9cxf17gGiV0ghSKGF",
      "type": "arrow",
      "x": 107.65320697251221,
      "y": 678.2234689855352,
      "width": 1.38676883186929,
      "height": 43.922564451551125,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0g",
      "roundness": {
        "type": 2
      },
      "seed": 1815339667,
      "version": 121,
      "versionNonce": 2063781149,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "c8CjOIYOsDfASNu3FoB02"
        }
      ],
      "updated": 1763728998937,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -1.38676883186929,
          43.922564451551125
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "bYI7bDFLlCBVyY6HbbQvZ",
        "focus": 0.12073404909497647,
        "gap": 3.311449014757649
      },
      "endBinding": {
        "elementId": "0WfQNgvh9kXlGG-msw_LS",
        "focus": 0.14285803258217616,
        "gap": 8.802347051496067
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "c8CjOIYOsDfASNu3FoB02",
      "type": "text",
      "x": 129.1265967348661,
      "y": 680.5857280172556,
      "width": 114.75993347167969,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0h",
      "roundness": null,
      "seed": 1794186589,
      "version": 16,
      "versionNonce": 1088176989,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763727864938,
      "link": null,
      "locked": false,
      "text": "role = admin",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "eScT9cxf17gGiV0ghSKGF",
      "originalText": "role = admin",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "Q2WRNpAENBeiUIN2R4dYB",
      "type": "ellipse",
      "x": 171.69382186030117,
      "y": 815.569998648643,
      "width": 102.05120836150911,
      "height": 93.33066062374382,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0i",
      "roundness": {
        "type": 2
      },
      "seed": 1128291603,
      "version": 167,
      "versionNonce": 964171869,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "TYGGJ_AzUY1ahjo3OggdQ"
        },
        {
          "id": "p2TUuUmKbJqKEH-mGT9u4",
          "type": "arrow"
        }
      ],
      "updated": 1763729000430,
      "link": null,
      "locked": false
    },
    {
      "id": "TYGGJ_AzUY1ahjo3OggdQ",
      "type": "text",
      "x": 193.8888981988871,
      "y": 849.7379574506801,
      "width": 57.49995422363281,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0j",
      "roundness": null,
      "seed": 1677279923,
      "version": 136,
      "versionNonce": 1995375805,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763729000430,
      "link": null,
      "locked": false,
      "text": "CRUD",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "Q2WRNpAENBeiUIN2R4dYB",
      "originalText": "CRUD",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "p2TUuUmKbJqKEH-mGT9u4",
      "type": "arrow",
      "x": 249.7585176544417,
      "y": 749.4285127850593,
      "width": 22.932652815756313,
      "height": 64.01100050093396,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0k",
      "roundness": {
        "type": 2
      },
      "seed": 1646508339,
      "version": 218,
      "versionNonce": 1401513245,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "iTAun964CF58dv1MputfS"
        }
      ],
      "updated": 1763729000430,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -22.932652815756313,
          64.01100050093396
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "aL1U9mqpbNdfMeYZwT07v",
        "focus": -0.016088373760774318,
        "gap": 3.0824351232386014
      },
      "endBinding": {
        "elementId": "Q2WRNpAENBeiUIN2R4dYB",
        "focus": -0.2022087856871351,
        "gap": 2.275944899730095
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "iTAun964CF58dv1MputfS",
      "type": "text",
      "x": 320.73286362661787,
      "y": 681.6270506642454,
      "width": 114.75993347167969,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0l",
      "roundness": null,
      "seed": 1413860851,
      "version": 16,
      "versionNonce": 628230131,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763727877299,
      "link": null,
      "locked": false,
      "text": "role = admin",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "p2TUuUmKbJqKEH-mGT9u4",
      "originalText": "role = admin",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "VzeEdXCnUYYcVzugYnpDZ",
      "type": "arrow",
      "x": 1908.0994672509437,
      "y": 673.8209611185989,
      "width": 12.496110107353616,
      "height": 115.58864111585285,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0m",
      "roundness": {
        "type": 2
      },
      "seed": 880387667,
      "version": 74,
      "versionNonce": 345101747,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "M2Uzyzu5W1VdWS2W8ENOt"
        }
      ],
      "updated": 1763728100814,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          12.496110107353616,
          115.58864111585285
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "XK4ImH4bYm2RxoWB2kmZa",
        "focus": -0.022543766713187405,
        "gap": 11.013767928621046
      },
      "endBinding": {
        "elementId": "10c8Lcwnqup51j0GfvdX_",
        "focus": 0.04606164287723089,
        "gap": 7.287499891116097
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "M2Uzyzu5W1VdWS2W8ENOt",
      "type": "text",
      "x": 1810.2775836449525,
      "y": 719.1152816765253,
      "width": 208.13987731933594,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0mV",
      "roundness": null,
      "seed": 2130382109,
      "version": 56,
      "versionNonce": 1512190355,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763728095099,
      "link": null,
      "locked": false,
      "text": "role = admin || tenant",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "VzeEdXCnUYYcVzugYnpDZ",
      "originalText": "role = admin || tenant",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "10c8Lcwnqup51j0GfvdX_",
      "type": "ellipse",
      "x": 1845.3588045339466,
      "y": 782.1201848098723,
      "width": 148.91144250647903,
      "height": 66.64576167690325,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0n",
      "roundness": {
        "type": 2
      },
      "seed": 1480904477,
      "version": 38,
      "versionNonce": 263129171,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "VzeEdXCnUYYcVzugYnpDZ",
          "type": "arrow"
        },
        {
          "type": "text",
          "id": "vcCMgbf7lS2gqhMGhFpXF"
        }
      ],
      "updated": 1763727943387,
      "link": null,
      "locked": false
    },
    {
      "id": "vcCMgbf7lS2gqhMGhFpXF",
      "type": "text",
      "x": 1890.9164032790686,
      "y": 802.8802306387835,
      "width": 57.49995422363281,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0o",
      "roundness": null,
      "seed": 915792381,
      "version": 16,
      "versionNonce": 2045411923,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763727948112,
      "link": null,
      "locked": false,
      "text": "CRUD",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "10c8Lcwnqup51j0GfvdX_",
      "originalText": "CRUD",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "4uxhLyM4ekOS2p6cqnqbu",
      "type": "text",
      "x": -26.83713424081577,
      "y": 88.90174099213357,
      "width": 480.2596435546875,
      "height": 75,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0p",
      "roundness": null,
      "seed": 1501114003,
      "version": 435,
      "versionNonce": 611726308,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763729373138,
      "link": null,
      "locked": false,
      "text": "Note: Need emit/subscribe events among service: \n- option (using): http api \n- optional:  send event queue",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Note: Need emit/subscribe events among service: \n- option (using): http api \n- optional:  send event queue",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "MfX4lPE1ph_ozB5reiezt",
      "type": "ellipse",
      "x": 2118.260878114791,
      "y": 594.7632535575472,
      "width": 137.30522142271002,
      "height": 93.94564154282659,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0q",
      "roundness": {
        "type": 2
      },
      "seed": 1833567955,
      "version": 53,
      "versionNonce": 1920855773,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "kavSzvRevLMxMIhUG5bwz"
        },
        {
          "id": "hDF5Mwcs44peGvkeLlDZ3",
          "type": "arrow"
        }
      ],
      "updated": 1763728877889,
      "link": null,
      "locked": false
    },
    {
      "id": "kavSzvRevLMxMIhUG5bwz",
      "type": "text",
      "x": 2159.4687836082912,
      "y": 629.0212742300338,
      "width": 54.799957275390625,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0r",
      "roundness": null,
      "seed": 998403581,
      "version": 10,
      "versionNonce": 622233021,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763728876358,
      "link": null,
      "locked": false,
      "text": "detail",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "MfX4lPE1ph_ozB5reiezt",
      "originalText": "detail",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "hDF5Mwcs44peGvkeLlDZ3",
      "type": "arrow",
      "x": 1722.5236749711462,
      "y": 237.72790939645466,
      "width": 436.03356204050806,
      "height": 353.36692981204243,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0s",
      "roundness": {
        "type": 2
      },
      "seed": 1012135475,
      "version": 137,
      "versionNonce": 985091376,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "9ibmMR48D8GwyePMGGJoB"
        }
      ],
      "updated": 1764656681970,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          436.03356204050806,
          353.36692981204243
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "Zcd9XP7Oe81IK6lf6_SN4",
        "focus": -0.40275642464678385,
        "gap": 3.882633508571871
      },
      "endBinding": {
        "elementId": "MfX4lPE1ph_ozB5reiezt",
        "focus": 0.2687559835551866,
        "gap": 7.582770991458782
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "9ibmMR48D8GwyePMGGJoB",
      "type": "text",
      "x": 2012.5715444137322,
      "y": 503.67405809910383,
      "width": 75.87992858886719,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0t",
      "roundness": null,
      "seed": 2044934323,
      "version": 10,
      "versionNonce": 1297057011,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763728882764,
      "link": null,
      "locked": false,
      "text": "/details",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "hDF5Mwcs44peGvkeLlDZ3",
      "originalText": "/details",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "H5-7zw9EExY_yeRNjFXrH",
      "type": "rectangle",
      "x": 669.3199946028931,
      "y": 1164.8998830852152,
      "width": 915.9704874696256,
      "height": 354.10312082212624,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0y",
      "roundness": {
        "type": 3
      },
      "seed": 924414323,
      "version": 206,
      "versionNonce": 297507044,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "LTvak5GckUvsw2U2ZSSDv",
          "type": "arrow"
        },
        {
          "id": "4-iUjGkp20BQnAoNYMayH",
          "type": "arrow"
        },
        {
          "id": "uYcVWQlexH5cNs4YhdGWF",
          "type": "arrow"
        },
        {
          "id": "ioY3R0a5KTRH0PciUnWsU",
          "type": "arrow"
        },
        {
          "id": "5y7nGwQoepOXwWtIE7IQe",
          "type": "arrow"
        }
      ],
      "updated": 1763729466118,
      "link": null,
      "locked": false
    },
    {
      "id": "WoMraU6DFE7HC3u8PUylt",
      "type": "text",
      "x": 1000.0321096227503,
      "y": 1293.187307529493,
      "width": 235.7999267578125,
      "height": 90,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0z",
      "roundness": null,
      "seed": 66374685,
      "version": 291,
      "versionNonce": 299146724,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763729466118,
      "link": null,
      "locked": false,
      "text": "Event service\n(send event)",
      "fontSize": 36,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Event service\n(send event)",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "LTvak5GckUvsw2U2ZSSDv",
      "type": "arrow",
      "x": 249.27921807141948,
      "y": 463.2703765945375,
      "width": 421.59905959867103,
      "height": 710.9504186535833,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b12",
      "roundness": {
        "type": 2
      },
      "seed": 526121757,
      "version": 207,
      "versionNonce": 941546596,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763729466118,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          421.59905959867103,
          710.9504186535833
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "8d06N7jqD533BRKEJbnnh",
        "focus": -0.03277286883365537,
        "gap": 3.121254269861595
      },
      "endBinding": {
        "elementId": "H5-7zw9EExY_yeRNjFXrH",
        "focus": -0.6339912717113805,
        "gap": 4.2937800372502
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "4-iUjGkp20BQnAoNYMayH",
      "type": "arrow",
      "x": 603.3848626795464,
      "y": 473.8854144089322,
      "width": 151.8049793298337,
      "height": 690.217289281786,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b13",
      "roundness": {
        "type": 2
      },
      "seed": 322672413,
      "version": 396,
      "versionNonce": 1213050852,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763729466118,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          151.8049793298337,
          690.217289281786
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "7OYE6zKNwzvaRtB_XTxGk",
        "focus": -0.1708560695159653,
        "gap": 1.3733612481605633
      },
      "endBinding": {
        "elementId": "H5-7zw9EExY_yeRNjFXrH",
        "focus": -0.6700399183528375,
        "gap": 2.196367917607404
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "uYcVWQlexH5cNs4YhdGWF",
      "type": "arrow",
      "x": 941.3847212201279,
      "y": 456.240898454199,
      "width": 14.249568744349972,
      "height": 707.0022779058404,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b15",
      "roundness": {
        "type": 2
      },
      "seed": 1852693907,
      "version": 103,
      "versionNonce": 576066404,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763729466118,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          14.249568744349972,
          707.0022779058404
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "K6nRfmMDCG6bo6vMErQy6",
        "focus": 0.23431470155712789,
        "gap": 6.194014865006466
      },
      "endBinding": {
        "elementId": "H5-7zw9EExY_yeRNjFXrH",
        "focus": -0.3640872420200269,
        "gap": 4.5333924614058105
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "ioY3R0a5KTRH0PciUnWsU",
      "type": "arrow",
      "x": 1386.2884984635657,
      "y": 448.9997937597571,
      "width": 124.59393537158826,
      "height": 714.8786729589509,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b16",
      "roundness": {
        "type": 2
      },
      "seed": 1744414205,
      "version": 91,
      "versionNonce": 1954940644,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763729466118,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -124.59393537158826,
          714.8786729589509
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "JkbybNx8Ht7CwjG5k66Km",
        "focus": 0.3268901075130577,
        "gap": 5.484141124130019
      },
      "endBinding": {
        "elementId": "H5-7zw9EExY_yeRNjFXrH",
        "focus": 0.2115081055290868,
        "gap": 2.809098747266262
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "5y7nGwQoepOXwWtIE7IQe",
      "type": "arrow",
      "x": 1607.2451530684787,
      "y": 252.78629745015655,
      "width": 211.04049957196366,
      "height": 908.1903500409301,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b17",
      "roundness": {
        "type": 2
      },
      "seed": 388614301,
      "version": 141,
      "versionNonce": 1790322480,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1764656681970,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -211.04049957196366,
          908.1903500409301
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "Zcd9XP7Oe81IK6lf6_SN4",
        "focus": 0.04797112693725852,
        "gap": 3.891292501928774
      },
      "endBinding": {
        "elementId": "H5-7zw9EExY_yeRNjFXrH",
        "focus": 0.4538837402669119,
        "gap": 10.554407758876096
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "rHehSERxH_Z7FLb1wwAwv",
      "type": "text",
      "x": 937.6705616739096,
      "y": -269.0491079700531,
      "width": 303.5518798828125,
      "height": 45,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b1D",
      "roundness": null,
      "seed": 314510556,
      "version": 118,
      "versionNonce": 1902366308,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1763729503277,
      "link": null,
      "locked": false,
      "text": "Smart restaurant",
      "fontSize": 36,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Smart restaurant",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "cFGVOj5cxvyvnWW5wsmEX",
      "type": "rectangle",
      "x": 2009.2091780369806,
      "y": 164.02933308101382,
      "width": 208.92583580563496,
      "height": 86.29546521918587,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b1E",
      "roundness": {
        "type": 3
      },
      "seed": 147339056,
      "version": 271,
      "versionNonce": 1965976880,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "itSvkIFyEQ0rrwN0v0do8"
        },
        {
          "id": "68a8yoGjdoKYGg07rK5yA",
          "type": "arrow"
        },
        {
          "id": "nXLCHQMjClJ7HOMDHi2mZ",
          "type": "arrow"
        }
      ],
      "updated": 1764656738082,
      "link": null,
      "locked": false
    },
    {
      "id": "itSvkIFyEQ0rrwN0v0do8",
      "type": "text",
      "x": 2070.5421368333527,
      "y": 194.67706569060675,
      "width": 86.25991821289062,
      "height": 25,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b1F",
      "roundness": null,
      "seed": 1483410224,
      "version": 199,
      "versionNonce": 1115316528,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1764656712828,
      "link": null,
      "locked": false,
      "text": "statistic",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "cFGVOj5cxvyvnWW5wsmEX",
      "originalText": "statistic",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "68a8yoGjdoKYGg07rK5yA",
      "type": "arrow",
      "x": 1184.0962094559543,
      "y": -8.472985916624893,
      "width": 822.8782035674597,
      "height": 184.64398497165712,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b1H",
      "roundness": {
        "type": 2
      },
      "seed": 1696208688,
      "version": 397,
      "versionNonce": 740221744,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "vP4rSVvnfYNx8-0_7RYAl"
        }
      ],
      "updated": 1764656727471,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          822.8782035674597,
          184.64398497165712
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "LvlG893BzdjarvIsLrWub",
        "focus": -0.6476934599030255,
        "gap": 1.3497137033023137
      },
      "endBinding": {
        "elementId": "cFGVOj5cxvyvnWW5wsmEX",
        "focus": 0.10605021981459084,
        "gap": 3.456770056479338
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "vP4rSVvnfYNx8-0_7RYAl",
      "type": "text",
      "x": 1541.3653664765006,
      "y": 58.84900656920365,
      "width": 108.33988952636719,
      "height": 50,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b1I",
      "roundness": null,
      "seed": 654320080,
      "version": 31,
      "versionNonce": 1851841488,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1764656726436,
      "link": null,
      "locked": false,
      "text": "8085\n/statistics",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "68a8yoGjdoKYGg07rK5yA",
      "originalText": "8085\n/statistics",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "nXLCHQMjClJ7HOMDHi2mZ",
      "type": "arrow",
      "x": 2165.2918397994995,
      "y": 251.27058145117311,
      "width": 211.6709306085918,
      "height": 336.1322438599322,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b1J",
      "roundness": {
        "type": 2
      },
      "seed": 1684188624,
      "version": 187,
      "versionNonce": 1508430640,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1764656751745,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          211.6709306085918,
          336.1322438599322
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "cFGVOj5cxvyvnWW5wsmEX",
        "focus": -0.17790201729145258,
        "gap": 2.4118202734929923
      },
      "endBinding": {
        "elementId": "b4YACEU0tALYNZIloucoG",
        "focus": 0.06265059159527729,
        "gap": 3.130952869683263
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "b4YACEU0tALYNZIloucoG",
      "type": "ellipse",
      "x": 2292.8646497109116,
      "y": 589.6820775667,
      "width": 209.27165261492934,
      "height": 120,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b1K",
      "roundness": {
        "type": 2
      },
      "seed": 3539920,
      "version": 180,
      "versionNonce": 65778128,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "nXLCHQMjClJ7HOMDHi2mZ",
          "type": "arrow"
        },
        {
          "type": "text",
          "id": "1_b35lAXQVv10NPLwrWHE"
        }
      ],
      "updated": 1764656775928,
      "link": null,
      "locked": false
    },
    {
      "id": "1_b35lAXQVv10NPLwrWHE",
      "type": "text",
      "x": 2329.071824645666,
      "y": 612.2556706955071,
      "width": 136.87989807128906,
      "height": 75,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b1KV",
      "roundness": null,
      "seed": 1098220496,
      "version": 153,
      "versionNonce": 1555764528,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1764656777550,
      "link": null,
      "locked": false,
      "text": "Get\ninformation\ninto database",
      "fontSize": 20,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "b4YACEU0tALYNZIloucoG",
      "originalText": "Get information into database",
      "autoResize": true,
      "lineHeight": 1.25
    }
  ],
  "appState": {
    "gridSize": 20,
    "gridStep": 5,
    "gridModeEnabled": false,
    "viewBackgroundColor": "#f5faff"
  },
  "files": {}
}
</file>

<file path="src/backend/api-gateway/.env.example">
PORT=8888


IDENTITY_SERVICE_URL=http://localhost:8080
HOST_IDENTITY_SERVICE=localhost
PORT_IDENTITY_SERVICE=8080

X_API_KEY=
JWT_SECRET_KEY=
JWT_EXPIRES_REFRESH_IN=36000
JWT_EXPIRES_IN=3600

IDENTITY_API_KEY=lethanhcong
PROFILE_API_KEY=lethanhcong

MOD=development
</file>

<file path="src/backend/api-gateway/package.json">
{
  "name": "api-gateway",
  "version": "0.0.1",
  "description": "",
  "author": "",
  "private": true,
  "license": "UNLICENSED",
  "scripts": {
    "build": "nest build",
    "format": "prettier --write \"src/**/*.ts\" \"test/**/*.ts\"",
    "start": "nest start",
    "start:dev": "nest start --watch",
    "start:debug": "nest start --debug --watch",
    "start:prod": "node dist/api-gateway/src/main",
    "lint": "eslint \"{src,apps,libs,test}/**/*.ts\" --fix",
    "test": "jest",
    "test:watch": "jest --watch",
    "test:cov": "jest --coverage",
    "test:debug": "node --inspect-brk -r tsconfig-paths/register -r ts-node/register node_modules/.bin/jest --runInBand",
    "test:e2e": "jest --config ./test/jest-e2e.json"
  },
  "dependencies": {
    "@nestjs/common": "^11.0.1",
    "@nestjs/config": "^4.0.2",
    "@nestjs/core": "^11.0.1",
    "@nestjs/jwt": "^11.0.1",
    "@nestjs/microservices": "^11.1.9",
    "@nestjs/passport": "^11.0.5",
    "@nestjs/platform-express": "^11.0.1",
    "amqplib": "^0.10.9",
    "class-validator": "^0.14.2",
    "cookie-parser": "^1.4.7",
    "dotenv": "^17.2.3",
    "express": "^5.1.0",
    "nest-winston": "^1.10.2",
    "passport": "^0.7.0",
    "passport-jwt": "^4.0.1",
    "reflect-metadata": "^0.2.2",
    "rxjs": "^7.8.1",
    "winston": "^3.18.3",
    "winston-daily-rotate-file": "^5.0.0"
  },
  "devDependencies": {
    "@eslint/eslintrc": "^3.2.0",
    "@eslint/js": "^9.18.0",
    "@nestjs/cli": "^11.0.0",
    "@nestjs/schematics": "^11.0.0",
    "@nestjs/testing": "^11.0.1",
    "@types/express": "^5.0.0",
    "@types/jest": "^30.0.0",
    "@types/node": "^22.10.7",
    "@types/passport-jwt": "^4.0.1",
    "@types/supertest": "^6.0.2",
    "eslint": "^9.18.0",
    "eslint-config-prettier": "^10.0.1",
    "eslint-plugin-prettier": "^5.2.2",
    "globals": "^16.0.0",
    "jest": "^30.0.0",
    "prettier": "^3.4.2",
    "source-map-support": "^0.5.21",
    "supertest": "^7.0.0",
    "ts-jest": "^29.2.5",
    "ts-loader": "^9.5.2",
    "ts-node": "^10.9.2",
    "tsconfig-paths": "^4.2.0",
    "typescript": "^5.7.3",
    "typescript-eslint": "^8.20.0"
  },
  "jest": {
    "moduleFileExtensions": [
      "js",
      "json",
      "ts"
    ],
    "rootDir": "src",
    "testRegex": ".*\\.spec\\.ts$",
    "transform": {
      "^.+\\.(t|j)s$": "ts-jest"
    },
    "collectCoverageFrom": [
      "**/*.(t|j)s"
    ],
    "coverageDirectory": "../coverage",
    "testEnvironment": "node"
  }
}
</file>

<file path="src/backend/api-gateway/src/main.ts">
import { NestFactory } from '@nestjs/core';
import { AppModule } from './app.module';
import express from 'express';
import { RpcExceptionFilter } from './common/filters/rpc-exception.filter';
import { GlobalExceptionFilter } from './common/filters/global-exception.filter';
import { TransformResponseInterceptor } from './common/interceptors/transform-response.interceptor';
import CookieParser from 'cookie-parser';
async function bootstrap() {
	const app = await NestFactory.create(AppModule);

	app.setGlobalPrefix('api/v1');
	app.use(express.json({ limit: '10mb' }));
	app.use(express.urlencoded({ limit: '10mb', extended: true }));

	// Register exception filters
	app.useGlobalFilters(new RpcExceptionFilter(), new GlobalExceptionFilter());

	// Register interceptors
	app.useGlobalInterceptors(new TransformResponseInterceptor());

	app.enableCors({
		origin: '*',
		methods: 'GET,HEAD,PUT,PATCH,POST,DELETE,OPTIONS',
		credentials: true,
	});

	// Register Cookie Parser middleware
	app.use(CookieParser());

	await app.listen(parseInt(process.env.PORT, 10) ?? 8888);

	process.on('SIGINT', () => {
		console.log('SIGINT received. Shutting down gracefully...');
		app.close().then(() => process.exit(0));
	});
	process.on('SIGTERM', () => {
		console.log('SIGTERM received. Shutting down gracefully...');
		app.close().then(() => process.exit(0));
	});
}
bootstrap()
	.then(() => {
		console.log(`API Gateway is running on port ${process.env.PORT || 8888}`);
	})
	.catch((err) => {
		console.error('Error starting API Gateway', err);
	});
</file>

<file path="src/backend/api-gateway/src/services/identity/identity.controller.ts">
import { ApiResponse } from '@shared/types';
import {
	Body,
	Controller,
	Get,
	Inject,
	Post,
	HttpStatus,
	Res,
	UseGuards,
	Param,
	Req,
} from '@nestjs/common';
import { ConfigService } from '@nestjs/config';
import { ClientProxy } from '@nestjs/microservices';
import type { Request, Response } from 'express';
import { firstValueFrom } from 'rxjs';
import AppException from '@shared/exceptions/app-exception';
import ErrorCode from '@shared/exceptions/error-code';
import Role from 'src/common/guards/check-role/check-role.guard';
import { AuthGuard } from 'src/common/guards/get-role/auth.guard';

@Controller('identity')
export class IdentityController {
	constructor(
		@Inject('IDENTITY_SERVICE') private readonly identityClient: ClientProxy,
		private readonly configService: ConfigService,
	) {}

	@Post('users/register')
	registerUser(@Body() data: any) {
		return this.identityClient.send('users:register', {
			...data,
			identityApiKey: this.configService.get('IDENTITY_API_KEY'),
		});
	}

	@UseGuards(AuthGuard)
	@Get('users/my-user')
	getMyUser(@Req() req: Request) {
		const userId = (req as any).user?.userId;
		if (!userId) {
			throw new AppException(ErrorCode.UNAUTHORIZED);
		}
		return this.identityClient.send('users:get-user-by-id', {
			userId,
			identityApiKey: this.configService.get('IDENTITY_API_KEY'),
		});
	}

	@UseGuards(AuthGuard, Role('ADMIN'))
	@Get('users/get-all-users')
	getAllUsers() {
		return this.identityClient.send('users:get-all-users', {
			identityApiKey: this.configService.get('IDENTITY_API_KEY'),
		});
	}

	@Get('users/get-user-by-id/:userId')
	@UseGuards(AuthGuard, Role('ADMIN'))
	getUserById(@Param('userId') userId: string) {
		return this.identityClient.send('users:get-user-by-id', {
			userId,
			identityApiKey: this.configService.get('IDENTITY_API_KEY'),
		});
	}

	@Post('roles/create-role')
	@UseGuards(AuthGuard, Role('ADMIN'))
	createRole(@Body() data: any) {
		return this.identityClient.send('roles:create-role', {
			...data,
			identityApiKey: this.configService.get('IDENTITY_API_KEY'),
		});
	}

	@Get('roles/get-all-roles')
	@UseGuards(AuthGuard, Role('ADMIN'))
	getAllRoles() {
		return this.identityClient.send('roles:get-all-roles', {
			identityApiKey: this.configService.get('IDENTITY_API_KEY'),
		});
	}

	@Post('authorities/create-authority')
	@UseGuards(AuthGuard, Role('ADMIN'))
	createAuthority(@Body() data: any) {
		return this.identityClient.send('authorities:create-authority', {
			...data,
			identityApiKey: this.configService.get('IDENTITY_API_KEY'),
		});
	}

	@Get('authorities/get-all-authorities')
	@UseGuards(AuthGuard, Role('ADMIN'))
	getAllAuthorities() {
		return this.identityClient.send('authorities:get-all-authorities', {
			identityApiKey: this.configService.get('IDENTITY_API_KEY'),
		});
	}

	@Post('auth/login')
	async login(@Body() data: any, @Res() res: Response) {
		const observableResponse = this.identityClient.send('auth:login', {
			...data,
			identityApiKey: this.configService.get('IDENTITY_API_KEY'),
		});
		const response = await firstValueFrom(observableResponse);

		if (!response || !response.code || response.code !== HttpStatus.OK) {
			return res.status(response?.code || HttpStatus.UNAUTHORIZED).json(response);
		}

		const convertData: {
			code: number;
			message: string;
			data: {
				userId: string;
				username: string;
				email: string;
				roles: string[];
				accessToken: string;
				refreshToken: string;
			};
		} = response;

		const refreshTokenExpiry = this.configService.get<number>('REFRESH_TOKEN_EXPIRES_IN');

		res.cookie('refreshToken', convertData.data.refreshToken, {
			httpOnly: true,
			maxAge: refreshTokenExpiry,
			sameSite: process.env.MOD === 'production' ? 'none' : 'lax',
			secure: process.env.MOD === 'production' ? true : false,
			path: '/',
		});

		const type = convertData.data.roles.includes('ADMIN') ? 'admin' : 'user';
		res.cookie('type', type, {
			httpOnly: false,
			maxAge: refreshTokenExpiry,
			sameSite: process.env.MOD === 'production' ? 'none' : 'lax',
			secure: process.env.MOD === 'production' ? true : false,
			path: '/',
		});

		return res.status(HttpStatus.OK).json(
			new ApiResponse<any>({
				code: 1000,
				message: response.message,
				data: {
					userId: convertData.data.userId,
					username: convertData.data.username,
					email: convertData.data.email,
					roles: convertData.data.roles,
					accessToken: convertData.data.accessToken,
				},
			}),
		);
	}

	@Get('auth/refresh')
	async refreshToken(@Req() req: Request, @Res() res: Response) {
		const refreshToken = req.cookies['refreshToken'];

		if (!refreshToken) {
			throw new AppException(ErrorCode.UNAUTHORIZED);
		}

		const observableResponse = this.identityClient.send('auth:refresh-token', {
			refreshToken,
			identityApiKey: this.configService.get('IDENTITY_API_KEY'),
		});
		const response = await firstValueFrom(observableResponse);

		if (!response || !response.code || response.code !== 1000) {
			return res.status(response?.code || HttpStatus.UNAUTHORIZED).json(response);
		}

		const convertData: {
			code: number;
			message: string;
			data: {
				userId: string;
				username: string;
				email: string;
				roles: string[];
				accessToken: string;
			};
		} = response;

		return res.status(HttpStatus.OK).json(
			new ApiResponse<any>({
				code: 1000,
				message: response.message,
				data: {
					userId: convertData.data.userId,
					username: convertData.data.username,
					email: convertData.data.email,
					roles: convertData.data.roles,
					accessToken: convertData.data.accessToken,
				},
			}),
		);
	}

	@UseGuards(AuthGuard)
	@Get('auth/me')
	me(@Req() req: Request) {
		const user: any = req.user;
		if (!user) {
			throw new AppException(ErrorCode.UNAUTHORIZED);
		}
		return this.identityClient.send('auth:me', {
			userId: user.userId,
			identityApiKey: this.configService.get('IDENTITY_API_KEY'),
		});
	}

	@UseGuards(AuthGuard)
	@Get('auth/logout')
	async logout(@Res() res: Response, @Req() req: Request) {
		const user: any = req.user;
		const accessToken = req.headers.authorization?.replace('Bearer ', '');
		const refreshToken = req.cookies['refreshToken'];

		if (!user || !accessToken) {
			throw new AppException(ErrorCode.UNAUTHORIZED);
		}

		await firstValueFrom(
			this.identityClient.send('auth:logout', {
				accessToken,
				refreshToken,
				userId: user.userId,
				identityApiKey: this.configService.get('IDENTITY_API_KEY'),
			}),
		);

		res.clearCookie('refreshToken', {
			httpOnly: true,
			sameSite: process.env.MOD === 'production' ? 'none' : 'lax',
			secure: process.env.MOD === 'production' ? true : false,
			path: '/',
		});

		res.clearCookie('type', {
			httpOnly: false,
			sameSite: process.env.MOD === 'production' ? 'none' : 'lax',
			secure: process.env.MOD === 'production' ? true : false,
			path: '/',
		});

		return res.status(HttpStatus.OK).json(
			new ApiResponse<any>({
				code: 1000,
				message: 'Logout successful',
			}),
		);
	}
}
</file>

<file path="src/backend/identity/.env.example">
PORT=8080

HOST_DB=
PORT_DB=
USERNAME_DB=
PASSWORD_DB=
DATABASE_DB=

X_API_KEY=

IDENTITY_API_KEY=
PROFILE_API_KEY=
</file>

<file path="src/backend/identity/package.json">
{
  "name": "identity",
  "version": "0.0.1",
  "description": "",
  "author": "",
  "private": true,
  "license": "UNLICENSED",
  "scripts": {
    "build": "nest build",
    "format": "prettier --write \"src/**/*.ts\" \"test/**/*.ts\"",
    "start": "nest start",
    "start:dev": "nest start --watch",
    "start:debug": "nest start --debug --watch",
    "start:prod": "node dist/identity/src/main",
    "lint": "eslint \"{src,apps,libs,test}/**/*.ts\" --fix",
    "test": "jest",
    "test:watch": "jest --watch",
    "test:cov": "jest --coverage",
    "test:debug": "node --inspect-brk -r tsconfig-paths/register -r ts-node/register node_modules/.bin/jest --runInBand",
    "test:e2e": "jest --config ./test/jest-e2e.json"
  },
  "dependencies": {
    "@nestjs/common": "^11.0.1",
    "@nestjs/config": "^4.0.2",
    "@nestjs/core": "^11.0.1",
    "@nestjs/microservices": "^11.1.9",
    "@nestjs/platform-express": "^11.0.1",
    "@nestjs/typeorm": "^11.0.0",
    "@types/winston": "^2.4.4",
    "amqplib": "^0.10.9",
    "bcrypt": "^6.0.0",
    "class-transformer": "^0.5.1",
    "class-validator": "^0.14.2",
    "dotenv": "^17.2.3",
    "express": "^5.1.0",
    "nest-winston": "^1.10.2",
    "pg": "^8.16.3",
    "reflect-metadata": "^0.2.2",
    "rxjs": "^7.8.1",
    "typeorm": "^0.3.27",
    "winston": "^3.18.3",
    "winston-daily-rotate-file": "^5.0.0"
  },
  "devDependencies": {
    "@eslint/eslintrc": "^3.2.0",
    "@eslint/js": "^9.18.0",
    "@nestjs/cli": "^11.0.0",
    "@nestjs/jwt": "^11.0.2",
    "@nestjs/passport": "^11.0.5",
    "@nestjs/schematics": "^11.0.0",
    "@nestjs/testing": "^11.0.1",
    "@types/express": "^5.0.0",
    "@types/jest": "^30.0.0",
    "@types/node": "^22.10.7",
    "@types/passport": "^1.0.17",
    "@types/passport-jwt": "^4.0.1",
    "@types/supertest": "^6.0.2",
    "eslint": "^9.18.0",
    "eslint-config-prettier": "^10.0.1",
    "eslint-plugin-prettier": "^5.2.2",
    "globals": "^16.0.0",
    "jest": "^30.0.0",
    "passport": "^0.7.0",
    "passport-jwt": "^4.0.1",
    "prettier": "^3.4.2",
    "source-map-support": "^0.5.21",
    "supertest": "^7.0.0",
    "ts-jest": "^29.2.5",
    "ts-loader": "^9.5.2",
    "ts-node": "^10.9.2",
    "tsconfig-paths": "^4.2.0",
    "typescript": "^5.7.3",
    "typescript-eslint": "^8.20.0"
  },
  "jest": {
    "moduleFileExtensions": [
      "js",
      "json",
      "ts"
    ],
    "rootDir": "src",
    "testRegex": ".*\\.spec\\.ts$",
    "transform": {
      "^.+\\.(t|j)s$": "ts-jest"
    },
    "collectCoverageFrom": [
      "**/*.(t|j)s"
    ],
    "coverageDirectory": "../coverage",
    "testEnvironment": "node"
  }
}
</file>

<file path="src/backend/identity/src/authorities/authorities.controller.ts">
import { Controller } from '@nestjs/common';
import { MessagePattern } from '@nestjs/microservices';
import { AuthoritiesService } from 'src/authorities/authorities.service';
import CreateAuthorityRequestDto from 'src/authorities/dtos/request/create-authority-request.dto';
import HttpResponse from '@shared/utils/http-response';
import { ConfigService } from '@nestjs/config';
import AppException from '@shared/exceptions/app-exception';
import ErrorCode from '@shared/exceptions/error-code';
import { GetAllAuthoritiesRequestDto } from 'src/authorities/dtos/request/get-all-authorities-request.dto';

@Controller('authorities')
export class AuthoritiesController {
	constructor(
		private readonly authoritiesService: AuthoritiesService,
		private readonly config: ConfigService,
	) {}

	@MessagePattern('authorities:get-all-authorities')
	async getAllAuthorities(data: GetAllAuthoritiesRequestDto): Promise<HttpResponse> {
		const expectedApiKey = this.config.get<string>('IDENTITY_API_KEY');
		if (data.identityApiKey !== expectedApiKey) {
			throw new AppException(ErrorCode.UNAUTHORIZED);
		}
		return new HttpResponse(
			200,
			'Get all authorities successful',
			await this.authoritiesService.getAllAuthorities(),
		);
	}

	@MessagePattern('authorities:create-authority')
	async createAuthority(data: CreateAuthorityRequestDto): Promise<HttpResponse> {
		const expectedApiKey = this.config.get<string>('IDENTITY_API_KEY');
		if (data.identityApiKey !== expectedApiKey) {
			throw new AppException(ErrorCode.UNAUTHORIZED);
		}
		return new HttpResponse(
			200,
			'Create authority successful',
			await this.authoritiesService.createAuthority(data),
		);
	}
}
</file>

<file path="src/backend/identity/src/authorities/authorities.module.ts">
import { Module } from '@nestjs/common';
import { AuthoritiesService } from './authorities.service';
import { AuthoritiesController } from './authorities.controller';
import { TypeOrmModule } from '@nestjs/typeorm';
import { Authority } from 'src/common/entities/authority';

@Module({
	imports: [TypeOrmModule.forFeature([Authority])],
	providers: [AuthoritiesService],
	controllers: [AuthoritiesController],
	exports: [AuthoritiesService],
})
export class AuthoritiesModule {}
</file>

<file path="src/backend/identity/src/authorities/authorities.service.ts">
import { Injectable } from '@nestjs/common';
import { InjectRepository } from '@nestjs/typeorm';
import CreateAuthorityRequestDto from 'src/authorities/dtos/request/create-authority-request.dto';
import GetAuthorityResponseDto from 'src/authorities/dtos/response/get-authority-response.dto';
import { Authority } from 'src/common/entities/authority';

import { Repository } from 'typeorm';
import ErrorCode from '@shared/exceptions/error-code';
import AppException from '@shared/exceptions/app-exception';
import { AuthorityEnum } from '@shared/utils/enum';

@Injectable()
export class AuthoritiesService {
	constructor(
		@InjectRepository(Authority)
		private readonly authorityRepository: Repository<Authority>,
	) {}
	//add necessary methods for authority service
	async getAllAuthorities(): Promise<GetAuthorityResponseDto[]> {
		const authorities = await this.authorityRepository.find();
		return authorities.map(
			(authority) =>
				new GetAuthorityResponseDto({
					name: AuthorityEnum[authority.name],
					description: authority.description,
				}),
		);
	}

	async getAuthorityById(name: number): Promise<Authority | null> {
		const authority = await this.authorityRepository.findOneBy({ name });
		if (!authority) {
			return null;
		}
		return authority;
	}

	async createAuthority(
		createAuthorityRequestDto: CreateAuthorityRequestDto,
	): Promise<GetAuthorityResponseDto> {
		const authorityName = createAuthorityRequestDto.name;
		const authorityEnumValue = AuthorityEnum[authorityName as keyof typeof AuthorityEnum];

		if (authorityEnumValue === undefined) {
			throw new AppException(ErrorCode.AUTHORITY_NOT_FOUND);
		}

		try {
			const savedAuthority = await this.authorityRepository.save({
				name: authorityEnumValue,
				description: createAuthorityRequestDto?.description,
			});
			return new GetAuthorityResponseDto({
				name: AuthorityEnum[savedAuthority.name],
				description: savedAuthority.description,
			});
		} catch (err) {
			console.error('Error creating authority:', err);
			throw new AppException(ErrorCode.AUTHORITY_CREATION_FAILED);
		}
	}

	async deleteAuthority(name: string): Promise<void> {
		const nameInt: number = AuthorityEnum[name as keyof typeof AuthorityEnum];
		await this.authorityRepository.delete({ name: nameInt });
	}
}
</file>

<file path="src/backend/identity/src/main.ts">
import { NestFactory } from '@nestjs/core';
import { AppModule } from './app.module';
import { MicroserviceOptions, Transport, RpcException } from '@nestjs/microservices';
import { ValidationPipe } from '@nestjs/common';
import ErrorCode from '@shared/exceptions/error-code';
import { GlobalExceptionFilter } from 'src/common/filters/global-exception/global-exception.filter';

async function bootstrap() {
	const app = await NestFactory.createMicroservice<MicroserviceOptions>(AppModule, {
		transport: Transport.TCP,
		options: {
			port: parseInt(process.env.PORT, 10),
		},
	});

	app.useGlobalPipes(
		new ValidationPipe({
			transform: true,
			whitelist: true,
			forbidNonWhitelisted: true,
			exceptionFactory: (errors) => {
				const messages = errors.map((err) => {
					return {
						[err.property]: Object.values(err.constraints),
					};
				});
				throw new RpcException({
					code: ErrorCode.VALIDATION_FAILED.code,
					message: 'Validation failed',
					status: ErrorCode.VALIDATION_FAILED.httpStatus,
					errors: messages,
				});
			},
		}),
	);

	app.useGlobalFilters(new GlobalExceptionFilter());

	await app.listen();

	process.on('SIGINT', () => {
		console.log('SIGINT received. Shutting down gracefully...');
		app.close().then(() => process.exit(0));
	});
	process.on('SIGTERM', () => {
		console.log('SIGTERM received. Shutting down gracefully...');
		app.close().then(() => process.exit(0));
	});
}
bootstrap()
	.then(() => {
		console.log(`Microservice is running on port ${process.env.PORT}`);
	})
	.catch((err) => {
		console.error('Error starting the microservice', err);
	});
</file>

<file path="src/backend/identity/src/roles/roles.controller.ts">
import { Controller } from '@nestjs/common';
import { MessagePattern } from '@nestjs/microservices';
import CreateRoleRequestDto from 'src/roles/dtos/request/create-role-request.dto';
import { RolesService } from 'src/roles/roles.service';
import HttpResponse from '@shared/utils/http-response';
import { ConfigService } from '@nestjs/config';
import AppException from '@shared/exceptions/app-exception';
import ErrorCode from '@shared/exceptions/error-code';
import { GetAllRolesRequestDto } from 'src/roles/dtos/request/get-all-roles-request.dto';

@Controller()
export class RolesController {
	constructor(
		private readonly rolesService: RolesService,
		private readonly config: ConfigService,
	) {}

	@MessagePattern('roles:get-all-roles')
	async getAllRoles(data: GetAllRolesRequestDto): Promise<HttpResponse> {
		const expectedApiKey = this.config.get<string>('IDENTITY_API_KEY');
		if (data.identityApiKey !== expectedApiKey) {
			throw new AppException(ErrorCode.UNAUTHORIZED);
		}
		return new HttpResponse(
			200,
			'Get all roles successful',
			await this.rolesService.getAllRoles(),
		);
	}

	@MessagePattern('roles:create-role')
	async createRole(data: CreateRoleRequestDto): Promise<HttpResponse> {
		const expectedApiKey = this.config.get<string>('IDENTITY_API_KEY');
		if (data.identityApiKey !== expectedApiKey) {
			throw new AppException(ErrorCode.UNAUTHORIZED);
		}
		return new HttpResponse(
			200,
			'Create role successful',
			await this.rolesService.createRole(data),
		);
	}
}
</file>

<file path="src/backend/identity/src/roles/roles.module.ts">
import { Module } from '@nestjs/common';
import { RolesController } from './roles.controller';
import { RolesService } from './roles.service';
import { TypeOrmModule } from '@nestjs/typeorm';
import { Role } from 'src/common/entities/role';
import { AuthoritiesModule } from 'src/authorities/authorities.module';

@Module({
	imports: [TypeOrmModule.forFeature([Role]), AuthoritiesModule],
	controllers: [RolesController],
	providers: [RolesService],
	exports: [RolesService],
})
export class RolesModule {}
</file>

<file path="src/backend/identity/src/users/users.controller.ts">
import { Controller } from '@nestjs/common';
import { MessagePattern } from '@nestjs/microservices';
import { UsersService } from 'src/users/users.service';
import HttpResponse from '@shared/utils/http-response';
import { ConfigService } from '@nestjs/config';
import AppException from '@shared/exceptions/app-exception';
import ErrorCode from '@shared/exceptions/error-code';
import RegisterUserWithProfileRequestDto from 'src/users/dtos/request/register-user-with-profile-request.dto';
import { GetAllUsersRequestDto } from 'src/users/dtos/request/get-all-users-request.dto';
import { GetUserByIdRequestDto } from 'src/users/dtos/request/get-user-by-id-request.dto';

@Controller()
export class UsersController {
	constructor(
		private readonly usersService: UsersService,
		private readonly config: ConfigService,
	) {}

	@MessagePattern('users:register')
	async registerUser(data: RegisterUserWithProfileRequestDto): Promise<HttpResponse> {
		const expectedApiKey = this.config.get<string>('IDENTITY_API_KEY');
		if (data.identityApiKey !== expectedApiKey) {
			throw new AppException(ErrorCode.UNAUTHORIZED);
		}
		return new HttpResponse(
			200,
			'Register successful',
			await this.usersService.Register(data),
		);
	}

	@MessagePattern('users:get-all-users')
	async getAllUsers(data: GetAllUsersRequestDto): Promise<HttpResponse> {
		const expectedApiKey = this.config.get<string>('IDENTITY_API_KEY');
		if (data.identityApiKey !== expectedApiKey) {
			throw new AppException(ErrorCode.UNAUTHORIZED);
		}
		return new HttpResponse(
			200,
			'Get all users successful',
			await this.usersService.getAllUsers(),
		);
	}

	@MessagePattern('users:get-user-by-id')
	async getUserById(data: GetUserByIdRequestDto): Promise<HttpResponse> {
		const expectedApiKey = this.config.get<string>('IDENTITY_API_KEY');
		if (data.identityApiKey !== expectedApiKey) {
			throw new AppException(ErrorCode.UNAUTHORIZED);
		}
		return new HttpResponse(
			200,
			'Get user by id successful',
			await this.usersService.getUserById(data.userId),
		);
	}
}
</file>

<file path="src/backend/identity/src/app.module.ts">
import { Module } from '@nestjs/common';
import { AppController } from './app.controller';
import { AppService } from './app.service';
import { UsersModule } from './users/users.module';
import { RolesModule } from './roles/roles.module';
import { TypeOrmModule } from '@nestjs/typeorm';
import { User } from 'src/common/entities/user';
import { Authority } from 'src/common/entities/authority';
import { Role } from 'src/common/entities/role';
import { ConfigModule } from '@nestjs/config';
import { AuthoritiesModule } from 'src/authorities/authorities.module';
import { AuthModule } from './auth/auth.module';
import { RemoveToken } from 'src/common/entities/remove-token';

@Module({
	imports: [
		ConfigModule.forRoot({ isGlobal: true }),
		TypeOrmModule.forRoot({
			type: 'postgres',
			host: process.env.HOST_DB,
			port: process.env.PORT_DB ? parseInt(process.env.PORT_DB) : 5432,
			username: process.env.USERNAME_DB,
			password: process.env.PASSWORD_DB,
			database: process.env.DATABASE_DB,
			entities: [User, Role, Authority, RemoveToken], // add your entity here

			synchronize: true,
		}),
		UsersModule,
		RolesModule,
		AuthoritiesModule,
		AuthModule,
	],
	controllers: [AppController],
	providers: [AppService],
})
export class AppModule {}
</file>

<file path="src/backend/identity/src/users/users.module.ts">
import { Module } from '@nestjs/common';
import { TypeOrmModule } from '@nestjs/typeorm';
import { ClientsModule, Transport } from '@nestjs/microservices';
import { ConfigModule, ConfigService } from '@nestjs/config';
import { User } from 'src/common/entities/user';
import { UsersController } from './users.controller';
import { UsersService } from './users.service';
import { RolesModule } from 'src/roles/roles.module';

@Module({
	imports: [
		TypeOrmModule.forFeature([User]),
		RolesModule,
		ClientsModule.registerAsync([
			{
				name: 'PROFILE_SERVICE',
				imports: [ConfigModule],
				inject: [ConfigService],
				useFactory: (configService: ConfigService) => ({
					transport: Transport.TCP,
					options: {
						host: configService.get<string>('HOST_PROFILE_SERVICE') || 'localhost',
						port: configService.get<number>('PORT_PROFILE_SERVICE') || 8081,
					},
				}),
			},
		]),
	],
	controllers: [UsersController],
	providers: [UsersService],
})
export class UsersModule {}
</file>

<file path="src/backend/identity/src/users/users.service.ts">
import { Injectable } from '@nestjs/common';
import { InjectRepository } from '@nestjs/typeorm';
import { User } from 'src/common/entities/user';
import RegisterResponse from 'src/users/dtos/response/register-user-response.dto';
import { Repository } from 'typeorm';
import * as bcrypt from 'bcrypt';
import { RolesService } from 'src/roles/roles.service';
import { AuthorityEnum, RoleEnum } from '@shared/utils/enum';
import { Role } from 'src/common/entities/role';
import AppException from '@shared/exceptions/app-exception';
import ErrorCode from '@shared/exceptions/error-code';
import GetRoleResponseDto from 'src/roles/dtos/response/get-role-response.dto';
import GetAuthorityResponseDto from 'src/authorities/dtos/response/get-authority-response.dto';
import { GetUserResponseDto } from 'src/users/dtos/response/get-user-response.dto';
import RegisterUserResponseDto from 'src/users/dtos/response/register-user-response.dto';
import { ClientProxy } from '@nestjs/microservices';
import { Inject } from '@nestjs/common';
import { firstValueFrom } from 'rxjs';
import RegisterUserWithProfileRequestDto from 'src/users/dtos/request/register-user-with-profile-request.dto';
import { extractFields } from '@shared/utils/utils';

@Injectable()
export class UsersService {
	private readonly PROFILE_FIELDS = [
		'birthDay',
		'phoneNumber',
		'address',
		'restaurantName',
		'businessAddress',
		'contractNumber',
		'contractEmail',
		'cardHolderName',
		'accountNumber',
		'expirationDate',
		'cvv',
		'frontImage',
		'backImage',
	];

	constructor(
		@InjectRepository(User) private readonly userRepository: Repository<User>,
		private readonly rolesService: RolesService,
		@Inject('PROFILE_SERVICE') private readonly profileClient: ClientProxy,
	) {}

	async Register(
		data: RegisterUserWithProfileRequestDto,
	): Promise<RegisterUserResponseDto> {
		const rolesString = data.roles || ['USER'];
		if (!rolesString.includes('USER')) {
			rolesString.push('USER');
		}
		const roles: Role[] = [];
		for (const role of rolesString) {
			const roleInt: number = RoleEnum[role as keyof typeof RoleEnum];
			const roleInRepo = await this.rolesService.getRoleById(roleInt);
			if (!roleInRepo) {
				throw new AppException(ErrorCode.ROLE_NOT_FOUND);
			}
			roles.push(roleInRepo);
		}

		const user = this.userRepository.create({
			username: data.username,
			email: data.email,
			password: await bcrypt.hash(data.password, 10),
			roles: roles,
		});
		try {
			const savedUser = await this.userRepository.save(user);
			const response = new RegisterResponse();
			response.userId = savedUser.userId;
			response.username = savedUser.username;
			response.email = savedUser.email;
			response.roles = savedUser.roles.map((role) => {
				const dto = new GetRoleResponseDto();
				dto.name = RoleEnum[role.name];
				dto.description = role.description;
				dto.authorities = role.authorities.map((authority) => {
					return new GetAuthorityResponseDto({
						name: AuthorityEnum[authority.name],
						description: authority.description,
					});
				});
				return dto;
			});

			try {
				const profileData = {
					userId: savedUser.userId,
					profileApiKey: process.env.PROFILE_API_KEY,
					...extractFields(data, this.PROFILE_FIELDS),
				};

				const profile: any = await firstValueFrom(
					this.profileClient.send('profiles:modify-profile', profileData),
				);

				if (!profile || !profile.userId) {
					await this.userRepository.delete({ userId: savedUser.userId });
					throw new AppException(ErrorCode.PROFILE_SERVICE_ERROR);
				}
			} catch (err) {
				await this.userRepository.delete({ userId: savedUser.userId });
				if (err instanceof AppException) {
					throw err;
				}
				console.error('Error calling profile service:', err);
				throw new AppException(ErrorCode.PROFILE_SERVICE_ERROR);
			}

			return response;
		} catch (err) {
			console.error('Error saving user:', err);
			throw new AppException(ErrorCode.USER_ALREADY_EXISTS);
		}
	}

	async getAllUsers(): Promise<GetUserResponseDto[]> {
		const users = await this.userRepository.find({
			relations: ['roles', 'roles.authorities'],
		});
		return users.map((user) => {
			const dto = new GetUserResponseDto();
			dto.userId = user.userId;
			dto.username = user.username;
			dto.email = user.email;
			dto.roles = user.roles.map((role) => {
				const roleDto = new GetRoleResponseDto();
				roleDto.name = RoleEnum[role.name];
				roleDto.description = role.description;
				roleDto.authorities = role.authorities.map((authority) => {
					return new GetAuthorityResponseDto({
						name: AuthorityEnum[authority.name],
						description: authority.description,
					});
				});
				return roleDto;
			});
			return dto;
		});
	}

	async getUserById(userId: string): Promise<GetUserResponseDto | null> {
		const user = await this.userRepository.findOne({
			where: { userId },
			relations: ['roles', 'roles.authorities'],
		});
		if (!user) {
			return null;
		}
		const dto = new GetUserResponseDto();
		dto.userId = user.userId;
		dto.username = user.username;
		dto.email = user.email;
		dto.roles = user.roles.map((role) => {
			const roleDto = new GetRoleResponseDto();
			roleDto.name = RoleEnum[role.name];
			roleDto.description = role.description;
			roleDto.authorities = role.authorities.map((authority) => {
				return new GetAuthorityResponseDto({
					name: AuthorityEnum[authority.name],
					description: authority.description,
				});
			});
			return roleDto;
		});
		return dto;
	}
}
</file>

<file path="src/backend/api-gateway/src/app.module.ts">
import { MiddlewareConsumer, Module, NestModule } from '@nestjs/common';
import { AppController } from './app.controller';
import { AppService } from './app.service';
import { ClientsModule, Transport } from '@nestjs/microservices';
import { IdentityController } from './services/identity/identity.controller';
import { ConfigModule } from '@nestjs/config';
import { LoggerMiddleware } from 'src/common/middleware/logger/logger.middleware';
import { ProfileController } from './services/profile/profile.controller';
import { RateLimitMiddleware } from 'src/common/middleware/rate-limit/rate-limit.middleware';
import { TableController } from './services/table/table.controller';

@Module({
	imports: [
		ConfigModule.forRoot({ isGlobal: true }),
		ClientsModule.register([
			{
				name: 'IDENTITY_SERVICE',
				transport: Transport.TCP,
				options: {
					host: process.env.HOST_IDENTITY_SERVICE || 'localhost',
					port: +process.env.PORT_IDENTITY_SERVICE || 8080,
				},
			},
			{
				name: 'PROFILE_SERVICE',
				transport: Transport.TCP,
				options: {
					host: process.env.HOST_PROFILE_SERVICE || 'localhost',
					port: +process.env.PORT_PROFILE_SERVICE || 8081,
				},
			},
			{
				name: 'PRODUCT_SERVICE',
				transport: Transport.TCP,
				options: {
					host: process.env.HOST_PRODUCT_SERVICE || 'localhost',
					port: +process.env.PORT_PRODUCT_SERVICE || 8082,
				},
			},
			{
				name: 'TABLE_SERVICE',
				transport: Transport.TCP,
				options: {
					host: process.env.HOST_TABLE_SERVICE || 'localhost',
					port: +process.env.PORT_TABLE_SERVICE || 8083,
				},
			},
		]),
	],
	controllers: [AppController, IdentityController, ProfileController, TableController],
	providers: [AppService],
})
export class AppModule implements NestModule {
	configure(consumer: MiddlewareConsumer) {
		consumer.apply(LoggerMiddleware, RateLimitMiddleware).forRoutes('*');
	}
}
</file>

</files>
